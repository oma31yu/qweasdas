/*! For license information please see api.js.LICENSE.txt */
(function(){var __webpack_modules__={16104:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var u=navigator.userAgent.toLowerCase(),l=u.match(/(opera|ie|edge|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],d=l[1],p=parseInt(l[2],10),h="ie"===d&&p<8&&/trident/i.test(u),g=!!u.match(/android|webos|iphone|ipad|ipod|blackBerry|windows phone|opera mini|iemobile/i),v=!!u.match(/applewebkit/),y=/^((?!android|chrome).)*safari/i.test(navigator.userAgent),S=!(!window.chrome||!window.chrome.runtime||"[object Function]"!==Object.prototype.toString.call(window.chrome.runtime.getManifest)),w=!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,E=u.match(/(iPad)/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;u.match(/trident.*rv[ :]*11\./)&&(d="ie",p=11),u.match(/edge/)&&(d="edge"),"version"===d&&(d=l[3]);var R={browser:d,version:p,compatibilityMode:h,isMobile:g,isChromeApp:S,isAppleWebKit:v,isValidDOCTYPE:function isValidDOCTYPE(t){return!(!t||!t.doctype||"html"!==t.doctype.name)},isIOS:w,isIPad:E,isMicrosoft:"ie"===d||"edge"===d,isWindows:!(!window.navigator||!window.navigator.platform)&&["Windows","Win32","Win64","WinCE"].indexOf(window.navigator.platform)>-1,isMac:navigator.platform.toUpperCase().indexOf("MAC")>=0&&!navigator.maxTouchPoints,isSafari:y};i.default=R},49459:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.URI_SAFE_ATTRIBUTES=i.DATA_URI_UNSAFE_ATTRIBUTES=i.DATA_URI_SAFE_TAGS=i.ATTR_WHITESPACE=void 0;var u=["audio","video","img","source","image","track"];i.DATA_URI_SAFE_TAGS=u;var l=["href","xlink:href","src","data"];i.DATA_URI_UNSAFE_ATTRIBUTES=l;var d=["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"];i.URI_SAFE_ATTRIBUTES=d;var p=Object.seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);i.ATTR_WHITESPACE=p;var h={mimeType:"text/html",imageText:" - image - ",imageWithAltText:" image with description ",imageWithoutAltText:" image without description ",blackListedTags:["script","style","textarea"],blackListedTagsWithoutChildNodes:["msub","msup","msubsup","mover","munder","munderover","mmultiscripts"],blackListedAttributes:["seeksegmenttime","fscommand","display"],blackListedRegex:/^on/i,blackListedContent:{javascript_keyword:["javascript:","javascript&colon;"]},ATTR_WHITESPACE:p,URI_SAFE_ATTRIBUTES:d,DATA_URI_SAFE_TAGS:u,DATA_URI_UNSAFE_ATTRIBUTES:l};i.default=h},40519:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(62562));var d={removeElement:function removeElement(t){t.parentNode.removeChild(t)},getElementAttributes:function getElementAttributes(t){for(var i=t.attributes,u=i.length,l=[],d=0;d<u;d++)l.push(i[d].name);return l},processElements:function processElements(t,i){l.default.forEach(t,(function(t){return i(t),t}))},getParsableData:function getParsableData(t,i){var u=(new DOMParser).parseFromString(t,"text/html"),d=l.default.isString(i)?i:"*",p=u.querySelectorAll(d);return!(function hasParserErrors(t){return t.getElementsByTagName("parsererror").length>0}(u)||!function hasHtmlContent(t){return t.length>0}(p))&&{elements:p,dom:u}},mergeTempDomContent:function mergeTempDomContent(t){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?function getHeadHTML(t){var i=t.parentElement.querySelector("head").childNodes,u="";return i.length&&l.default.each(i,(function(t){3===t.nodeType&&(u+=t.textContent),1===t.nodeType&&"META"!==t.tagName&&(u+=t.innerHTML)})),u}(t.head)+t.body.innerHTML:t.head.innerText+t.body.innerText}};i.default=d},42165:function(t,i,u){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(62562)),d=function _interopRequireWildcard(t,i){if(!i&&t&&t.__esModule)return t;if(null===t||"object"!=_typeof(t)&&"function"!=typeof t)return{default:t};var u=_getRequireWildcardCache(i);if(u&&u.has(t))return u.get(t);var l={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&{}.hasOwnProperty.call(t,p)){var h=d?Object.getOwnPropertyDescriptor(t,p):null;h&&(h.get||h.set)?Object.defineProperty(l,p,h):l[p]=t[p]}return l.default=t,u&&u.set(t,l),l}(u(49459)),p=_interopRequireDefault(u(40519));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var i=new WeakMap,u=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?u:i})(t)}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function getParsableData(t){return p.default.getParsableData(t,"*:not(body):not(head):not(html)")}function removeBlacklistedAttributes(t){var i=p.default.getElementAttributes(t);i.length&&l.default.each(i,(function(i){!function removeOnEventAttributes(t,i){d.default.blackListedRegex.test(i)&&t.removeAttribute(i)}(t,i),function removeBlacklistedAttribute(t,i){l.default.contains(d.default.blackListedAttributes,i.toLowerCase())&&t.removeAttribute(i)}(t,i)}))}function removeBlackListedElementWithoutChildNodes(t){l.default.contains(d.default.blackListedTagsWithoutChildNodes,t.nodeName.toLowerCase())&&function elementHasNoOrOnlyEmptyChildNodes(t){if(!t.hasChildNodes())return!0;return Array.from(t.childNodes).every((function(t){return t.nodeType===Node.TEXT_NODE&&""===t.nodeValue.trim()}))}(t)&&p.default.removeElement(t)}function removeLinks(t){var i=getParsableData(t);return i?(p.default.processElements(i.elements,(function(t){"a"===t.tagName.toLowerCase()&&(t.insertAdjacentHTML("afterEnd",t.innerHTML),p.default.removeElement(t))})),p.default.mergeTempDomContent(i.dom)):t}function sanitizeAttributesWithBlackList(t,i){var u=getParsableData(t);return u?(p.default.processElements(u.elements,(function(t){i.forEach((function(i){t.removeAttribute(i)}))})),p.default.mergeTempDomContent(u.dom)):t}function sanitizeElement(t){!function removeBlackListedElement(t){l.default.contains(d.default.blackListedTags,t.nodeName.toLowerCase())&&(t.insertAdjacentHTML("afterEnd",t.innerText),p.default.removeElement(t))}(t),removeBlackListedElementWithoutChildNodes(t),removeBlacklistedAttributes(t),function removeAttributesWithJavascriptPseudoProtocol(t){var i=d.default.blackListedContent.javascript_keyword,u=p.default.getElementAttributes(t);u.forEach((function(u){if(!l.default.contains(d.default.URI_SAFE_ATTRIBUTES,u)){var p=(t.getAttribute(u)||"").replace(/\s/g,"").toLowerCase();!p||-1!==p.indexOf("data:image/svg+xml,")||-1===p.indexOf(i[0])&&-1===p.indexOf(encodeURIComponent(i[0]).toLowerCase())||t.removeAttribute(u)}}))}(t),function sanitizeAttributesWithDataUri(t){l.default.contains(d.DATA_URI_SAFE_TAGS,t.nodeName.toLowerCase())||p.default.getElementAttributes(t).forEach((function(i){if(l.default.contains(d.DATA_URI_UNSAFE_ATTRIBUTES,i)){var u=/;base64/,p=t.getAttribute(i),h=p&&p.replace(/\s/g,"").toLowerCase(),g=h&&0===h.indexOf("data:"),v=h&&u.test(h);if(g){var y=h.slice(0,h.indexOf(",")),S=p.slice(p.indexOf(",")+1),w="";v&&(-1!==S.indexOf("#")&&(w=S.slice(S.indexOf("#")),S=S.slice(0,S.indexOf("#"))),S=atob(S));var E=sanitizeHTML(S).replace(/"/g,"'");v&&(y=y.replace(u,"")),t.setAttribute(i,"".concat(y,",").concat(E).concat(w))}}}))}(t)}function sanitizeElementsWithWhiteList(t,i){var u=getParsableData(t);return u?(p.default.processElements(u.elements,(function(t){var u=t.tagName.toLowerCase();l.default.contains(i,u)||(t.insertAdjacentHTML("afterEnd",t.innerText),p.default.removeElement(t))})),p.default.mergeTempDomContent(u.dom)):t}function sanitizePastedImagesAndMath(t,i){var u=getParsableData(t);return u?(p.default.processElements(u.elements,(function(t){var u=t.tagName.toLowerCase();(t.id.indexOf("MathJax")>-1||t.classList.contains("MathJax"))&&function sanitizePastedMath(t,i){i.shouldStrip||t.insertAdjacentText("afterEnd",i.warning),p.default.removeElement(t)}(t,i.externalMath),"img"===u&&function sanitizePastedImg(t,i){i.shouldStrip?p.default.removeElement(t):(t.setAttribute("src","#"),t.setAttribute("alt",i.warning))}(t,i.externalImages)})),p.default.mergeTempDomContent(u.dom)):t}function convertImagesToText(t){var i;i=t.hasAttribute("alt")&&""!==t.alt?"".concat(d.default.imageWithAltText).concat(t.alt," "):d.default.imageWithoutAltText,t.insertAdjacentHTML("afterEnd",i)}function processHTML(t,i){return!!t&&(p.default.processElements(t.elements,i),p.default.mergeTempDomContent(t.dom))}function sanitizeHTML(t){var i=processHTML(getParsableData(t),sanitizeElement);return i||t}var h={sanitizeHTML:sanitizeHTML,sanitizeAttributesWithBlackList:sanitizeAttributesWithBlackList,sanitizeElementsWithWhiteList:sanitizeElementsWithWhiteList,sanitizePastedContent:function sanitizePastedContent(t,i){var u=i.attributesBlackList,p=void 0===u?[]:u,h=i.elementsWhiteList;return t=sanitizePastedImagesAndMath(t=removeLinks(t),i),l.default.isArray(h)&&(t=sanitizeElementsWithWhiteList(t,h)),t=sanitizeHTML(t=sanitizeAttributesWithBlackList(t,l.default.union(p,d.default.blackListedAttributes)))},removeLinks:removeLinks,stripHTML:function stripHTML(t,i){var u=i?l.default.unescape(t):t,d=p.default.getParsableData(u),h=d?p.default.mergeTempDomContent(d.dom,!1):t;return i?l.default.escape(h):h},createImageDescriptions:function createImageDescriptions(t){var i=processHTML(p.default.getParsableData(t,"img"),convertImagesToText);return i||t}};i.default=h},55689:function(){!function(t,i,u){"use strict";if(t.MutationObserver&&"undefined"!=typeof HTMLElement){var l,d=0,p=(l=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,{matchesSelector:function(t,i){return t instanceof HTMLElement&&l.call(t,i)},addMethod:function(t,i,u){var l=t[i];t[i]=function(){return u.length==arguments.length?u.apply(this,arguments):"function"==typeof l?l.apply(this,arguments):void 0}},callCallbacks:function(t,i){i&&i.options.onceOnly&&1==i.firedElems.length&&(t=[t[0]]);for(var u,l=0;u=t[l];l++)u&&u.callback&&u.callback.call(u.elem,u.elem);i&&i.options.onceOnly&&1==i.firedElems.length&&i.me.unbindEventWithSelectorAndCallback.call(i.target,i.selector,i.callback)},checkChildNodesRecursively:function(t,i,u,l){for(var d,h=0;d=t[h];h++)u(d,i,l)&&l.push({callback:i.callback,elem:d}),d.childNodes.length>0&&p.checkChildNodesRecursively(d.childNodes,i,u,l)},mergeArrays:function(t,i){var u,l={};for(u in t)t.hasOwnProperty(u)&&(l[u]=t[u]);for(u in i)i.hasOwnProperty(u)&&(l[u]=i[u]);return l},toElementsArray:function(i){return void 0===i||"number"==typeof i.length&&i!==t||(i=[i]),i}}),h=function(){var EventsBucket=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return EventsBucket.prototype.addEvent=function(t,i,u,l){var d={target:t,selector:i,options:u,callback:l,firedElems:[]};return this._beforeAdding&&this._beforeAdding(d),this._eventsBucket.push(d),d},EventsBucket.prototype.removeEvent=function(t){for(var i,u=this._eventsBucket.length-1;i=this._eventsBucket[u];u--)if(t(i)){this._beforeRemoving&&this._beforeRemoving(i);var l=this._eventsBucket.splice(u,1);l&&l.length&&(l[0].callback=null)}},EventsBucket.prototype.beforeAdding=function(t){this._beforeAdding=t},EventsBucket.prototype.beforeRemoving=function(t){this._beforeRemoving=t},EventsBucket}(),MutationEvents=function(i,l){var d=new h,g=this,v={fireOnAttributesModification:!1};return d.beforeAdding((function(u){var d,p=u.target;p!==t.document&&p!==t||(p=document.getElementsByTagName("html")[0]),d=new MutationObserver((function(t){l.call(this,t,u)}));var h=i(u.options);d.observe(p,h),u.observer=d,u.me=g})),d.beforeRemoving((function(t){t.observer.disconnect()})),this.bindEvent=function(t,i,u){i=p.mergeArrays(v,i);for(var l=p.toElementsArray(this),h=0;h<l.length;h++)d.addEvent(l[h],t,i,u)},this.unbindEvent=function(){var t=p.toElementsArray(this);d.removeEvent((function(i){for(var l=0;l<t.length;l++)if(this===u||i.target===t[l])return!0;return!1}))},this.unbindEventWithSelectorOrCallback=function(t){var i,l=p.toElementsArray(this),h=t;i="function"==typeof t?function(t){for(var i=0;i<l.length;i++)if((this===u||t.target===l[i])&&t.callback===h)return!0;return!1}:function(i){for(var d=0;d<l.length;d++)if((this===u||i.target===l[d])&&i.selector===t)return!0;return!1},d.removeEvent(i)},this.unbindEventWithSelectorAndCallback=function(t,i){var l=p.toElementsArray(this);d.removeEvent((function(d){for(var p=0;p<l.length;p++)if((this===u||d.target===l[p])&&d.selector===t&&d.callback===i)return!0;return!1}))},this},g=new function(){var t={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function nodeMatchFunc(t,i,l){return!(!p.matchesSelector(t,i.selector)||(t._id===u&&(t._id=d++),-1!=i.firedElems.indexOf(t._id)))&&(i.firedElems.push(t._id),!0)}var i=(g=new MutationEvents((function getArriveObserverConfig(t){var i={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(i.attributes=!0),i}),(function onArriveMutation(t,i){t.forEach((function(t){var u=t.addedNodes,l=t.target,d=[];null!==u&&u.length>0?p.checkChildNodesRecursively(u,i,nodeMatchFunc,d):"attributes"===t.type&&nodeMatchFunc(l,i,d)&&d.push({callback:i.callback,elem:l}),p.callCallbacks(d,i)}))}))).bindEvent;return g.bindEvent=function(u,l,d){void 0===d?(d=l,l=t):l=p.mergeArrays(t,l);var h=p.toElementsArray(this);if(l.existing){for(var g=[],v=0;v<h.length;v++)for(var y=h[v].querySelectorAll(u),S=0;S<y.length;S++)g.push({callback:d,elem:y[S]});if(l.onceOnly&&g.length)return d.call(g[0].elem,g[0].elem);setTimeout(p.callCallbacks,1,g)}i.call(this,u,l,d)},g},v=new function(){var t={};function nodeMatchFunc(t,i){return p.matchesSelector(t,i.selector)}var i=(v=new MutationEvents((function getLeaveObserverConfig(){return{childList:!0,subtree:!0}}),(function onLeaveMutation(t,i){t.forEach((function(t){var u=t.removedNodes,l=[];null!==u&&u.length>0&&p.checkChildNodesRecursively(u,i,nodeMatchFunc,l),p.callCallbacks(l,i)}))}))).bindEvent;return v.bindEvent=function(u,l,d){void 0===d?(d=l,l=t):l=p.mergeArrays(t,l),i.call(this,u,l,d)},v};i&&exposeApi(i.fn),exposeApi(HTMLElement.prototype),exposeApi(NodeList.prototype),exposeApi(HTMLCollection.prototype),exposeApi(HTMLDocument.prototype),exposeApi(Window.prototype);var y={};return exposeUnbindApi(g,y,"unbindAllArrive"),exposeUnbindApi(v,y,"unbindAllLeave"),y}function exposeUnbindApi(t,i,u){p.addMethod(i,u,t.unbindEvent),p.addMethod(i,u,t.unbindEventWithSelectorOrCallback),p.addMethod(i,u,t.unbindEventWithSelectorAndCallback)}function exposeApi(t){t.arrive=g.bindEvent,exposeUnbindApi(g,t,"unbindArrive"),t.leave=v.bindEvent,exposeUnbindApi(v,t,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0)},70640:function(t,i,u){!function(t){var l,d="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,p=u(62562);try{l=u(34651)}catch(t){}t(d,i,p,l)}((function(t,i,u,l){var d=t.Backbone,p=Array.prototype.slice;i.VERSION="1.4.0",i.$=l,i.noConflict=function(){return t.Backbone=d,this},i.emulateHTTP=!1,i.emulateJSON=!1;var h,g=i.Events={},v=/\s+/,eventsApi=function(t,i,l,d,p){var h,g=0;if(l&&"object"==typeof l){void 0!==d&&"context"in p&&void 0===p.context&&(p.context=d);for(h=u.keys(l);g<h.length;g++)i=eventsApi(t,i,h[g],l[h[g]],p)}else if(l&&v.test(l))for(h=l.split(v);g<h.length;g++)i=t(i,h[g],d,p);else i=t(i,l,d,p);return i};g.on=function(t,i,u){(this._events=eventsApi(onApi,this._events||{},t,i,{context:u,ctx:this,listening:h}),h)&&((this._listeners||(this._listeners={}))[h.id]=h,h.interop=!1);return this},g.listenTo=function(t,i,l){if(!t)return this;var d=t._listenId||(t._listenId=u.uniqueId("l")),p=this._listeningTo||(this._listeningTo={}),g=h=p[d];g||(this._listenId||(this._listenId=u.uniqueId("l")),g=h=p[d]=new Listening(this,t));var v=tryCatchOn(t,i,l,this);if(h=void 0,v)throw v;return g.interop&&g.on(i,l),this};var onApi=function(t,i,u,l){if(u){var d=t[i]||(t[i]=[]),p=l.context,h=l.ctx,g=l.listening;g&&g.count++,d.push({callback:u,context:p,ctx:p||h,listening:g})}return t},tryCatchOn=function(t,i,u,l){try{t.on(i,u,l)}catch(t){return t}};g.off=function(t,i,u){return this._events?(this._events=eventsApi(offApi,this._events,t,i,{context:u,listeners:this._listeners}),this):this},g.stopListening=function(t,i,l){var d=this._listeningTo;if(!d)return this;for(var p=t?[t._listenId]:u.keys(d),h=0;h<p.length;h++){var g=d[p[h]];if(!g)break;g.obj.off(i,l,this),g.interop&&g.off(i,l)}return u.isEmpty(d)&&(this._listeningTo=void 0),this};var offApi=function(t,i,l,d){if(t){var p,h=d.context,g=d.listeners,v=0;if(i||h||l){for(p=i?[i]:u.keys(t);v<p.length;v++){var y=t[i=p[v]];if(!y)break;for(var S=[],w=0;w<y.length;w++){var E=y[w];if(l&&l!==E.callback&&l!==E.callback._callback||h&&h!==E.context)S.push(E);else{var R=E.listening;R&&R.off(i,l)}}S.length?t[i]=S:delete t[i]}return t}for(p=u.keys(g);v<p.length;v++)g[p[v]].cleanup()}};g.once=function(t,i,u){var l=eventsApi(onceMap,{},t,i,this.off.bind(this));return"string"==typeof t&&null==u&&(i=void 0),this.on(l,i,u)},g.listenToOnce=function(t,i,u){var l=eventsApi(onceMap,{},i,u,this.stopListening.bind(this,t));return this.listenTo(t,l)};var onceMap=function(t,i,l,d){if(l){var p=t[i]=u.once((function(){d(i,p),l.apply(this,arguments)}));p._callback=l}return t};g.trigger=function(t){if(!this._events)return this;for(var i=Math.max(0,arguments.length-1),u=Array(i),l=0;l<i;l++)u[l]=arguments[l+1];return eventsApi(triggerApi,this._events,t,void 0,u),this};var triggerApi=function(t,i,u,l){if(t){var d=t[i],p=t.all;d&&p&&(p=p.slice()),d&&triggerEvents(d,l),p&&triggerEvents(p,[i].concat(l))}return t},triggerEvents=function(t,i){var u,l=-1,d=t.length,p=i[0],h=i[1],g=i[2];switch(i.length){case 0:for(;++l<d;)(u=t[l]).callback.call(u.ctx);return;case 1:for(;++l<d;)(u=t[l]).callback.call(u.ctx,p);return;case 2:for(;++l<d;)(u=t[l]).callback.call(u.ctx,p,h);return;case 3:for(;++l<d;)(u=t[l]).callback.call(u.ctx,p,h,g);return;default:for(;++l<d;)(u=t[l]).callback.apply(u.ctx,i);return}},Listening=function(t,i){this.id=t._listenId,this.listener=t,this.obj=i,this.interop=!0,this.count=0,this._events=void 0};Listening.prototype.on=g.on,Listening.prototype.off=function(t,i){var u;this.interop?(this._events=eventsApi(offApi,this._events,t,i,{context:void 0,listeners:void 0}),u=!this._events):(this.count--,u=0===this.count),u&&this.cleanup()},Listening.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},g.bind=g.on,g.unbind=g.off,u.extend(i,g);var y=i.Model=function(t,i){var l=t||{};i||(i={}),this.preinitialize.apply(this,arguments),this.cid=u.uniqueId(this.cidPrefix),this.attributes={},i.collection&&(this.collection=i.collection),i.parse&&(l=this.parse(l,i)||{});var d=u.result(this,"defaults");l=u.defaults(u.extend({},d,l),d),this.set(l,i),this.changed={},this.initialize.apply(this,arguments)};u.extend(y.prototype,g,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return u.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return u.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!u.iteratee(t,this)(this.attributes)},set:function(t,i,l){if(null==t)return this;var d;if("object"==typeof t?(d=t,l=i):(d={})[t]=i,l||(l={}),!this._validate(d,l))return!1;var p=l.unset,h=l.silent,g=[],v=this._changing;this._changing=!0,v||(this._previousAttributes=u.clone(this.attributes),this.changed={});var y=this.attributes,S=this.changed,w=this._previousAttributes;for(var E in d)i=d[E],u.isEqual(y[E],i)||g.push(E),u.isEqual(w[E],i)?delete S[E]:S[E]=i,p?delete y[E]:y[E]=i;if(this.idAttribute in d&&(this.id=this.get(this.idAttribute)),!h){g.length&&(this._pending=l);for(var R=0;R<g.length;R++)this.trigger("change:"+g[R],this,y[g[R]],l)}if(v)return this;if(!h)for(;this._pending;)l=this._pending,this._pending=!1,this.trigger("change",this,l);return this._pending=!1,this._changing=!1,this},unset:function(t,i){return this.set(t,void 0,u.extend({},i,{unset:!0}))},clear:function(t){var i={};for(var l in this.attributes)i[l]=void 0;return this.set(i,u.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!u.isEmpty(this.changed):u.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&u.clone(this.changed);var i,l=this._changing?this._previousAttributes:this.attributes,d={};for(var p in t){var h=t[p];u.isEqual(l[p],h)||(d[p]=h,i=!0)}return!!i&&d},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(t){t=u.extend({parse:!0},t);var i=this,l=t.success;return t.success=function(u){var d=t.parse?i.parse(u,t):u;if(!i.set(d,t))return!1;l&&l.call(t.context,i,u,t),i.trigger("sync",i,u,t)},wrapError(this,t),this.sync("read",this,t)},save:function(t,i,l){var d;null==t||"object"==typeof t?(d=t,l=i):(d={})[t]=i;var p=(l=u.extend({validate:!0,parse:!0},l)).wait;if(d&&!p){if(!this.set(d,l))return!1}else if(!this._validate(d,l))return!1;var h=this,g=l.success,v=this.attributes;l.success=function(t){h.attributes=v;var i=l.parse?h.parse(t,l):t;if(p&&(i=u.extend({},d,i)),i&&!h.set(i,l))return!1;g&&g.call(l.context,h,t,l),h.trigger("sync",h,t,l)},wrapError(this,l),d&&p&&(this.attributes=u.extend({},v,d));var y=this.isNew()?"create":l.patch?"patch":"update";"patch"!==y||l.attrs||(l.attrs=d);var S=this.sync(y,this,l);return this.attributes=v,S},destroy:function(t){t=t?u.clone(t):{};var i=this,l=t.success,d=t.wait,destroy=function(){i.stopListening(),i.trigger("destroy",i,i.collection,t)};t.success=function(u){d&&destroy(),l&&l.call(t.context,i,u,t),i.isNew()||i.trigger("sync",i,u,t)};var p=!1;return this.isNew()?u.defer(t.success):(wrapError(this,t),p=this.sync("delete",this,t)),d||destroy(),p},url:function(){var t=u.result(this,"urlRoot")||u.result(this.collection,"url")||urlError();if(this.isNew())return t;var i=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(i)},parse:function(t,i){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},u.extend({},t,{validate:!0}))},_validate:function(t,i){if(!i.validate||!this.validate)return!0;t=u.extend({},this.attributes,t);var l=this.validationError=this.validate(t,i)||null;return!l||(this.trigger("invalid",this,l,u.extend(i,{validationError:l})),!1)}});var S=i.Collection=function(t,i){i||(i={}),this.preinitialize.apply(this,arguments),i.model&&(this.model=i.model),void 0!==i.comparator&&(this.comparator=i.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,u.extend({silent:!0},i))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},splice=function(t,i,u){u=Math.min(Math.max(u,0),t.length);var l,d=Array(t.length-u),p=i.length;for(l=0;l<d.length;l++)d[l]=t[l+u];for(l=0;l<p;l++)t[l+u]=i[l];for(l=0;l<d.length;l++)t[l+p+u]=d[l]};u.extend(S.prototype,g,{model:y,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(i){return i.toJSON(t)}))},sync:function(){return i.sync.apply(this,arguments)},add:function(t,i){return this.set(t,u.extend({merge:!1},i,E))},remove:function(t,i){i=u.extend({},i);var l=!u.isArray(t);t=l?[t]:t.slice();var d=this._removeModels(t,i);return!i.silent&&d.length&&(i.changes={added:[],merged:[],removed:d},this.trigger("update",this,i)),l?d[0]:d},set:function(t,i){if(null!=t){(i=u.extend({},w,i)).parse&&!this._isModel(t)&&(t=this.parse(t,i)||[]);var l=!u.isArray(t);t=l?[t]:t.slice();var d=i.at;null!=d&&(d=+d),d>this.length&&(d=this.length),d<0&&(d+=this.length+1);var p,h,g=[],v=[],y=[],S=[],E={},R=i.add,A=i.merge,T=i.remove,x=!1,C=this.comparator&&null==d&&!1!==i.sort,M=u.isString(this.comparator)?this.comparator:null;for(h=0;h<t.length;h++){p=t[h];var O=this.get(p);if(O){if(A&&p!==O){var P=this._isModel(p)?p.attributes:p;i.parse&&(P=O.parse(P,i)),O.set(P,i),y.push(O),C&&!x&&(x=O.hasChanged(M))}E[O.cid]||(E[O.cid]=!0,g.push(O)),t[h]=O}else R&&(p=t[h]=this._prepareModel(p,i))&&(v.push(p),this._addReference(p,i),E[p.cid]=!0,g.push(p))}if(T){for(h=0;h<this.length;h++)E[(p=this.models[h]).cid]||S.push(p);S.length&&this._removeModels(S,i)}var I=!1,D=!C&&R&&T;if(g.length&&D?(I=this.length!==g.length||u.some(this.models,(function(t,i){return t!==g[i]})),this.models.length=0,splice(this.models,g,0),this.length=this.models.length):v.length&&(C&&(x=!0),splice(this.models,v,null==d?this.length:d),this.length=this.models.length),x&&this.sort({silent:!0}),!i.silent){for(h=0;h<v.length;h++)null!=d&&(i.index=d+h),(p=v[h]).trigger("add",p,this,i);(x||I)&&this.trigger("sort",this,i),(v.length||S.length||y.length)&&(i.changes={added:v,removed:S,merged:y},this.trigger("update",this,i))}return l?t[0]:t}},reset:function(t,i){i=i?u.clone(i):{};for(var l=0;l<this.models.length;l++)this._removeReference(this.models[l],i);return i.previousModels=this.models,this._reset(),t=this.add(t,u.extend({silent:!0},i)),i.silent||this.trigger("reset",this,i),t},push:function(t,i){return this.add(t,u.extend({at:this.length},i))},pop:function(t){var i=this.at(this.length-1);return this.remove(i,t)},unshift:function(t,i){return this.add(t,u.extend({at:0},i))},shift:function(t){var i=this.at(0);return this.remove(i,t)},slice:function(){return p.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,i){return this[i?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var i=this.comparator;if(!i)throw new Error("Cannot sort a set without a comparator");t||(t={});var l=i.length;return u.isFunction(i)&&(i=i.bind(this)),1===l||u.isString(i)?this.models=this.sortBy(i):this.models.sort(i),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var i=(t=u.extend({parse:!0},t)).success,l=this;return t.success=function(u){var d=t.reset?"reset":"set";l[d](u,t),i&&i.call(t.context,l,u,t),l.trigger("sync",l,u,t)},wrapError(this,t),this.sync("read",this,t)},create:function(t,i){var l=(i=i?u.clone(i):{}).wait;if(!(t=this._prepareModel(t,i)))return!1;l||this.add(t,i);var d=this,p=i.success;return i.success=function(t,i,u){l&&d.add(t,u),p&&p.call(u.context,t,i,u)},t.save(null,i),t},parse:function(t,i){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new CollectionIterator(this,A)},keys:function(){return new CollectionIterator(this,T)},entries:function(){return new CollectionIterator(this,x)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,i){if(this._isModel(t))return t.collection||(t.collection=this),t;(i=i?u.clone(i):{}).collection=this;var l=new this.model(t,i);return l.validationError?(this.trigger("invalid",this,l.validationError,i),!1):l},_removeModels:function(t,i){for(var u=[],l=0;l<t.length;l++){var d=this.get(t[l]);if(d){var p=this.indexOf(d);this.models.splice(p,1),this.length--,delete this._byId[d.cid];var h=this.modelId(d.attributes);null!=h&&delete this._byId[h],i.silent||(i.index=p,d.trigger("remove",d,this,i)),u.push(d),this._removeReference(d,i)}}return u},_isModel:function(t){return t instanceof y},_addReference:function(t,i){this._byId[t.cid]=t;var u=this.modelId(t.attributes);null!=u&&(this._byId[u]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,i){delete this._byId[t.cid];var u=this.modelId(t.attributes);null!=u&&delete this._byId[u],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,i,u,l){if(i){if(("add"===t||"remove"===t)&&u!==this)return;if("destroy"===t&&this.remove(i,l),"change"===t){var d=this.modelId(i.previousAttributes()),p=this.modelId(i.attributes);d!==p&&(null!=d&&delete this._byId[d],null!=p&&(this._byId[p]=i))}}this.trigger.apply(this,arguments)}});var R="function"==typeof Symbol&&Symbol.iterator;R&&(S.prototype[R]=S.prototype.values);var CollectionIterator=function(t,i){this._collection=t,this._kind=i,this._index=0},A=1,T=2,x=3;R&&(CollectionIterator.prototype[R]=function(){return this}),CollectionIterator.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,i=this._collection.at(this._index);if(this._index++,this._kind===A)t=i;else{var u=this._collection.modelId(i.attributes);t=this._kind===T?u:[u,i]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var C=i.View=function(t){this.cid=u.uniqueId("view"),this.preinitialize.apply(this,arguments),u.extend(this,u.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];u.extend(C.prototype,g,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof i.$?t:i.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=u.result(this,"events")),!t)return this;for(var i in this.undelegateEvents(),t){var l=t[i];if(u.isFunction(l)||(l=this[l]),l){var d=i.match(M);this.delegate(d[1],d[2],l.bind(this))}}return this},delegate:function(t,i,u){return this.$el.on(t+".delegateEvents"+this.cid,i,u),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,i,u){return this.$el.off(t+".delegateEvents"+this.cid,i,u),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"));else{var t=u.extend({},u.result(this,"attributes"));this.id&&(t.id=u.result(this,"id")),this.className&&(t.class=u.result(this,"className")),this.setElement(this._createElement(u.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var addUnderscoreMethods=function(t,i,l,d){u.each(l,(function(u,l){i[l]&&(t.prototype[l]=function(t,i,u,l){switch(i){case 1:return function(){return t[u](this[l])};case 2:return function(i){return t[u](this[l],i)};case 3:return function(i,d){return t[u](this[l],cb(i,this),d)};case 4:return function(i,d,p){return t[u](this[l],cb(i,this),d,p)};default:return function(){var i=p.call(arguments);return i.unshift(this[l]),t[u].apply(t,i)}}}(i,u,l,d))}))},cb=function(t,i){return u.isFunction(t)?t:u.isObject(t)&&!i._isModel(t)?modelMatcher(t):u.isString(t)?function(i){return i.get(t)}:t},modelMatcher=function(t){var i=u.matches(t);return function(t){return i(t.attributes)}};u.each([[S,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var i=t[0],l=t[1],d=t[2];i.mixin=function(t){var l=u.reduce(u.functions(t),(function(t,i){return t[i]=0,t}),{});addUnderscoreMethods(i,t,l,d)},addUnderscoreMethods(i,u,l,d)})),i.sync=function(t,l,d){var p=P[t];u.defaults(d||(d={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var h={type:p,dataType:"json"};if(d.url||(h.url=u.result(l,"url")||urlError()),null!=d.data||!l||"create"!==t&&"update"!==t&&"patch"!==t||(h.contentType="application/json",h.data=JSON.stringify(d.attrs||l.toJSON(d))),d.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}),d.emulateHTTP&&("PUT"===p||"DELETE"===p||"PATCH"===p)){h.type="POST",d.emulateJSON&&(h.data._method=p);var g=d.beforeSend;d.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",p),g)return g.apply(this,arguments)}}"GET"===h.type||d.emulateJSON||(h.processData=!1);var v=d.error;d.error=function(t,i,u){d.textStatus=i,d.errorThrown=u,v&&v.call(d.context,t,i,u)};var y=d.xhr=i.ajax(u.extend(h,d));return l.trigger("request",l,y,d),y};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var I=i.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,L=/\*\w+/g,q=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(I.prototype,g,{preinitialize:function(){},initialize:function(){},route:function(t,l,d){u.isRegExp(t)||(t=this._routeToRegExp(t)),u.isFunction(l)&&(d=l,l=""),d||(d=this[l]);var p=this;return i.history.route(t,(function(u){var h=p._extractParameters(t,u);!1!==p.execute(d,h,l)&&(p.trigger.apply(p,["route:"+l].concat(h)),p.trigger("route",l,h),i.history.trigger("route",p,l,h))})),this},execute:function(t,i,u){t&&t.apply(this,i)},navigate:function(t,u){return i.history.navigate(t,u),this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var t,i=u.keys(this.routes);null!=(t=i.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(q,"\\$&").replace(D,"(?:$1)?").replace(N,(function(t,i){return i?t:"([^/?]+)"})).replace(L,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,i){var l=t.exec(i).slice(1);return u.map(l,(function(t,i){return i===l.length-1?t||null:t?decodeURIComponent(t):null}))}});var V=i.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,U=/^\/+|\/+$/g,B=/#.*$/;V.started=!1,u.extend(V.prototype,g,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var i=(t||this).location.href.match(/#(.*)$/);return i?i[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(V.started)throw new Error("Backbone.history has already been started");if(V.started=!0,this.options=u.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(U,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var i=this.root.slice(0,-1)||"/";return this.location.replace(i+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var l=document.body,d=l.insertBefore(this.iframe,l.firstChild).contentWindow;d.document.open(),d.document.close(),d.location.hash="#"+this.fragment}var p=window.addEventListener||function(t,i){return attachEvent("on"+t,i)};if(this._usePushState?p("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?p("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,i){return detachEvent("on"+t,i)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),V.started=!1},route:function(t,i){this.handlers.unshift({route:t,callback:i})},checkUrl:function(t){var i=this.getFragment();if(i===this.fragment&&this.iframe&&(i=this.getHash(this.iframe.contentWindow)),i===this.fragment)return!1;this.iframe&&this.navigate(i),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),u.some(this.handlers,(function(i){if(i.route.test(t))return i.callback(t),!0})))},navigate:function(t,i){if(!V.started)return!1;i&&!0!==i||(i={trigger:!!i}),t=this.getFragment(t||"");var u=this.root;""!==t&&"?"!==t.charAt(0)||(u=u.slice(0,-1)||"/");var l=u+t;t=t.replace(B,"");var d=this.decodeFragment(t);if(this.fragment!==d){if(this.fragment=d,this._usePushState)this.history[i.replace?"replaceState":"pushState"]({},document.title,l);else{if(!this._wantsHashChange)return this.location.assign(l);if(this._updateHash(this.location,t,i.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var p=this.iframe.contentWindow;i.replace||(p.document.open(),p.document.close()),this._updateHash(p.location,t,i.replace)}}return i.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,i,u){if(u){var l=t.href.replace(/(javascript:|#).*$/,"");t.replace(l+"#"+i)}else t.hash="#"+i}}),i.history=new V;y.extend=S.extend=I.extend=C.extend=V.extend=function(t,i){var l,d=this;return l=t&&u.has(t,"constructor")?t.constructor:function(){return d.apply(this,arguments)},u.extend(l,d,i),l.prototype=u.create(d.prototype,t),l.prototype.constructor=l,l.__super__=d.prototype,l};var urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(t,i){var u=i.error;i.error=function(l){u&&u.call(i.context,t,l,i),t.trigger("error",t,l,i)}};return i}))},34651:function(t,i){var u;!function(i,u){"use strict";"object"==typeof t.exports?t.exports=i.document?u(i,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return u(t)}:u(i)}("undefined"!=typeof window?window:this,(function(l,d){"use strict";var p=[],h=Object.getPrototypeOf,g=p.slice,v=p.flat?function(t){return p.flat.call(t)}:function(t){return p.concat.apply([],t)},y=p.push,S=p.indexOf,w={},E=w.toString,R=w.hasOwnProperty,A=R.toString,T=A.call(Object),x={},C=function isFunction(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},M=function isWindow(t){return null!=t&&t===t.window},O=l.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(t,i,u){var l,d,p=(u=u||O).createElement("script");if(p.text=t,i)for(l in P)(d=i[l]||i.getAttribute&&i.getAttribute(l))&&p.setAttribute(l,d);u.head.appendChild(p).parentNode.removeChild(p)}function toType(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?w[E.call(t)]||"object":typeof t}var I="3.7.1",D=/HTML$/i,jQuery=function(t,i){return new jQuery.fn.init(t,i)};function isArrayLike(t){var i=!!t&&"length"in t&&t.length,u=toType(t);return!C(t)&&!M(t)&&("array"===u||0===i||"number"==typeof i&&i>0&&i-1 in t)}function nodeName(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}jQuery.fn=jQuery.prototype={jquery:I,constructor:jQuery,length:0,toArray:function(){return g.call(this)},get:function(t){return null==t?g.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=jQuery.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return jQuery.each(this,t)},map:function(t){return this.pushStack(jQuery.map(this,(function(i,u){return t.call(i,u,i)})))},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,(function(t,i){return(i+1)%2})))},odd:function(){return this.pushStack(jQuery.grep(this,(function(t,i){return i%2})))},eq:function(t){var i=this.length,u=+t+(t<0?i:0);return this.pushStack(u>=0&&u<i?[this[u]]:[])},end:function(){return this.prevObject||this.constructor()},push:y,sort:p.sort,splice:p.splice},jQuery.extend=jQuery.fn.extend=function(){var t,i,u,l,d,p,h=arguments[0]||{},g=1,v=arguments.length,y=!1;for("boolean"==typeof h&&(y=h,h=arguments[g]||{},g++),"object"==typeof h||C(h)||(h={}),g===v&&(h=this,g--);g<v;g++)if(null!=(t=arguments[g]))for(i in t)l=t[i],"__proto__"!==i&&h!==l&&(y&&l&&(jQuery.isPlainObject(l)||(d=Array.isArray(l)))?(u=h[i],p=d&&!Array.isArray(u)?[]:d||jQuery.isPlainObject(u)?u:{},d=!1,h[i]=jQuery.extend(y,p,l)):void 0!==l&&(h[i]=l));return h},jQuery.extend({expando:"jQuery"+(I+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,u;return!(!t||"[object Object]"!==E.call(t))&&(!(i=h(t))||"function"==typeof(u=R.call(i,"constructor")&&i.constructor)&&A.call(u)===T)},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,u){DOMEval(t,{nonce:i&&i.nonce},u)},each:function(t,i){var u,l=0;if(isArrayLike(t))for(u=t.length;l<u&&!1!==i.call(t[l],l,t[l]);l++);else for(l in t)if(!1===i.call(t[l],l,t[l]))break;return t},text:function(t){var i,u="",l=0,d=t.nodeType;if(!d)for(;i=t[l++];)u+=jQuery.text(i);return 1===d||11===d?t.textContent:9===d?t.documentElement.textContent:3===d||4===d?t.nodeValue:u},makeArray:function(t,i){var u=i||[];return null!=t&&(isArrayLike(Object(t))?jQuery.merge(u,"string"==typeof t?[t]:t):y.call(u,t)),u},inArray:function(t,i,u){return null==i?-1:S.call(i,t,u)},isXMLDoc:function(t){var i=t&&t.namespaceURI,u=t&&(t.ownerDocument||t).documentElement;return!D.test(i||u&&u.nodeName||"HTML")},merge:function(t,i){for(var u=+i.length,l=0,d=t.length;l<u;l++)t[d++]=i[l];return t.length=d,t},grep:function(t,i,u){for(var l=[],d=0,p=t.length,h=!u;d<p;d++)!i(t[d],d)!==h&&l.push(t[d]);return l},map:function(t,i,u){var l,d,p=0,h=[];if(isArrayLike(t))for(l=t.length;p<l;p++)null!=(d=i(t[p],p,u))&&h.push(d);else for(p in t)null!=(d=i(t[p],p,u))&&h.push(d);return v(h)},guid:1,support:x}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=p[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,i){w["[object "+i+"]"]=i.toLowerCase()}));var N=p.pop,L=p.sort,q=p.splice,V="[\\x20\\t\\r\\n\\f]",j=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");jQuery.contains=function(t,i){var u=i&&i.parentNode;return t===u||!(!u||1!==u.nodeType||!(t.contains?t.contains(u):t.compareDocumentPosition&&16&t.compareDocumentPosition(u)))};var U=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function fcssescape(t,i){return i?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}jQuery.escapeSelector=function(t){return(t+"").replace(U,fcssescape)};var B=O,H=y;!function(){var t,i,u,d,h,v,y,w,E,A,T=H,C=jQuery.expando,M=0,O=0,P=createCache(),I=createCache(),D=createCache(),U=createCache(),sortOrder=function(t,i){return t===i&&(h=!0),0},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Q="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+V+"*("+Q+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Q+"))|)"+V+"*\\]",G=":("+Q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(V+"+","g"),Y=new RegExp("^"+V+"*,"+V+"*"),J=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),K=new RegExp(V+"|>"),X=new RegExp(G),Z=new RegExp("^"+Q+"$"),ee={ID:new RegExp("^#("+Q+")"),CLASS:new RegExp("^\\.("+Q+")"),TAG:new RegExp("^("+Q+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},te=/^(?:input|select|textarea|button)$/i,ne=/^h\d$/i,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ie=/[+~]/,oe=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(t,i){var u="0x"+t.slice(1)-65536;return i||(u<0?String.fromCharCode(u+65536):String.fromCharCode(u>>10|55296,1023&u|56320))},unloadHandler=function(){setDocument()},ae=addCombinator((function(t){return!0===t.disabled&&nodeName(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{T.apply(p=g.call(B.childNodes),B.childNodes),p[B.childNodes.length].nodeType}catch(t){T={apply:function(t,i){H.apply(t,g.call(i))},call:function(t){H.apply(t,g.call(arguments,1))}}}function find(t,i,u,l){var d,p,h,g,y,S,R,A=i&&i.ownerDocument,M=i?i.nodeType:9;if(u=u||[],"string"!=typeof t||!t||1!==M&&9!==M&&11!==M)return u;if(!l&&(setDocument(i),i=i||v,w)){if(11!==M&&(y=re.exec(t)))if(d=y[1]){if(9===M){if(!(h=i.getElementById(d)))return u;if(h.id===d)return T.call(u,h),u}else if(A&&(h=A.getElementById(d))&&find.contains(i,h)&&h.id===d)return T.call(u,h),u}else{if(y[2])return T.apply(u,i.getElementsByTagName(t)),u;if((d=y[3])&&i.getElementsByClassName)return T.apply(u,i.getElementsByClassName(d)),u}if(!(U[t+" "]||E&&E.test(t))){if(R=t,A=i,1===M&&(K.test(t)||J.test(t))){for((A=ie.test(t)&&testContext(i.parentNode)||i)==i&&x.scope||((g=i.getAttribute("id"))?g=jQuery.escapeSelector(g):i.setAttribute("id",g=C)),p=(S=tokenize(t)).length;p--;)S[p]=(g?"#"+g:":scope")+" "+toSelector(S[p]);R=S.join(",")}try{return T.apply(u,A.querySelectorAll(R)),u}catch(i){U(t,!0)}finally{g===C&&i.removeAttribute("id")}}}return select(t.replace(j,"$1"),i,u,l)}function createCache(){var t=[];return function cache(u,l){return t.push(u+" ")>i.cacheLength&&delete cache[t.shift()],cache[u+" "]=l}}function markFunction(t){return t[C]=!0,t}function assert(t){var i=v.createElement("fieldset");try{return!!t(i)}catch(t){return!1}finally{i.parentNode&&i.parentNode.removeChild(i),i=null}}function createInputPseudo(t){return function(i){return nodeName(i,"input")&&i.type===t}}function createButtonPseudo(t){return function(i){return(nodeName(i,"input")||nodeName(i,"button"))&&i.type===t}}function createDisabledPseudo(t){return function(i){return"form"in i?i.parentNode&&!1===i.disabled?"label"in i?"label"in i.parentNode?i.parentNode.disabled===t:i.disabled===t:i.isDisabled===t||i.isDisabled!==!t&&ae(i)===t:i.disabled===t:"label"in i&&i.disabled===t}}function createPositionalPseudo(t){return markFunction((function(i){return i=+i,markFunction((function(u,l){for(var d,p=t([],u.length,i),h=p.length;h--;)u[d=p[h]]&&(u[d]=!(l[d]=u[d]))}))}))}function testContext(t){return t&&void 0!==t.getElementsByTagName&&t}function setDocument(t){var u,l=t?t.ownerDocument||t:B;return l!=v&&9===l.nodeType&&l.documentElement?(y=(v=l).documentElement,w=!jQuery.isXMLDoc(v),A=y.matches||y.webkitMatchesSelector||y.msMatchesSelector,y.msMatchesSelector&&B!=v&&(u=v.defaultView)&&u.top!==u&&u.addEventListener("unload",unloadHandler),x.getById=assert((function(t){return y.appendChild(t).id=jQuery.expando,!v.getElementsByName||!v.getElementsByName(jQuery.expando).length})),x.disconnectedMatch=assert((function(t){return A.call(t,"*")})),x.scope=assert((function(){return v.querySelectorAll(":scope")})),x.cssHas=assert((function(){try{return v.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),x.getById?(i.filter.ID=function(t){var i=t.replace(oe,funescape);return function(t){return t.getAttribute("id")===i}},i.find.ID=function(t,i){if(void 0!==i.getElementById&&w){var u=i.getElementById(t);return u?[u]:[]}}):(i.filter.ID=function(t){var i=t.replace(oe,funescape);return function(t){var u=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return u&&u.value===i}},i.find.ID=function(t,i){if(void 0!==i.getElementById&&w){var u,l,d,p=i.getElementById(t);if(p){if((u=p.getAttributeNode("id"))&&u.value===t)return[p];for(d=i.getElementsByName(t),l=0;p=d[l++];)if((u=p.getAttributeNode("id"))&&u.value===t)return[p]}return[]}}),i.find.TAG=function(t,i){return void 0!==i.getElementsByTagName?i.getElementsByTagName(t):i.querySelectorAll(t)},i.find.CLASS=function(t,i){if(void 0!==i.getElementsByClassName&&w)return i.getElementsByClassName(t)},E=[],assert((function(t){var i;y.appendChild(t).innerHTML="<a id='"+C+"' href='' disabled='disabled'></a><select id='"+C+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||E.push("\\["+V+"*(?:value|"+z+")"),t.querySelectorAll("[id~="+C+"-]").length||E.push("~="),t.querySelectorAll("a#"+C+"+*").length||E.push(".#.+[+~]"),t.querySelectorAll(":checked").length||E.push(":checked"),(i=v.createElement("input")).setAttribute("type","hidden"),t.appendChild(i).setAttribute("name","D"),y.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&E.push(":enabled",":disabled"),(i=v.createElement("input")).setAttribute("name",""),t.appendChild(i),t.querySelectorAll("[name='']").length||E.push("\\["+V+"*name"+V+"*="+V+"*(?:''|\"\")")})),x.cssHas||E.push(":has"),E=E.length&&new RegExp(E.join("|")),sortOrder=function(t,i){if(t===i)return h=!0,0;var u=!t.compareDocumentPosition-!i.compareDocumentPosition;return u||(1&(u=(t.ownerDocument||t)==(i.ownerDocument||i)?t.compareDocumentPosition(i):1)||!x.sortDetached&&i.compareDocumentPosition(t)===u?t===v||t.ownerDocument==B&&find.contains(B,t)?-1:i===v||i.ownerDocument==B&&find.contains(B,i)?1:d?S.call(d,t)-S.call(d,i):0:4&u?-1:1)},v):v}for(t in find.matches=function(t,i){return find(t,null,null,i)},find.matchesSelector=function(t,i){if(setDocument(t),w&&!U[i+" "]&&(!E||!E.test(i)))try{var u=A.call(t,i);if(u||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return u}catch(t){U(i,!0)}return find(i,v,null,[t]).length>0},find.contains=function(t,i){return(t.ownerDocument||t)!=v&&setDocument(t),jQuery.contains(t,i)},find.attr=function(t,u){(t.ownerDocument||t)!=v&&setDocument(t);var l=i.attrHandle[u.toLowerCase()],d=l&&R.call(i.attrHandle,u.toLowerCase())?l(t,u,!w):void 0;return void 0!==d?d:t.getAttribute(u)},find.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},jQuery.uniqueSort=function(t){var i,u=[],l=0,p=0;if(h=!x.sortStable,d=!x.sortStable&&g.call(t,0),L.call(t,sortOrder),h){for(;i=t[p++];)i===t[p]&&(l=u.push(p));for(;l--;)q.call(t,u[l],1)}return d=null,t},jQuery.fn.uniqueSort=function(){return this.pushStack(jQuery.uniqueSort(g.apply(this)))},i=jQuery.expr={cacheLength:50,createPseudo:markFunction,match:ee,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(oe,funescape),t[3]=(t[3]||t[4]||t[5]||"").replace(oe,funescape),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||find.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&find.error(t[0]),t},PSEUDO:function(t){var i,u=!t[6]&&t[2];return ee.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":u&&X.test(u)&&(i=tokenize(u,!0))&&(i=u.indexOf(")",u.length-i)-u.length)&&(t[0]=t[0].slice(0,i),t[2]=u.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var i=t.replace(oe,funescape).toLowerCase();return"*"===t?function(){return!0}:function(t){return nodeName(t,i)}},CLASS:function(t){var i=P[t+" "];return i||(i=new RegExp("(^|"+V+")"+t+"("+V+"|$)"))&&P(t,(function(t){return i.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,i,u){return function(l){var d=find.attr(l,t);return null==d?"!="===i:!i||(d+="","="===i?d===u:"!="===i?d!==u:"^="===i?u&&0===d.indexOf(u):"*="===i?u&&d.indexOf(u)>-1:"$="===i?u&&d.slice(-u.length)===u:"~="===i?(" "+d.replace($," ")+" ").indexOf(u)>-1:"|="===i&&(d===u||d.slice(0,u.length+1)===u+"-"))}},CHILD:function(t,i,u,l,d){var p="nth"!==t.slice(0,3),h="last"!==t.slice(-4),g="of-type"===i;return 1===l&&0===d?function(t){return!!t.parentNode}:function(i,u,v){var y,S,w,E,R,A=p!==h?"nextSibling":"previousSibling",T=i.parentNode,x=g&&i.nodeName.toLowerCase(),O=!v&&!g,P=!1;if(T){if(p){for(;A;){for(w=i;w=w[A];)if(g?nodeName(w,x):1===w.nodeType)return!1;R=A="only"===t&&!R&&"nextSibling"}return!0}if(R=[h?T.firstChild:T.lastChild],h&&O){for(P=(E=(y=(S=T[C]||(T[C]={}))[t]||[])[0]===M&&y[1])&&y[2],w=E&&T.childNodes[E];w=++E&&w&&w[A]||(P=E=0)||R.pop();)if(1===w.nodeType&&++P&&w===i){S[t]=[M,E,P];break}}else if(O&&(P=E=(y=(S=i[C]||(i[C]={}))[t]||[])[0]===M&&y[1]),!1===P)for(;(w=++E&&w&&w[A]||(P=E=0)||R.pop())&&(!(g?nodeName(w,x):1===w.nodeType)||!++P||(O&&((S=w[C]||(w[C]={}))[t]=[M,P]),w!==i)););return(P-=d)===l||P%l==0&&P/l>=0}}},PSEUDO:function(t,u){var l,d=i.pseudos[t]||i.setFilters[t.toLowerCase()]||find.error("unsupported pseudo: "+t);return d[C]?d(u):d.length>1?(l=[t,t,"",u],i.setFilters.hasOwnProperty(t.toLowerCase())?markFunction((function(t,i){for(var l,p=d(t,u),h=p.length;h--;)t[l=S.call(t,p[h])]=!(i[l]=p[h])})):function(t){return d(t,0,l)}):d}},pseudos:{not:markFunction((function(t){var i=[],u=[],l=compile(t.replace(j,"$1"));return l[C]?markFunction((function(t,i,u,d){for(var p,h=l(t,null,d,[]),g=t.length;g--;)(p=h[g])&&(t[g]=!(i[g]=p))})):function(t,d,p){return i[0]=t,l(i,null,p,u),i[0]=null,!u.pop()}})),has:markFunction((function(t){return function(i){return find(t,i).length>0}})),contains:markFunction((function(t){return t=t.replace(oe,funescape),function(i){return(i.textContent||jQuery.text(i)).indexOf(t)>-1}})),lang:markFunction((function(t){return Z.test(t||"")||find.error("unsupported lang: "+t),t=t.replace(oe,funescape).toLowerCase(),function(i){var u;do{if(u=w?i.lang:i.getAttribute("xml:lang")||i.getAttribute("lang"))return(u=u.toLowerCase())===t||0===u.indexOf(t+"-")}while((i=i.parentNode)&&1===i.nodeType);return!1}})),target:function(t){var i=l.location&&l.location.hash;return i&&i.slice(1)===t.id},root:function(t){return t===y},focus:function(t){return t===function safeActiveElement(){try{return v.activeElement}catch(t){}}()&&v.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(t){return nodeName(t,"input")&&!!t.checked||nodeName(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return ne.test(t.nodeName)},input:function(t){return te.test(t.nodeName)},button:function(t){return nodeName(t,"input")&&"button"===t.type||nodeName(t,"button")},text:function(t){var i;return nodeName(t,"input")&&"text"===t.type&&(null==(i=t.getAttribute("type"))||"text"===i.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(t,i){return[i-1]})),eq:createPositionalPseudo((function(t,i,u){return[u<0?u+i:u]})),even:createPositionalPseudo((function(t,i){for(var u=0;u<i;u+=2)t.push(u);return t})),odd:createPositionalPseudo((function(t,i){for(var u=1;u<i;u+=2)t.push(u);return t})),lt:createPositionalPseudo((function(t,i,u){var l;for(l=u<0?u+i:u>i?i:u;--l>=0;)t.push(l);return t})),gt:createPositionalPseudo((function(t,i,u){for(var l=u<0?u+i:u;++l<i;)t.push(l);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=createInputPseudo(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=createButtonPseudo(t);function setFilters(){}function tokenize(t,u){var l,d,p,h,g,v,y,S=I[t+" "];if(S)return u?0:S.slice(0);for(g=t,v=[],y=i.preFilter;g;){for(h in l&&!(d=Y.exec(g))||(d&&(g=g.slice(d[0].length)||g),v.push(p=[])),l=!1,(d=J.exec(g))&&(l=d.shift(),p.push({value:l,type:d[0].replace(j," ")}),g=g.slice(l.length)),i.filter)!(d=ee[h].exec(g))||y[h]&&!(d=y[h](d))||(l=d.shift(),p.push({value:l,type:h,matches:d}),g=g.slice(l.length));if(!l)break}return u?g.length:g?find.error(t):I(t,v).slice(0)}function toSelector(t){for(var i=0,u=t.length,l="";i<u;i++)l+=t[i].value;return l}function addCombinator(t,i,u){var l=i.dir,d=i.next,p=d||l,h=u&&"parentNode"===p,g=O++;return i.first?function(i,u,d){for(;i=i[l];)if(1===i.nodeType||h)return t(i,u,d);return!1}:function(i,u,v){var y,S,w=[M,g];if(v){for(;i=i[l];)if((1===i.nodeType||h)&&t(i,u,v))return!0}else for(;i=i[l];)if(1===i.nodeType||h)if(S=i[C]||(i[C]={}),d&&nodeName(i,d))i=i[l]||i;else{if((y=S[p])&&y[0]===M&&y[1]===g)return w[2]=y[2];if(S[p]=w,w[2]=t(i,u,v))return!0}return!1}}function elementMatcher(t){return t.length>1?function(i,u,l){for(var d=t.length;d--;)if(!t[d](i,u,l))return!1;return!0}:t[0]}function condense(t,i,u,l,d){for(var p,h=[],g=0,v=t.length,y=null!=i;g<v;g++)(p=t[g])&&(u&&!u(p,l,d)||(h.push(p),y&&i.push(g)));return h}function setMatcher(t,i,u,l,d,p){return l&&!l[C]&&(l=setMatcher(l)),d&&!d[C]&&(d=setMatcher(d,p)),markFunction((function(p,h,g,v){var y,w,E,R,A=[],x=[],C=h.length,M=p||function multipleContexts(t,i,u){for(var l=0,d=i.length;l<d;l++)find(t,i[l],u);return u}(i||"*",g.nodeType?[g]:g,[]),O=!t||!p&&i?M:condense(M,A,t,g,v);if(u?u(O,R=d||(p?t:C||l)?[]:h,g,v):R=O,l)for(y=condense(R,x),l(y,[],g,v),w=y.length;w--;)(E=y[w])&&(R[x[w]]=!(O[x[w]]=E));if(p){if(d||t){if(d){for(y=[],w=R.length;w--;)(E=R[w])&&y.push(O[w]=E);d(null,R=[],y,v)}for(w=R.length;w--;)(E=R[w])&&(y=d?S.call(p,E):A[w])>-1&&(p[y]=!(h[y]=E))}}else R=condense(R===h?R.splice(C,R.length):R),d?d(null,h,R,v):T.apply(h,R)}))}function matcherFromTokens(t){for(var l,d,p,h=t.length,g=i.relative[t[0].type],v=g||i.relative[" "],y=g?1:0,w=addCombinator((function(t){return t===l}),v,!0),E=addCombinator((function(t){return S.call(l,t)>-1}),v,!0),R=[function(t,i,d){var p=!g&&(d||i!=u)||((l=i).nodeType?w(t,i,d):E(t,i,d));return l=null,p}];y<h;y++)if(d=i.relative[t[y].type])R=[addCombinator(elementMatcher(R),d)];else{if((d=i.filter[t[y].type].apply(null,t[y].matches))[C]){for(p=++y;p<h&&!i.relative[t[p].type];p++);return setMatcher(y>1&&elementMatcher(R),y>1&&toSelector(t.slice(0,y-1).concat({value:" "===t[y-2].type?"*":""})).replace(j,"$1"),d,y<p&&matcherFromTokens(t.slice(y,p)),p<h&&matcherFromTokens(t=t.slice(p)),p<h&&toSelector(t))}R.push(d)}return elementMatcher(R)}function compile(t,l){var d,p=[],h=[],g=D[t+" "];if(!g){for(l||(l=tokenize(t)),d=l.length;d--;)(g=matcherFromTokens(l[d]))[C]?p.push(g):h.push(g);g=D(t,function matcherFromGroupMatchers(t,l){var d=l.length>0,p=t.length>0,superMatcher=function(h,g,y,S,E){var R,A,x,C=0,O="0",P=h&&[],I=[],D=u,L=h||p&&i.find.TAG("*",E),q=M+=null==D?1:Math.random()||.1,V=L.length;for(E&&(u=g==v||g||E);O!==V&&null!=(R=L[O]);O++){if(p&&R){for(A=0,g||R.ownerDocument==v||(setDocument(R),y=!w);x=t[A++];)if(x(R,g||v,y)){T.call(S,R);break}E&&(M=q)}d&&((R=!x&&R)&&C--,h&&P.push(R))}if(C+=O,d&&O!==C){for(A=0;x=l[A++];)x(P,I,g,y);if(h){if(C>0)for(;O--;)P[O]||I[O]||(I[O]=N.call(S));I=condense(I)}T.apply(S,I),E&&!h&&I.length>0&&C+l.length>1&&jQuery.uniqueSort(S)}return E&&(M=q,u=D),P};return d?markFunction(superMatcher):superMatcher}(h,p)),g.selector=t}return g}function select(t,u,l,d){var p,h,g,v,y,S="function"==typeof t&&t,E=!d&&tokenize(t=S.selector||t);if(l=l||[],1===E.length){if((h=E[0]=E[0].slice(0)).length>2&&"ID"===(g=h[0]).type&&9===u.nodeType&&w&&i.relative[h[1].type]){if(!(u=(i.find.ID(g.matches[0].replace(oe,funescape),u)||[])[0]))return l;S&&(u=u.parentNode),t=t.slice(h.shift().value.length)}for(p=ee.needsContext.test(t)?0:h.length;p--&&(g=h[p],!i.relative[v=g.type]);)if((y=i.find[v])&&(d=y(g.matches[0].replace(oe,funescape),ie.test(h[0].type)&&testContext(u.parentNode)||u))){if(h.splice(p,1),!(t=d.length&&toSelector(h)))return T.apply(l,d),l;break}}return(S||compile(t,E))(d,u,!w,l,!u||ie.test(t)&&testContext(u.parentNode)||u),l}setFilters.prototype=i.filters=i.pseudos,i.setFilters=new setFilters,x.sortStable=C.split("").sort(sortOrder).join("")===C,setDocument(),x.sortDetached=assert((function(t){return 1&t.compareDocumentPosition(v.createElement("fieldset"))})),jQuery.find=find,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=jQuery.uniqueSort,find.compile=compile,find.select=select,find.setDocument=setDocument,find.tokenize=tokenize,find.escape=jQuery.escapeSelector,find.getText=jQuery.text,find.isXML=jQuery.isXMLDoc,find.selectors=jQuery.expr,find.support=jQuery.support,find.uniqueSort=jQuery.uniqueSort}();var dir=function(t,i,u){for(var l=[],d=void 0!==u;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(d&&jQuery(t).is(u))break;l.push(t)}return l},siblings=function(t,i){for(var u=[];t;t=t.nextSibling)1===t.nodeType&&t!==i&&u.push(t);return u},z=jQuery.expr.match.needsContext,Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(t,i,u){return C(i)?jQuery.grep(t,(function(t,l){return!!i.call(t,l,t)!==u})):i.nodeType?jQuery.grep(t,(function(t){return t===i!==u})):"string"!=typeof i?jQuery.grep(t,(function(t){return S.call(i,t)>-1!==u})):jQuery.filter(i,t,u)}jQuery.filter=function(t,i,u){var l=i[0];return u&&(t=":not("+t+")"),1===i.length&&1===l.nodeType?jQuery.find.matchesSelector(l,t)?[l]:[]:jQuery.find.matches(t,jQuery.grep(i,(function(t){return 1===t.nodeType})))},jQuery.fn.extend({find:function(t){var i,u,l=this.length,d=this;if("string"!=typeof t)return this.pushStack(jQuery(t).filter((function(){for(i=0;i<l;i++)if(jQuery.contains(d[i],this))return!0})));for(u=this.pushStack([]),i=0;i<l;i++)jQuery.find(t,d[i],u);return l>1?jQuery.uniqueSort(u):u},filter:function(t){return this.pushStack(winnow(this,t||[],!1))},not:function(t){return this.pushStack(winnow(this,t||[],!0))},is:function(t){return!!winnow(this,"string"==typeof t&&z.test(t)?jQuery(t):t||[],!1).length}});var W,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(t,i,u){var l,d;if(!t)return this;if(u=u||W,"string"==typeof t){if(!(l="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:G.exec(t))||!l[1]&&i)return!i||i.jquery?(i||u).find(t):this.constructor(i).find(t);if(l[1]){if(i=i instanceof jQuery?i[0]:i,jQuery.merge(this,jQuery.parseHTML(l[1],i&&i.nodeType?i.ownerDocument||i:O,!0)),Q.test(l[1])&&jQuery.isPlainObject(i))for(l in i)C(this[l])?this[l](i[l]):this.attr(l,i[l]);return this}return(d=O.getElementById(l[2]))&&(this[0]=d,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):C(t)?void 0!==u.ready?u.ready(t):t(jQuery):jQuery.makeArray(t,this)}).prototype=jQuery.fn,W=jQuery(O);var $=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function sibling(t,i){for(;(t=t[i])&&1!==t.nodeType;);return t}jQuery.fn.extend({has:function(t){var i=jQuery(t,this),u=i.length;return this.filter((function(){for(var t=0;t<u;t++)if(jQuery.contains(this,i[t]))return!0}))},closest:function(t,i){var u,l=0,d=this.length,p=[],h="string"!=typeof t&&jQuery(t);if(!z.test(t))for(;l<d;l++)for(u=this[l];u&&u!==i;u=u.parentNode)if(u.nodeType<11&&(h?h.index(u)>-1:1===u.nodeType&&jQuery.find.matchesSelector(u,t))){p.push(u);break}return this.pushStack(p.length>1?jQuery.uniqueSort(p):p)},index:function(t){return t?"string"==typeof t?S.call(jQuery(t),this[0]):S.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(t,i))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),jQuery.each({parent:function(t){var i=t.parentNode;return i&&11!==i.nodeType?i:null},parents:function(t){return dir(t,"parentNode")},parentsUntil:function(t,i,u){return dir(t,"parentNode",u)},next:function(t){return sibling(t,"nextSibling")},prev:function(t){return sibling(t,"previousSibling")},nextAll:function(t){return dir(t,"nextSibling")},prevAll:function(t){return dir(t,"previousSibling")},nextUntil:function(t,i,u){return dir(t,"nextSibling",u)},prevUntil:function(t,i,u){return dir(t,"previousSibling",u)},siblings:function(t){return siblings((t.parentNode||{}).firstChild,t)},children:function(t){return siblings(t.firstChild)},contents:function(t){return null!=t.contentDocument&&h(t.contentDocument)?t.contentDocument:(nodeName(t,"template")&&(t=t.content||t),jQuery.merge([],t.childNodes))}},(function(t,i){jQuery.fn[t]=function(u,l){var d=jQuery.map(this,i,u);return"Until"!==t.slice(-5)&&(l=u),l&&"string"==typeof l&&(d=jQuery.filter(l,d)),this.length>1&&(Y[t]||jQuery.uniqueSort(d),$.test(t)&&d.reverse()),this.pushStack(d)}}));var J=/[^\x20\t\r\n\f]+/g;function Identity(t){return t}function Thrower(t){throw t}function adoptValue(t,i,u,l){var d;try{t&&C(d=t.promise)?d.call(t).done(i).fail(u):t&&C(d=t.then)?d.call(t,i,u):i.apply(void 0,[t].slice(l))}catch(t){u.apply(void 0,[t])}}jQuery.Callbacks=function(t){t="string"==typeof t?function createOptions(t){var i={};return jQuery.each(t.match(J)||[],(function(t,u){i[u]=!0})),i}(t):jQuery.extend({},t);var i,u,l,d,p=[],h=[],g=-1,fire=function(){for(d=d||t.once,l=i=!0;h.length;g=-1)for(u=h.shift();++g<p.length;)!1===p[g].apply(u[0],u[1])&&t.stopOnFalse&&(g=p.length,u=!1);t.memory||(u=!1),i=!1,d&&(p=u?[]:"")},v={add:function(){return p&&(u&&!i&&(g=p.length-1,h.push(u)),function add(i){jQuery.each(i,(function(i,u){C(u)?t.unique&&v.has(u)||p.push(u):u&&u.length&&"string"!==toType(u)&&add(u)}))}(arguments),u&&!i&&fire()),this},remove:function(){return jQuery.each(arguments,(function(t,i){for(var u;(u=jQuery.inArray(i,p,u))>-1;)p.splice(u,1),u<=g&&g--})),this},has:function(t){return t?jQuery.inArray(t,p)>-1:p.length>0},empty:function(){return p&&(p=[]),this},disable:function(){return d=h=[],p=u="",this},disabled:function(){return!p},lock:function(){return d=h=[],u||i||(p=u=""),this},locked:function(){return!!d},fireWith:function(t,u){return d||(u=[t,(u=u||[]).slice?u.slice():u],h.push(u),i||fire()),this},fire:function(){return v.fireWith(this,arguments),this},fired:function(){return!!l}};return v},jQuery.extend({Deferred:function(t){var i=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],u="pending",d={state:function(){return u},always:function(){return p.done(arguments).fail(arguments),this},catch:function(t){return d.then(null,t)},pipe:function(){var t=arguments;return jQuery.Deferred((function(u){jQuery.each(i,(function(i,l){var d=C(t[l[4]])&&t[l[4]];p[l[1]]((function(){var t=d&&d.apply(this,arguments);t&&C(t.promise)?t.promise().progress(u.notify).done(u.resolve).fail(u.reject):u[l[0]+"With"](this,d?[t]:arguments)}))})),t=null})).promise()},then:function(t,u,d){var p=0;function resolve(t,i,u,d){return function(){var h=this,g=arguments,mightThrow=function(){var l,v;if(!(t<p)){if((l=u.apply(h,g))===i.promise())throw new TypeError("Thenable self-resolution");v=l&&("object"==typeof l||"function"==typeof l)&&l.then,C(v)?d?v.call(l,resolve(p,i,Identity,d),resolve(p,i,Thrower,d)):(p++,v.call(l,resolve(p,i,Identity,d),resolve(p,i,Thrower,d),resolve(p,i,Identity,i.notifyWith))):(u!==Identity&&(h=void 0,g=[l]),(d||i.resolveWith)(h,g))}},v=d?mightThrow:function(){try{mightThrow()}catch(l){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(l,v.error),t+1>=p&&(u!==Thrower&&(h=void 0,g=[l]),i.rejectWith(h,g))}};t?v():(jQuery.Deferred.getErrorHook?v.error=jQuery.Deferred.getErrorHook():jQuery.Deferred.getStackHook&&(v.error=jQuery.Deferred.getStackHook()),l.setTimeout(v))}}return jQuery.Deferred((function(l){i[0][3].add(resolve(0,l,C(d)?d:Identity,l.notifyWith)),i[1][3].add(resolve(0,l,C(t)?t:Identity)),i[2][3].add(resolve(0,l,C(u)?u:Thrower))})).promise()},promise:function(t){return null!=t?jQuery.extend(t,d):d}},p={};return jQuery.each(i,(function(t,l){var h=l[2],g=l[5];d[l[1]]=h.add,g&&h.add((function(){u=g}),i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),h.add(l[3].fire),p[l[0]]=function(){return p[l[0]+"With"](this===p?void 0:this,arguments),this},p[l[0]+"With"]=h.fireWith})),d.promise(p),t&&t.call(p,p),p},when:function(t){var i=arguments.length,u=i,l=Array(u),d=g.call(arguments),p=jQuery.Deferred(),updateFunc=function(t){return function(u){l[t]=this,d[t]=arguments.length>1?g.call(arguments):u,--i||p.resolveWith(l,d)}};if(i<=1&&(adoptValue(t,p.done(updateFunc(u)).resolve,p.reject,!i),"pending"===p.state()||C(d[u]&&d[u].then)))return p.then();for(;u--;)adoptValue(d[u],updateFunc(u),p.reject);return p.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(t,i){l.console&&l.console.warn&&t&&K.test(t.name)&&l.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},jQuery.readyException=function(t){l.setTimeout((function(){throw t}))};var X=jQuery.Deferred();function completed(){O.removeEventListener("DOMContentLoaded",completed),l.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(t){return X.then(t).catch((function(t){jQuery.readyException(t)})),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==t&&--jQuery.readyWait>0||X.resolveWith(O,[jQuery]))}}),jQuery.ready.then=X.then,"complete"===O.readyState||"loading"!==O.readyState&&!O.documentElement.doScroll?l.setTimeout(jQuery.ready):(O.addEventListener("DOMContentLoaded",completed),l.addEventListener("load",completed));var access=function(t,i,u,l,d,p,h){var g=0,v=t.length,y=null==u;if("object"===toType(u))for(g in d=!0,u)access(t,i,g,u[g],!0,p,h);else if(void 0!==l&&(d=!0,C(l)||(h=!0),y&&(h?(i.call(t,l),i=null):(y=i,i=function(t,i,u){return y.call(jQuery(t),u)})),i))for(;g<v;g++)i(t[g],u,h?l:l.call(t[g],g,i(t[g],u)));return d?t:y?i.call(t):v?i(t[0],u):p},Z=/^-ms-/,ee=/-([a-z])/g;function fcamelCase(t,i){return i.toUpperCase()}function camelCase(t){return t.replace(Z,"ms-").replace(ee,fcamelCase)}var acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(t){var i=t[this.expando];return i||(i={},acceptData(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,u){var l,d=this.cache(t);if("string"==typeof i)d[camelCase(i)]=u;else for(l in i)d[camelCase(l)]=i[l];return d},get:function(t,i){return void 0===i?this.cache(t):t[this.expando]&&t[this.expando][camelCase(i)]},access:function(t,i,u){return void 0===i||i&&"string"==typeof i&&void 0===u?this.get(t,i):(this.set(t,i,u),void 0!==u?u:i)},remove:function(t,i){var u,l=t[this.expando];if(void 0!==l){if(void 0!==i){u=(i=Array.isArray(i)?i.map(camelCase):(i=camelCase(i))in l?[i]:i.match(J)||[]).length;for(;u--;)delete l[i[u]]}(void 0===i||jQuery.isEmptyObject(l))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return void 0!==i&&!jQuery.isEmptyObject(i)}};var te=new Data,ne=new Data,re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ie=/[A-Z]/g;function dataAttr(t,i,u){var l;if(void 0===u&&1===t.nodeType)if(l="data-"+i.replace(ie,"-$&").toLowerCase(),"string"==typeof(u=t.getAttribute(l))){try{u=function getData(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:re.test(t)?JSON.parse(t):t)}(u)}catch(t){}ne.set(t,i,u)}else u=void 0;return u}jQuery.extend({hasData:function(t){return ne.hasData(t)||te.hasData(t)},data:function(t,i,u){return ne.access(t,i,u)},removeData:function(t,i){ne.remove(t,i)},_data:function(t,i,u){return te.access(t,i,u)},_removeData:function(t,i){te.remove(t,i)}}),jQuery.fn.extend({data:function(t,i){var u,l,d,p=this[0],h=p&&p.attributes;if(void 0===t){if(this.length&&(d=ne.get(p),1===p.nodeType&&!te.get(p,"hasDataAttrs"))){for(u=h.length;u--;)h[u]&&0===(l=h[u].name).indexOf("data-")&&(l=camelCase(l.slice(5)),dataAttr(p,l,d[l]));te.set(p,"hasDataAttrs",!0)}return d}return"object"==typeof t?this.each((function(){ne.set(this,t)})):access(this,(function(i){var u;if(p&&void 0===i)return void 0!==(u=ne.get(p,t))||void 0!==(u=dataAttr(p,t))?u:void 0;this.each((function(){ne.set(this,t,i)}))}),null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){ne.remove(this,t)}))}}),jQuery.extend({queue:function(t,i,u){var l;if(t)return i=(i||"fx")+"queue",l=te.get(t,i),u&&(!l||Array.isArray(u)?l=te.access(t,i,jQuery.makeArray(u)):l.push(u)),l||[]},dequeue:function(t,i){i=i||"fx";var u=jQuery.queue(t,i),l=u.length,d=u.shift(),p=jQuery._queueHooks(t,i);"inprogress"===d&&(d=u.shift(),l--),d&&("fx"===i&&u.unshift("inprogress"),delete p.stop,d.call(t,(function(){jQuery.dequeue(t,i)}),p)),!l&&p&&p.empty.fire()},_queueHooks:function(t,i){var u=i+"queueHooks";return te.get(t,u)||te.access(t,u,{empty:jQuery.Callbacks("once memory").add((function(){te.remove(t,[i+"queue",u])}))})}}),jQuery.fn.extend({queue:function(t,i){var u=2;return"string"!=typeof t&&(i=t,t="fx",u--),arguments.length<u?jQuery.queue(this[0],t):void 0===i?this:this.each((function(){var u=jQuery.queue(this,t,i);jQuery._queueHooks(this,t),"fx"===t&&"inprogress"!==u[0]&&jQuery.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){jQuery.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var u,l=1,d=jQuery.Deferred(),p=this,h=this.length,resolve=function(){--l||d.resolveWith(p,[p])};for("string"!=typeof t&&(i=t,t=void 0),t=t||"fx";h--;)(u=te.get(p[h],t+"queueHooks"))&&u.empty&&(l++,u.empty.add(resolve));return resolve(),d.promise(i)}});var oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),se=["Top","Right","Bottom","Left"],ue=O.documentElement,isAttached=function(t){return jQuery.contains(t.ownerDocument,t)},le={composed:!0};ue.getRootNode&&(isAttached=function(t){return jQuery.contains(t.ownerDocument,t)||t.getRootNode(le)===t.ownerDocument});var isHiddenWithinTree=function(t,i){return"none"===(t=i||t).style.display||""===t.style.display&&isAttached(t)&&"none"===jQuery.css(t,"display")};function adjustCSS(t,i,u,l){var d,p,h=20,g=l?function(){return l.cur()}:function(){return jQuery.css(t,i,"")},v=g(),y=u&&u[3]||(jQuery.cssNumber[i]?"":"px"),S=t.nodeType&&(jQuery.cssNumber[i]||"px"!==y&&+v)&&ae.exec(jQuery.css(t,i));if(S&&S[3]!==y){for(v/=2,y=y||S[3],S=+v||1;h--;)jQuery.style(t,i,S+y),(1-p)*(1-(p=g()/v||.5))<=0&&(h=0),S/=p;S*=2,jQuery.style(t,i,S+y),u=u||[]}return u&&(S=+S||+v||0,d=u[1]?S+(u[1]+1)*u[2]:+u[2],l&&(l.unit=y,l.start=S,l.end=d)),d}var ce={};function getDefaultDisplay(t){var i,u=t.ownerDocument,l=t.nodeName,d=ce[l];return d||(i=u.body.appendChild(u.createElement(l)),d=jQuery.css(i,"display"),i.parentNode.removeChild(i),"none"===d&&(d="block"),ce[l]=d,d)}function showHide(t,i){for(var u,l,d=[],p=0,h=t.length;p<h;p++)(l=t[p]).style&&(u=l.style.display,i?("none"===u&&(d[p]=te.get(l,"display")||null,d[p]||(l.style.display="")),""===l.style.display&&isHiddenWithinTree(l)&&(d[p]=getDefaultDisplay(l))):"none"!==u&&(d[p]="none",te.set(l,"display",u)));for(p=0;p<h;p++)null!=d[p]&&(t[p].style.display=d[p]);return t}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()}))}});var de,fe,pe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;de=O.createDocumentFragment().appendChild(O.createElement("div")),(fe=O.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),de.appendChild(fe),x.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",x.option=!!de.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(t,i){var u;return u=void 0!==t.getElementsByTagName?t.getElementsByTagName(i||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(i||"*"):[],void 0===i||i&&nodeName(t,i)?jQuery.merge([t],u):u}function setGlobalEval(t,i){for(var u=0,l=t.length;u<l;u++)te.set(t[u],"globalEval",!i||te.get(i[u],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,x.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function buildFragment(t,i,u,l,d){for(var p,h,g,v,y,S,w=i.createDocumentFragment(),E=[],R=0,A=t.length;R<A;R++)if((p=t[R])||0===p)if("object"===toType(p))jQuery.merge(E,p.nodeType?[p]:p);else if(ve.test(p)){for(h=h||w.appendChild(i.createElement("div")),g=(he.exec(p)||["",""])[1].toLowerCase(),v=me[g]||me._default,h.innerHTML=v[1]+jQuery.htmlPrefilter(p)+v[2],S=v[0];S--;)h=h.lastChild;jQuery.merge(E,h.childNodes),(h=w.firstChild).textContent=""}else E.push(i.createTextNode(p));for(w.textContent="",R=0;p=E[R++];)if(l&&jQuery.inArray(p,l)>-1)d&&d.push(p);else if(y=isAttached(p),h=getAll(w.appendChild(p),"script"),y&&setGlobalEval(h),u)for(S=0;p=h[S++];)ge.test(p.type||"")&&u.push(p);return w}var ye=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function on(t,i,u,l,d,p){var h,g;if("object"==typeof i){for(g in"string"!=typeof u&&(l=l||u,u=void 0),i)on(t,g,u,l,i[g],p);return t}if(null==l&&null==d?(d=u,l=u=void 0):null==d&&("string"==typeof u?(d=l,l=void 0):(d=l,l=u,u=void 0)),!1===d)d=returnFalse;else if(!d)return t;return 1===p&&(h=d,d=function(t){return jQuery().off(t),h.apply(this,arguments)},d.guid=h.guid||(h.guid=jQuery.guid++)),t.each((function(){jQuery.event.add(this,i,d,l,u)}))}function leverageNative(t,i,u){u?(te.set(t,i,!1),jQuery.event.add(t,i,{namespace:!1,handler:function(t){var u,l=te.get(this,i);if(1&t.isTrigger&&this[i]){if(l)(jQuery.event.special[i]||{}).delegateType&&t.stopPropagation();else if(l=g.call(arguments),te.set(this,i,l),this[i](),u=te.get(this,i),te.set(this,i,!1),l!==u)return t.stopImmediatePropagation(),t.preventDefault(),u}else l&&(te.set(this,i,jQuery.event.trigger(l[0],l.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=returnTrue)}})):void 0===te.get(t,i)&&jQuery.event.add(t,i,returnTrue)}jQuery.event={global:{},add:function(t,i,u,l,d){var p,h,g,v,y,S,w,E,R,A,T,x=te.get(t);if(acceptData(t))for(u.handler&&(u=(p=u).handler,d=p.selector),d&&jQuery.find.matchesSelector(ue,d),u.guid||(u.guid=jQuery.guid++),(v=x.events)||(v=x.events=Object.create(null)),(h=x.handle)||(h=x.handle=function(i){return void 0!==jQuery&&jQuery.event.triggered!==i.type?jQuery.event.dispatch.apply(t,arguments):void 0}),y=(i=(i||"").match(J)||[""]).length;y--;)R=T=(g=ye.exec(i[y])||[])[1],A=(g[2]||"").split(".").sort(),R&&(w=jQuery.event.special[R]||{},R=(d?w.delegateType:w.bindType)||R,w=jQuery.event.special[R]||{},S=jQuery.extend({type:R,origType:T,data:l,handler:u,guid:u.guid,selector:d,needsContext:d&&jQuery.expr.match.needsContext.test(d),namespace:A.join(".")},p),(E=v[R])||((E=v[R]=[]).delegateCount=0,w.setup&&!1!==w.setup.call(t,l,A,h)||t.addEventListener&&t.addEventListener(R,h)),w.add&&(w.add.call(t,S),S.handler.guid||(S.handler.guid=u.guid)),d?E.splice(E.delegateCount++,0,S):E.push(S),jQuery.event.global[R]=!0)},remove:function(t,i,u,l,d){var p,h,g,v,y,S,w,E,R,A,T,x=te.hasData(t)&&te.get(t);if(x&&(v=x.events)){for(y=(i=(i||"").match(J)||[""]).length;y--;)if(R=T=(g=ye.exec(i[y])||[])[1],A=(g[2]||"").split(".").sort(),R){for(w=jQuery.event.special[R]||{},E=v[R=(l?w.delegateType:w.bindType)||R]||[],g=g[2]&&new RegExp("(^|\\.)"+A.join("\\.(?:.*\\.|)")+"(\\.|$)"),h=p=E.length;p--;)S=E[p],!d&&T!==S.origType||u&&u.guid!==S.guid||g&&!g.test(S.namespace)||l&&l!==S.selector&&("**"!==l||!S.selector)||(E.splice(p,1),S.selector&&E.delegateCount--,w.remove&&w.remove.call(t,S));h&&!E.length&&(w.teardown&&!1!==w.teardown.call(t,A,x.handle)||jQuery.removeEvent(t,R,x.handle),delete v[R])}else for(R in v)jQuery.event.remove(t,R+i[y],u,l,!0);jQuery.isEmptyObject(v)&&te.remove(t,"handle events")}},dispatch:function(t){var i,u,l,d,p,h,g=new Array(arguments.length),v=jQuery.event.fix(t),y=(te.get(this,"events")||Object.create(null))[v.type]||[],S=jQuery.event.special[v.type]||{};for(g[0]=v,i=1;i<arguments.length;i++)g[i]=arguments[i];if(v.delegateTarget=this,!S.preDispatch||!1!==S.preDispatch.call(this,v)){for(h=jQuery.event.handlers.call(this,v,y),i=0;(d=h[i++])&&!v.isPropagationStopped();)for(v.currentTarget=d.elem,u=0;(p=d.handlers[u++])&&!v.isImmediatePropagationStopped();)v.rnamespace&&!1!==p.namespace&&!v.rnamespace.test(p.namespace)||(v.handleObj=p,v.data=p.data,void 0!==(l=((jQuery.event.special[p.origType]||{}).handle||p.handler).apply(d.elem,g))&&!1===(v.result=l)&&(v.preventDefault(),v.stopPropagation()));return S.postDispatch&&S.postDispatch.call(this,v),v.result}},handlers:function(t,i){var u,l,d,p,h,g=[],v=i.delegateCount,y=t.target;if(v&&y.nodeType&&!("click"===t.type&&t.button>=1))for(;y!==this;y=y.parentNode||this)if(1===y.nodeType&&("click"!==t.type||!0!==y.disabled)){for(p=[],h={},u=0;u<v;u++)void 0===h[d=(l=i[u]).selector+" "]&&(h[d]=l.needsContext?jQuery(d,this).index(y)>-1:jQuery.find(d,this,null,[y]).length),h[d]&&p.push(l);p.length&&g.push({elem:y,handlers:p})}return y=this,v<i.length&&g.push({elem:y,handlers:i.slice(v)}),g},addProp:function(t,i){Object.defineProperty(jQuery.Event.prototype,t,{enumerable:!0,configurable:!0,get:C(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(i){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:i})}})},fix:function(t){return t[jQuery.expando]?t:new jQuery.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return pe.test(i.type)&&i.click&&nodeName(i,"input")&&leverageNative(i,"click",!0),!1},trigger:function(t){var i=this||t;return pe.test(i.type)&&i.click&&nodeName(i,"input")&&leverageNative(i,"click"),!0},_default:function(t){var i=t.target;return pe.test(i.type)&&i.click&&nodeName(i,"input")&&te.get(i,"click")||nodeName(i,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},jQuery.removeEvent=function(t,i,u){t.removeEventListener&&t.removeEventListener(i,u)},jQuery.Event=function(t,i){if(!(this instanceof jQuery.Event))return new jQuery.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?returnTrue:returnFalse,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&jQuery.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=returnTrue,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=returnTrue,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},(function(t,i){function focusMappedHandler(t){if(O.documentMode){var u=te.get(this,"handle"),l=jQuery.event.fix(t);l.type="focusin"===t.type?"focus":"blur",l.isSimulated=!0,u(t),l.target===l.currentTarget&&u(l)}else jQuery.event.simulate(i,t.target,jQuery.event.fix(t))}jQuery.event.special[t]={setup:function(){var u;if(leverageNative(this,t,!0),!O.documentMode)return!1;(u=te.get(this,i))||this.addEventListener(i,focusMappedHandler),te.set(this,i,(u||0)+1)},trigger:function(){return leverageNative(this,t),!0},teardown:function(){var t;if(!O.documentMode)return!1;(t=te.get(this,i)-1)?te.set(this,i,t):(this.removeEventListener(i,focusMappedHandler),te.remove(this,i))},_default:function(i){return te.get(i.target,t)},delegateType:i},jQuery.event.special[i]={setup:function(){var u=this.ownerDocument||this.document||this,l=O.documentMode?this:u,d=te.get(l,i);d||(O.documentMode?this.addEventListener(i,focusMappedHandler):u.addEventListener(t,focusMappedHandler,!0)),te.set(l,i,(d||0)+1)},teardown:function(){var u=this.ownerDocument||this.document||this,l=O.documentMode?this:u,d=te.get(l,i)-1;d?te.set(l,i,d):(O.documentMode?this.removeEventListener(i,focusMappedHandler):u.removeEventListener(t,focusMappedHandler,!0),te.remove(l,i))}}})),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,i){jQuery.event.special[t]={delegateType:i,bindType:i,handle:function(t){var u,l=t.relatedTarget,d=t.handleObj;return l&&(l===this||jQuery.contains(this,l))||(t.type=d.origType,u=d.handler.apply(this,arguments),t.type=i),u}}})),jQuery.fn.extend({on:function(t,i,u,l){return on(this,t,i,u,l)},one:function(t,i,u,l){return on(this,t,i,u,l,1)},off:function(t,i,u){var l,d;if(t&&t.preventDefault&&t.handleObj)return l=t.handleObj,jQuery(t.delegateTarget).off(l.namespace?l.origType+"."+l.namespace:l.origType,l.selector,l.handler),this;if("object"==typeof t){for(d in t)this.off(d,i,t[d]);return this}return!1!==i&&"function"!=typeof i||(u=i,i=void 0),!1===u&&(u=returnFalse),this.each((function(){jQuery.event.remove(this,t,u,i)}))}});var be=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function manipulationTarget(t,i){return nodeName(t,"table")&&nodeName(11!==i.nodeType?i:i.firstChild,"tr")&&jQuery(t).children("tbody")[0]||t}function disableScript(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function restoreScript(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function cloneCopyEvent(t,i){var u,l,d,p,h,g;if(1===i.nodeType){if(te.hasData(t)&&(g=te.get(t).events))for(d in te.remove(i,"handle events"),g)for(u=0,l=g[d].length;u<l;u++)jQuery.event.add(i,d,g[d][u]);ne.hasData(t)&&(p=ne.access(t),h=jQuery.extend({},p),ne.set(i,h))}}function fixInput(t,i){var u=i.nodeName.toLowerCase();"input"===u&&pe.test(t.type)?i.checked=t.checked:"input"!==u&&"textarea"!==u||(i.defaultValue=t.defaultValue)}function domManip(t,i,u,l){i=v(i);var d,p,h,g,y,S,w=0,E=t.length,R=E-1,A=i[0],T=C(A);if(T||E>1&&"string"==typeof A&&!x.checkClone&&_e.test(A))return t.each((function(d){var p=t.eq(d);T&&(i[0]=A.call(this,d,p.html())),domManip(p,i,u,l)}));if(E&&(p=(d=buildFragment(i,t[0].ownerDocument,!1,t,l)).firstChild,1===d.childNodes.length&&(d=p),p||l)){for(g=(h=jQuery.map(getAll(d,"script"),disableScript)).length;w<E;w++)y=d,w!==R&&(y=jQuery.clone(y,!0,!0),g&&jQuery.merge(h,getAll(y,"script"))),u.call(t[w],y,w);if(g)for(S=h[h.length-1].ownerDocument,jQuery.map(h,restoreScript),w=0;w<g;w++)y=h[w],ge.test(y.type||"")&&!te.access(y,"globalEval")&&jQuery.contains(S,y)&&(y.src&&"module"!==(y.type||"").toLowerCase()?jQuery._evalUrl&&!y.noModule&&jQuery._evalUrl(y.src,{nonce:y.nonce||y.getAttribute("nonce")},S):DOMEval(y.textContent.replace(Se,""),y,S))}return t}function remove(t,i,u){for(var l,d=i?jQuery.filter(i,t):t,p=0;null!=(l=d[p]);p++)u||1!==l.nodeType||jQuery.cleanData(getAll(l)),l.parentNode&&(u&&isAttached(l)&&setGlobalEval(getAll(l,"script")),l.parentNode.removeChild(l));return t}jQuery.extend({htmlPrefilter:function(t){return t},clone:function(t,i,u){var l,d,p,h,g=t.cloneNode(!0),v=isAttached(t);if(!(x.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||jQuery.isXMLDoc(t)))for(h=getAll(g),l=0,d=(p=getAll(t)).length;l<d;l++)fixInput(p[l],h[l]);if(i)if(u)for(p=p||getAll(t),h=h||getAll(g),l=0,d=p.length;l<d;l++)cloneCopyEvent(p[l],h[l]);else cloneCopyEvent(t,g);return(h=getAll(g,"script")).length>0&&setGlobalEval(h,!v&&getAll(t,"script")),g},cleanData:function(t){for(var i,u,l,d=jQuery.event.special,p=0;void 0!==(u=t[p]);p++)if(acceptData(u)){if(i=u[te.expando]){if(i.events)for(l in i.events)d[l]?jQuery.event.remove(u,l):jQuery.removeEvent(u,l,i.handle);u[te.expando]=void 0}u[ne.expando]&&(u[ne.expando]=void 0)}}}),jQuery.fn.extend({detach:function(t){return remove(this,t,!0)},remove:function(t){return remove(this,t)},text:function(t){return access(this,(function(t){return void 0===t?jQuery.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return domManip(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,t).appendChild(t)}))},prepend:function(){return domManip(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var i=manipulationTarget(this,t);i.insertBefore(t,i.firstChild)}}))},before:function(){return domManip(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return domManip(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,i=0;null!=(t=this[i]);i++)1===t.nodeType&&(jQuery.cleanData(getAll(t,!1)),t.textContent="");return this},clone:function(t,i){return t=null!=t&&t,i=null==i?t:i,this.map((function(){return jQuery.clone(this,t,i)}))},html:function(t){return access(this,(function(t){var i=this[0]||{},u=0,l=this.length;if(void 0===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof t&&!be.test(t)&&!me[(he.exec(t)||["",""])[1].toLowerCase()]){t=jQuery.htmlPrefilter(t);try{for(;u<l;u++)1===(i=this[u]||{}).nodeType&&(jQuery.cleanData(getAll(i,!1)),i.innerHTML=t);i=0}catch(t){}}i&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return domManip(this,arguments,(function(i){var u=this.parentNode;jQuery.inArray(this,t)<0&&(jQuery.cleanData(getAll(this)),u&&u.replaceChild(i,this))}),t)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,i){jQuery.fn[t]=function(t){for(var u,l=[],d=jQuery(t),p=d.length-1,h=0;h<=p;h++)u=h===p?this:this.clone(!0),jQuery(d[h])[i](u),y.apply(l,u.get());return this.pushStack(l)}}));var we=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Ee=/^--/,getStyles=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=l),i.getComputedStyle(t)},swap=function(t,i,u){var l,d,p={};for(d in i)p[d]=t.style[d],t.style[d]=i[d];for(d in l=u.call(t),i)t.style[d]=p[d];return l},Re=new RegExp(se.join("|"),"i");function curCSS(t,i,u){var l,d,p,h,g=Ee.test(i),v=t.style;return(u=u||getStyles(t))&&(h=u.getPropertyValue(i)||u[i],g&&h&&(h=h.replace(j,"$1")||void 0),""!==h||isAttached(t)||(h=jQuery.style(t,i)),!x.pixelBoxStyles()&&we.test(h)&&Re.test(i)&&(l=v.width,d=v.minWidth,p=v.maxWidth,v.minWidth=v.maxWidth=v.width=h,h=u.width,v.width=l,v.minWidth=d,v.maxWidth=p)),void 0!==h?h+"":h}function addGetHookIf(t,i){return{get:function(){if(!t())return(this.get=i).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(v){g.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",v.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ue.appendChild(g).appendChild(v);var p=l.getComputedStyle(v);t="1%"!==p.top,h=12===roundPixelMeasures(p.marginLeft),v.style.right="60%",d=36===roundPixelMeasures(p.right),i=36===roundPixelMeasures(p.width),v.style.position="absolute",u=12===roundPixelMeasures(v.offsetWidth/3),ue.removeChild(g),v=null}}function roundPixelMeasures(t){return Math.round(parseFloat(t))}var t,i,u,d,p,h,g=O.createElement("div"),v=O.createElement("div");v.style&&(v.style.backgroundClip="content-box",v.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle="content-box"===v.style.backgroundClip,jQuery.extend(x,{boxSizingReliable:function(){return computeStyleTests(),i},pixelBoxStyles:function(){return computeStyleTests(),d},pixelPosition:function(){return computeStyleTests(),t},reliableMarginLeft:function(){return computeStyleTests(),h},scrollboxSize:function(){return computeStyleTests(),u},reliableTrDimensions:function(){var t,i,u,d;return null==p&&(t=O.createElement("table"),i=O.createElement("tr"),u=O.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",i.style.cssText="box-sizing:content-box;border:1px solid",i.style.height="1px",u.style.height="9px",u.style.display="block",ue.appendChild(t).appendChild(i).appendChild(u),d=l.getComputedStyle(i),p=parseInt(d.height,10)+parseInt(d.borderTopWidth,10)+parseInt(d.borderBottomWidth,10)===i.offsetHeight,ue.removeChild(t)),p}}))}();var Ae=["Webkit","Moz","ms"],Te=O.createElement("div").style,xe={};function finalPropName(t){var i=jQuery.cssProps[t]||xe[t];return i||(t in Te?t:xe[t]=function vendorPropName(t){for(var i=t[0].toUpperCase()+t.slice(1),u=Ae.length;u--;)if((t=Ae[u]+i)in Te)return t}(t)||t)}var Ce=/^(none|table(?!-c[ea]).+)/,Me={position:"absolute",visibility:"hidden",display:"block"},Oe={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(t,i,u){var l=ae.exec(i);return l?Math.max(0,l[2]-(u||0))+(l[3]||"px"):i}function boxModelAdjustment(t,i,u,l,d,p){var h="width"===i?1:0,g=0,v=0,y=0;if(u===(l?"border":"content"))return 0;for(;h<4;h+=2)"margin"===u&&(y+=jQuery.css(t,u+se[h],!0,d)),l?("content"===u&&(v-=jQuery.css(t,"padding"+se[h],!0,d)),"margin"!==u&&(v-=jQuery.css(t,"border"+se[h]+"Width",!0,d))):(v+=jQuery.css(t,"padding"+se[h],!0,d),"padding"!==u?v+=jQuery.css(t,"border"+se[h]+"Width",!0,d):g+=jQuery.css(t,"border"+se[h]+"Width",!0,d));return!l&&p>=0&&(v+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-p-v-g-.5))||0),v+y}function getWidthOrHeight(t,i,u){var l=getStyles(t),d=(!x.boxSizingReliable()||u)&&"border-box"===jQuery.css(t,"boxSizing",!1,l),p=d,h=curCSS(t,i,l),g="offset"+i[0].toUpperCase()+i.slice(1);if(we.test(h)){if(!u)return h;h="auto"}return(!x.boxSizingReliable()&&d||!x.reliableTrDimensions()&&nodeName(t,"tr")||"auto"===h||!parseFloat(h)&&"inline"===jQuery.css(t,"display",!1,l))&&t.getClientRects().length&&(d="border-box"===jQuery.css(t,"boxSizing",!1,l),(p=g in t)&&(h=t[g])),(h=parseFloat(h)||0)+boxModelAdjustment(t,i,u||(d?"border":"content"),p,l,h)+"px"}function Tween(t,i,u,l,d){return new Tween.prototype.init(t,i,u,l,d)}jQuery.extend({cssHooks:{opacity:{get:function(t,i){if(i){var u=curCSS(t,"opacity");return""===u?"1":u}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,u,l){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var d,p,h,g=camelCase(i),v=Ee.test(i),y=t.style;if(v||(i=finalPropName(g)),h=jQuery.cssHooks[i]||jQuery.cssHooks[g],void 0===u)return h&&"get"in h&&void 0!==(d=h.get(t,!1,l))?d:y[i];"string"===(p=typeof u)&&(d=ae.exec(u))&&d[1]&&(u=adjustCSS(t,i,d),p="number"),null!=u&&u==u&&("number"!==p||v||(u+=d&&d[3]||(jQuery.cssNumber[g]?"":"px")),x.clearCloneStyle||""!==u||0!==i.indexOf("background")||(y[i]="inherit"),h&&"set"in h&&void 0===(u=h.set(t,u,l))||(v?y.setProperty(i,u):y[i]=u))}},css:function(t,i,u,l){var d,p,h,g=camelCase(i);return Ee.test(i)||(i=finalPropName(g)),(h=jQuery.cssHooks[i]||jQuery.cssHooks[g])&&"get"in h&&(d=h.get(t,!0,u)),void 0===d&&(d=curCSS(t,i,l)),"normal"===d&&i in Oe&&(d=Oe[i]),""===u||u?(p=parseFloat(d),!0===u||isFinite(p)?p||0:d):d}}),jQuery.each(["height","width"],(function(t,i){jQuery.cssHooks[i]={get:function(t,u,l){if(u)return!Ce.test(jQuery.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?getWidthOrHeight(t,i,l):swap(t,Me,(function(){return getWidthOrHeight(t,i,l)}))},set:function(t,u,l){var d,p=getStyles(t),h=!x.scrollboxSize()&&"absolute"===p.position,g=(h||l)&&"border-box"===jQuery.css(t,"boxSizing",!1,p),v=l?boxModelAdjustment(t,i,l,g,p):0;return g&&h&&(v-=Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(p[i])-boxModelAdjustment(t,i,"border",!1,p)-.5)),v&&(d=ae.exec(u))&&"px"!==(d[3]||"px")&&(t.style[i]=u,u=jQuery.css(t,i)),setPositiveNumber(0,u,v)}}})),jQuery.cssHooks.marginLeft=addGetHookIf(x.reliableMarginLeft,(function(t,i){if(i)return(parseFloat(curCSS(t,"marginLeft"))||t.getBoundingClientRect().left-swap(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),jQuery.each({margin:"",padding:"",border:"Width"},(function(t,i){jQuery.cssHooks[t+i]={expand:function(u){for(var l=0,d={},p="string"==typeof u?u.split(" "):[u];l<4;l++)d[t+se[l]+i]=p[l]||p[l-2]||p[0];return d}},"margin"!==t&&(jQuery.cssHooks[t+i].set=setPositiveNumber)})),jQuery.fn.extend({css:function(t,i){return access(this,(function(t,i,u){var l,d,p={},h=0;if(Array.isArray(i)){for(l=getStyles(t),d=i.length;h<d;h++)p[i[h]]=jQuery.css(t,i[h],!1,l);return p}return void 0!==u?jQuery.style(t,i,u):jQuery.css(t,i)}),t,i,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(t,i,u,l,d,p){this.elem=t,this.prop=u,this.easing=d||jQuery.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=l,this.unit=p||(jQuery.cssNumber[u]?"":"px")},cur:function(){var t=Tween.propHooks[this.prop];return t&&t.get?t.get(this):Tween.propHooks._default.get(this)},run:function(t){var i,u=Tween.propHooks[this.prop];return this.options.duration?this.pos=i=jQuery.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=i=t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),u&&u.set?u.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(t){var i;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(i=jQuery.css(t.elem,t.prop,""))&&"auto"!==i?i:0},set:function(t){jQuery.fx.step[t.prop]?jQuery.fx.step[t.prop](t):1!==t.elem.nodeType||!jQuery.cssHooks[t.prop]&&null==t.elem.style[finalPropName(t.prop)]?t.elem[t.prop]=t.now:jQuery.style(t.elem,t.prop,t.now+t.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},jQuery.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var Pe,Ie,ke=/^(?:toggle|show|hide)$/,De=/queueHooks$/;function schedule(){Ie&&(!1===O.hidden&&l.requestAnimationFrame?l.requestAnimationFrame(schedule):l.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return l.setTimeout((function(){Pe=void 0})),Pe=Date.now()}function genFx(t,i){var u,l=0,d={height:t};for(i=i?1:0;l<4;l+=2-i)d["margin"+(u=se[l])]=d["padding"+u]=t;return i&&(d.opacity=d.width=t),d}function createTween(t,i,u){for(var l,d=(Animation.tweeners[i]||[]).concat(Animation.tweeners["*"]),p=0,h=d.length;p<h;p++)if(l=d[p].call(u,i,t))return l}function Animation(t,i,u){var l,d,p=0,h=Animation.prefilters.length,g=jQuery.Deferred().always((function(){delete tick.elem})),tick=function(){if(d)return!1;for(var i=Pe||createFxNow(),u=Math.max(0,v.startTime+v.duration-i),l=1-(u/v.duration||0),p=0,h=v.tweens.length;p<h;p++)v.tweens[p].run(l);return g.notifyWith(t,[v,l,u]),l<1&&h?u:(h||g.notifyWith(t,[v,1,0]),g.resolveWith(t,[v]),!1)},v=g.promise({elem:t,props:jQuery.extend({},i),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},u),originalProperties:i,originalOptions:u,startTime:Pe||createFxNow(),duration:u.duration,tweens:[],createTween:function(i,u){var l=jQuery.Tween(t,v.opts,i,u,v.opts.specialEasing[i]||v.opts.easing);return v.tweens.push(l),l},stop:function(i){var u=0,l=i?v.tweens.length:0;if(d)return this;for(d=!0;u<l;u++)v.tweens[u].run(1);return i?(g.notifyWith(t,[v,1,0]),g.resolveWith(t,[v,i])):g.rejectWith(t,[v,i]),this}}),y=v.props;for(!function propFilter(t,i){var u,l,d,p,h;for(u in t)if(d=i[l=camelCase(u)],p=t[u],Array.isArray(p)&&(d=p[1],p=t[u]=p[0]),u!==l&&(t[l]=p,delete t[u]),(h=jQuery.cssHooks[l])&&"expand"in h)for(u in p=h.expand(p),delete t[l],p)u in t||(t[u]=p[u],i[u]=d);else i[l]=d}(y,v.opts.specialEasing);p<h;p++)if(l=Animation.prefilters[p].call(v,t,y,v.opts))return C(l.stop)&&(jQuery._queueHooks(v.elem,v.opts.queue).stop=l.stop.bind(l)),l;return jQuery.map(y,createTween,v),C(v.opts.start)&&v.opts.start.call(t,v),v.progress(v.opts.progress).done(v.opts.done,v.opts.complete).fail(v.opts.fail).always(v.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:t,anim:v,queue:v.opts.queue})),v}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(t,i){var u=this.createTween(t,i);return adjustCSS(u.elem,t,ae.exec(i),u),u}]},tweener:function(t,i){C(t)?(i=t,t=["*"]):t=t.match(J);for(var u,l=0,d=t.length;l<d;l++)u=t[l],Animation.tweeners[u]=Animation.tweeners[u]||[],Animation.tweeners[u].unshift(i)},prefilters:[function defaultPrefilter(t,i,u){var l,d,p,h,g,v,y,S,w="width"in i||"height"in i,E=this,R={},A=t.style,T=t.nodeType&&isHiddenWithinTree(t),x=te.get(t,"fxshow");for(l in u.queue||(null==(h=jQuery._queueHooks(t,"fx")).unqueued&&(h.unqueued=0,g=h.empty.fire,h.empty.fire=function(){h.unqueued||g()}),h.unqueued++,E.always((function(){E.always((function(){h.unqueued--,jQuery.queue(t,"fx").length||h.empty.fire()}))}))),i)if(d=i[l],ke.test(d)){if(delete i[l],p=p||"toggle"===d,d===(T?"hide":"show")){if("show"!==d||!x||void 0===x[l])continue;T=!0}R[l]=x&&x[l]||jQuery.style(t,l)}if((v=!jQuery.isEmptyObject(i))||!jQuery.isEmptyObject(R))for(l in w&&1===t.nodeType&&(u.overflow=[A.overflow,A.overflowX,A.overflowY],null==(y=x&&x.display)&&(y=te.get(t,"display")),"none"===(S=jQuery.css(t,"display"))&&(y?S=y:(showHide([t],!0),y=t.style.display||y,S=jQuery.css(t,"display"),showHide([t]))),("inline"===S||"inline-block"===S&&null!=y)&&"none"===jQuery.css(t,"float")&&(v||(E.done((function(){A.display=y})),null==y&&(S=A.display,y="none"===S?"":S)),A.display="inline-block")),u.overflow&&(A.overflow="hidden",E.always((function(){A.overflow=u.overflow[0],A.overflowX=u.overflow[1],A.overflowY=u.overflow[2]}))),v=!1,R)v||(x?"hidden"in x&&(T=x.hidden):x=te.access(t,"fxshow",{display:y}),p&&(x.hidden=!T),T&&showHide([t],!0),E.done((function(){for(l in T||showHide([t]),te.remove(t,"fxshow"),R)jQuery.style(t,l,R[l])}))),v=createTween(T?x[l]:0,l,E),l in x||(x[l]=v.start,T&&(v.end=v.start,v.start=0))}],prefilter:function(t,i){i?Animation.prefilters.unshift(t):Animation.prefilters.push(t)}}),jQuery.speed=function(t,i,u){var l=t&&"object"==typeof t?jQuery.extend({},t):{complete:u||!u&&i||C(t)&&t,duration:t,easing:u&&i||i&&!C(i)&&i};return jQuery.fx.off?l.duration=0:"number"!=typeof l.duration&&(l.duration in jQuery.fx.speeds?l.duration=jQuery.fx.speeds[l.duration]:l.duration=jQuery.fx.speeds._default),null!=l.queue&&!0!==l.queue||(l.queue="fx"),l.old=l.complete,l.complete=function(){C(l.old)&&l.old.call(this),l.queue&&jQuery.dequeue(this,l.queue)},l},jQuery.fn.extend({fadeTo:function(t,i,u,l){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:i},t,u,l)},animate:function(t,i,u,l){var d=jQuery.isEmptyObject(t),p=jQuery.speed(i,u,l),doAnimation=function(){var i=Animation(this,jQuery.extend({},t),p);(d||te.get(this,"finish"))&&i.stop(!0)};return doAnimation.finish=doAnimation,d||!1===p.queue?this.each(doAnimation):this.queue(p.queue,doAnimation)},stop:function(t,i,u){var stopQueue=function(t){var i=t.stop;delete t.stop,i(u)};return"string"!=typeof t&&(u=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each((function(){var i=!0,l=null!=t&&t+"queueHooks",d=jQuery.timers,p=te.get(this);if(l)p[l]&&p[l].stop&&stopQueue(p[l]);else for(l in p)p[l]&&p[l].stop&&De.test(l)&&stopQueue(p[l]);for(l=d.length;l--;)d[l].elem!==this||null!=t&&d[l].queue!==t||(d[l].anim.stop(u),i=!1,d.splice(l,1));!i&&u||jQuery.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var i,u=te.get(this),l=u[t+"queue"],d=u[t+"queueHooks"],p=jQuery.timers,h=l?l.length:0;for(u.finish=!0,jQuery.queue(this,t,[]),d&&d.stop&&d.stop.call(this,!0),i=p.length;i--;)p[i].elem===this&&p[i].queue===t&&(p[i].anim.stop(!0),p.splice(i,1));for(i=0;i<h;i++)l[i]&&l[i].finish&&l[i].finish.call(this);delete u.finish}))}}),jQuery.each(["toggle","show","hide"],(function(t,i){var u=jQuery.fn[i];jQuery.fn[i]=function(t,l,d){return null==t||"boolean"==typeof t?u.apply(this,arguments):this.animate(genFx(i,!0),t,l,d)}})),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,i){jQuery.fn[t]=function(t,u,l){return this.animate(i,t,u,l)}})),jQuery.timers=[],jQuery.fx.tick=function(){var t,i=0,u=jQuery.timers;for(Pe=Date.now();i<u.length;i++)(t=u[i])()||u[i]!==t||u.splice(i--,1);u.length||jQuery.fx.stop(),Pe=void 0},jQuery.fx.timer=function(t){jQuery.timers.push(t),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){Ie||(Ie=!0,schedule())},jQuery.fx.stop=function(){Ie=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(t,i){return t=jQuery.fx&&jQuery.fx.speeds[t]||t,i=i||"fx",this.queue(i,(function(i,u){var d=l.setTimeout(i,t);u.stop=function(){l.clearTimeout(d)}}))},function(){var t=O.createElement("input"),i=O.createElement("select").appendChild(O.createElement("option"));t.type="checkbox",x.checkOn=""!==t.value,x.optSelected=i.selected,(t=O.createElement("input")).value="t",t.type="radio",x.radioValue="t"===t.value}();var Ne,Le=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(t,i){return access(this,jQuery.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each((function(){jQuery.removeAttr(this,t)}))}}),jQuery.extend({attr:function(t,i,u){var l,d,p=t.nodeType;if(3!==p&&8!==p&&2!==p)return void 0===t.getAttribute?jQuery.prop(t,i,u):(1===p&&jQuery.isXMLDoc(t)||(d=jQuery.attrHooks[i.toLowerCase()]||(jQuery.expr.match.bool.test(i)?Ne:void 0)),void 0!==u?null===u?void jQuery.removeAttr(t,i):d&&"set"in d&&void 0!==(l=d.set(t,u,i))?l:(t.setAttribute(i,u+""),u):d&&"get"in d&&null!==(l=d.get(t,i))?l:null==(l=jQuery.find.attr(t,i))?void 0:l)},attrHooks:{type:{set:function(t,i){if(!x.radioValue&&"radio"===i&&nodeName(t,"input")){var u=t.value;return t.setAttribute("type",i),u&&(t.value=u),i}}}},removeAttr:function(t,i){var u,l=0,d=i&&i.match(J);if(d&&1===t.nodeType)for(;u=d[l++];)t.removeAttribute(u)}}),Ne={set:function(t,i,u){return!1===i?jQuery.removeAttr(t,u):t.setAttribute(u,u),u}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),(function(t,i){var u=Le[i]||jQuery.find.attr;Le[i]=function(t,i,l){var d,p,h=i.toLowerCase();return l||(p=Le[h],Le[h]=d,d=null!=u(t,i,l)?h:null,Le[h]=p),d}}));var qe=/^(?:input|select|textarea|button)$/i,Fe=/^(?:a|area)$/i;function stripAndCollapse(t){return(t.match(J)||[]).join(" ")}function getClass(t){return t.getAttribute&&t.getAttribute("class")||""}function classesToArray(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(J)||[]}jQuery.fn.extend({prop:function(t,i){return access(this,jQuery.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[jQuery.propFix[t]||t]}))}}),jQuery.extend({prop:function(t,i,u){var l,d,p=t.nodeType;if(3!==p&&8!==p&&2!==p)return 1===p&&jQuery.isXMLDoc(t)||(i=jQuery.propFix[i]||i,d=jQuery.propHooks[i]),void 0!==u?d&&"set"in d&&void 0!==(l=d.set(t,u,i))?l:t[i]=u:d&&"get"in d&&null!==(l=d.get(t,i))?l:t[i]},propHooks:{tabIndex:{get:function(t){var i=jQuery.find.attr(t,"tabindex");return i?parseInt(i,10):qe.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(jQuery.propHooks.selected={get:function(t){var i=t.parentNode;return i&&i.parentNode&&i.parentNode.selectedIndex,null},set:function(t){var i=t.parentNode;i&&(i.selectedIndex,i.parentNode&&i.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){jQuery.propFix[this.toLowerCase()]=this})),jQuery.fn.extend({addClass:function(t){var i,u,l,d,p,h;return C(t)?this.each((function(i){jQuery(this).addClass(t.call(this,i,getClass(this)))})):(i=classesToArray(t)).length?this.each((function(){if(l=getClass(this),u=1===this.nodeType&&" "+stripAndCollapse(l)+" "){for(p=0;p<i.length;p++)d=i[p],u.indexOf(" "+d+" ")<0&&(u+=d+" ");h=stripAndCollapse(u),l!==h&&this.setAttribute("class",h)}})):this},removeClass:function(t){var i,u,l,d,p,h;return C(t)?this.each((function(i){jQuery(this).removeClass(t.call(this,i,getClass(this)))})):arguments.length?(i=classesToArray(t)).length?this.each((function(){if(l=getClass(this),u=1===this.nodeType&&" "+stripAndCollapse(l)+" "){for(p=0;p<i.length;p++)for(d=i[p];u.indexOf(" "+d+" ")>-1;)u=u.replace(" "+d+" "," ");h=stripAndCollapse(u),l!==h&&this.setAttribute("class",h)}})):this:this.attr("class","")},toggleClass:function(t,i){var u,l,d,p,h=typeof t,g="string"===h||Array.isArray(t);return C(t)?this.each((function(u){jQuery(this).toggleClass(t.call(this,u,getClass(this),i),i)})):"boolean"==typeof i&&g?i?this.addClass(t):this.removeClass(t):(u=classesToArray(t),this.each((function(){if(g)for(p=jQuery(this),d=0;d<u.length;d++)l=u[d],p.hasClass(l)?p.removeClass(l):p.addClass(l);else void 0!==t&&"boolean"!==h||((l=getClass(this))&&te.set(this,"__className__",l),this.setAttribute&&this.setAttribute("class",l||!1===t?"":te.get(this,"__className__")||""))})))},hasClass:function(t){var i,u,l=0;for(i=" "+t+" ";u=this[l++];)if(1===u.nodeType&&(" "+stripAndCollapse(getClass(u))+" ").indexOf(i)>-1)return!0;return!1}});var Ve=/\r/g;jQuery.fn.extend({val:function(t){var i,u,l,d=this[0];return arguments.length?(l=C(t),this.each((function(u){var d;1===this.nodeType&&(null==(d=l?t.call(this,u,jQuery(this).val()):t)?d="":"number"==typeof d?d+="":Array.isArray(d)&&(d=jQuery.map(d,(function(t){return null==t?"":t+""}))),(i=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,d,"value")||(this.value=d))}))):d?(i=jQuery.valHooks[d.type]||jQuery.valHooks[d.nodeName.toLowerCase()])&&"get"in i&&void 0!==(u=i.get(d,"value"))?u:"string"==typeof(u=d.value)?u.replace(Ve,""):null==u?"":u:void 0}}),jQuery.extend({valHooks:{option:{get:function(t){var i=jQuery.find.attr(t,"value");return null!=i?i:stripAndCollapse(jQuery.text(t))}},select:{get:function(t){var i,u,l,d=t.options,p=t.selectedIndex,h="select-one"===t.type,g=h?null:[],v=h?p+1:d.length;for(l=p<0?v:h?p:0;l<v;l++)if(((u=d[l]).selected||l===p)&&!u.disabled&&(!u.parentNode.disabled||!nodeName(u.parentNode,"optgroup"))){if(i=jQuery(u).val(),h)return i;g.push(i)}return g},set:function(t,i){for(var u,l,d=t.options,p=jQuery.makeArray(i),h=d.length;h--;)((l=d[h]).selected=jQuery.inArray(jQuery.valHooks.option.get(l),p)>-1)&&(u=!0);return u||(t.selectedIndex=-1),p}}}}),jQuery.each(["radio","checkbox"],(function(){jQuery.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=jQuery.inArray(jQuery(t).val(),i)>-1}},x.checkOn||(jQuery.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var je=l.location,Ue={guid:Date.now()},Be=/\?/;jQuery.parseXML=function(t){var i,u;if(!t||"string"!=typeof t)return null;try{i=(new l.DOMParser).parseFromString(t,"text/xml")}catch(t){}return u=i&&i.getElementsByTagName("parsererror")[0],i&&!u||jQuery.error("Invalid XML: "+(u?jQuery.map(u.childNodes,(function(t){return t.textContent})).join("\n"):t)),i};var He=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(t){t.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(t,i,u,d){var p,h,g,v,y,S,w,E,A=[u||O],T=R.call(t,"type")?t.type:t,x=R.call(t,"namespace")?t.namespace.split("."):[];if(h=E=g=u=u||O,3!==u.nodeType&&8!==u.nodeType&&!He.test(T+jQuery.event.triggered)&&(T.indexOf(".")>-1&&(x=T.split("."),T=x.shift(),x.sort()),y=T.indexOf(":")<0&&"on"+T,(t=t[jQuery.expando]?t:new jQuery.Event(T,"object"==typeof t&&t)).isTrigger=d?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=u),i=null==i?[t]:jQuery.makeArray(i,[t]),w=jQuery.event.special[T]||{},d||!w.trigger||!1!==w.trigger.apply(u,i))){if(!d&&!w.noBubble&&!M(u)){for(v=w.delegateType||T,He.test(v+T)||(h=h.parentNode);h;h=h.parentNode)A.push(h),g=h;g===(u.ownerDocument||O)&&A.push(g.defaultView||g.parentWindow||l)}for(p=0;(h=A[p++])&&!t.isPropagationStopped();)E=h,t.type=p>1?v:w.bindType||T,(S=(te.get(h,"events")||Object.create(null))[t.type]&&te.get(h,"handle"))&&S.apply(h,i),(S=y&&h[y])&&S.apply&&acceptData(h)&&(t.result=S.apply(h,i),!1===t.result&&t.preventDefault());return t.type=T,d||t.isDefaultPrevented()||w._default&&!1!==w._default.apply(A.pop(),i)||!acceptData(u)||y&&C(u[T])&&!M(u)&&((g=u[y])&&(u[y]=null),jQuery.event.triggered=T,t.isPropagationStopped()&&E.addEventListener(T,stopPropagationCallback),u[T](),t.isPropagationStopped()&&E.removeEventListener(T,stopPropagationCallback),jQuery.event.triggered=void 0,g&&(u[y]=g)),t.result}},simulate:function(t,i,u){var l=jQuery.extend(new jQuery.Event,u,{type:t,isSimulated:!0});jQuery.event.trigger(l,null,i)}}),jQuery.fn.extend({trigger:function(t,i){return this.each((function(){jQuery.event.trigger(t,i,this)}))},triggerHandler:function(t,i){var u=this[0];if(u)return jQuery.event.trigger(t,i,u,!0)}});var ze=/\[\]$/,Qe=/\r?\n/g,We=/^(?:submit|button|image|reset|file)$/i,Ge=/^(?:input|select|textarea|keygen)/i;function buildParams(t,i,u,l){var d;if(Array.isArray(i))jQuery.each(i,(function(i,d){u||ze.test(t)?l(t,d):buildParams(t+"["+("object"==typeof d&&null!=d?i:"")+"]",d,u,l)}));else if(u||"object"!==toType(i))l(t,i);else for(d in i)buildParams(t+"["+d+"]",i[d],u,l)}jQuery.param=function(t,i){var u,l=[],add=function(t,i){var u=C(i)?i():i;l[l.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==u?"":u)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!jQuery.isPlainObject(t))jQuery.each(t,(function(){add(this.name,this.value)}));else for(u in t)buildParams(u,t[u],i,add);return l.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=jQuery.prop(this,"elements");return t?jQuery.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!jQuery(this).is(":disabled")&&Ge.test(this.nodeName)&&!We.test(t)&&(this.checked||!pe.test(t))})).map((function(t,i){var u=jQuery(this).val();return null==u?null:Array.isArray(u)?jQuery.map(u,(function(t){return{name:i.name,value:t.replace(Qe,"\r\n")}})):{name:i.name,value:u.replace(Qe,"\r\n")}})).get()}});var $e=/%20/g,Ye=/#.*$/,Je=/([?&])_=[^&]*/,Ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xe=/^(?:GET|HEAD)$/,Ze=/^\/\//,et={},tt={},nt="*/".concat("*"),rt=O.createElement("a");function addToPrefiltersOrTransports(t){return function(i,u){"string"!=typeof i&&(u=i,i="*");var l,d=0,p=i.toLowerCase().match(J)||[];if(C(u))for(;l=p[d++];)"+"===l[0]?(l=l.slice(1)||"*",(t[l]=t[l]||[]).unshift(u)):(t[l]=t[l]||[]).push(u)}}function inspectPrefiltersOrTransports(t,i,u,l){var d={},p=t===tt;function inspect(h){var g;return d[h]=!0,jQuery.each(t[h]||[],(function(t,h){var v=h(i,u,l);return"string"!=typeof v||p||d[v]?p?!(g=v):void 0:(i.dataTypes.unshift(v),inspect(v),!1)})),g}return inspect(i.dataTypes[0])||!d["*"]&&inspect("*")}function ajaxExtend(t,i){var u,l,d=jQuery.ajaxSettings.flatOptions||{};for(u in i)void 0!==i[u]&&((d[u]?t:l||(l={}))[u]=i[u]);return l&&jQuery.extend(!0,t,l),t}rt.href=je.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:je.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(je.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?ajaxExtend(ajaxExtend(t,jQuery.ajaxSettings),i):ajaxExtend(jQuery.ajaxSettings,t)},ajaxPrefilter:addToPrefiltersOrTransports(et),ajaxTransport:addToPrefiltersOrTransports(tt),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var u,d,p,h,g,v,y,S,w,E,R=jQuery.ajaxSetup({},i),A=R.context||R,T=R.context&&(A.nodeType||A.jquery)?jQuery(A):jQuery.event,x=jQuery.Deferred(),C=jQuery.Callbacks("once memory"),M=R.statusCode||{},P={},I={},D="canceled",N={readyState:0,getResponseHeader:function(t){var i;if(y){if(!h)for(h={};i=Ke.exec(p);)h[i[1].toLowerCase()+" "]=(h[i[1].toLowerCase()+" "]||[]).concat(i[2]);i=h[t.toLowerCase()+" "]}return null==i?null:i.join(", ")},getAllResponseHeaders:function(){return y?p:null},setRequestHeader:function(t,i){return null==y&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,P[t]=i),this},overrideMimeType:function(t){return null==y&&(R.mimeType=t),this},statusCode:function(t){var i;if(t)if(y)N.always(t[N.status]);else for(i in t)M[i]=[M[i],t[i]];return this},abort:function(t){var i=t||D;return u&&u.abort(i),done(0,i),this}};if(x.promise(N),R.url=((t||R.url||je.href)+"").replace(Ze,je.protocol+"//"),R.type=i.method||i.type||R.method||R.type,R.dataTypes=(R.dataType||"*").toLowerCase().match(J)||[""],null==R.crossDomain){v=O.createElement("a");try{v.href=R.url,v.href=v.href,R.crossDomain=rt.protocol+"//"+rt.host!=v.protocol+"//"+v.host}catch(t){R.crossDomain=!0}}if(R.data&&R.processData&&"string"!=typeof R.data&&(R.data=jQuery.param(R.data,R.traditional)),inspectPrefiltersOrTransports(et,R,i,N),y)return N;for(w in(S=jQuery.event&&R.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),R.type=R.type.toUpperCase(),R.hasContent=!Xe.test(R.type),d=R.url.replace(Ye,""),R.hasContent?R.data&&R.processData&&0===(R.contentType||"").indexOf("application/x-www-form-urlencoded")&&(R.data=R.data.replace($e,"+")):(E=R.url.slice(d.length),R.data&&(R.processData||"string"==typeof R.data)&&(d+=(Be.test(d)?"&":"?")+R.data,delete R.data),!1===R.cache&&(d=d.replace(Je,"$1"),E=(Be.test(d)?"&":"?")+"_="+Ue.guid+++E),R.url=d+E),R.ifModified&&(jQuery.lastModified[d]&&N.setRequestHeader("If-Modified-Since",jQuery.lastModified[d]),jQuery.etag[d]&&N.setRequestHeader("If-None-Match",jQuery.etag[d])),(R.data&&R.hasContent&&!1!==R.contentType||i.contentType)&&N.setRequestHeader("Content-Type",R.contentType),N.setRequestHeader("Accept",R.dataTypes[0]&&R.accepts[R.dataTypes[0]]?R.accepts[R.dataTypes[0]]+("*"!==R.dataTypes[0]?", "+nt+"; q=0.01":""):R.accepts["*"]),R.headers)N.setRequestHeader(w,R.headers[w]);if(R.beforeSend&&(!1===R.beforeSend.call(A,N,R)||y))return N.abort();if(D="abort",C.add(R.complete),N.done(R.success),N.fail(R.error),u=inspectPrefiltersOrTransports(tt,R,i,N)){if(N.readyState=1,S&&T.trigger("ajaxSend",[N,R]),y)return N;R.async&&R.timeout>0&&(g=l.setTimeout((function(){N.abort("timeout")}),R.timeout));try{y=!1,u.send(P,done)}catch(t){if(y)throw t;done(-1,t)}}else done(-1,"No Transport");function done(t,i,h,v){var w,E,O,P,I,D=i;y||(y=!0,g&&l.clearTimeout(g),u=void 0,p=v||"",N.readyState=t>0?4:0,w=t>=200&&t<300||304===t,h&&(P=function ajaxHandleResponses(t,i,u){for(var l,d,p,h,g=t.contents,v=t.dataTypes;"*"===v[0];)v.shift(),void 0===l&&(l=t.mimeType||i.getResponseHeader("Content-Type"));if(l)for(d in g)if(g[d]&&g[d].test(l)){v.unshift(d);break}if(v[0]in u)p=v[0];else{for(d in u){if(!v[0]||t.converters[d+" "+v[0]]){p=d;break}h||(h=d)}p=p||h}if(p)return p!==v[0]&&v.unshift(p),u[p]}(R,N,h)),!w&&jQuery.inArray("script",R.dataTypes)>-1&&jQuery.inArray("json",R.dataTypes)<0&&(R.converters["text script"]=function(){}),P=function ajaxConvert(t,i,u,l){var d,p,h,g,v,y={},S=t.dataTypes.slice();if(S[1])for(h in t.converters)y[h.toLowerCase()]=t.converters[h];for(p=S.shift();p;)if(t.responseFields[p]&&(u[t.responseFields[p]]=i),!v&&l&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),v=p,p=S.shift())if("*"===p)p=v;else if("*"!==v&&v!==p){if(!(h=y[v+" "+p]||y["* "+p]))for(d in y)if((g=d.split(" "))[1]===p&&(h=y[v+" "+g[0]]||y["* "+g[0]])){!0===h?h=y[d]:!0!==y[d]&&(p=g[0],S.unshift(g[1]));break}if(!0!==h)if(h&&t.throws)i=h(i);else try{i=h(i)}catch(t){return{state:"parsererror",error:h?t:"No conversion from "+v+" to "+p}}}return{state:"success",data:i}}(R,P,N,w),w?(R.ifModified&&((I=N.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[d]=I),(I=N.getResponseHeader("etag"))&&(jQuery.etag[d]=I)),204===t||"HEAD"===R.type?D="nocontent":304===t?D="notmodified":(D=P.state,E=P.data,w=!(O=P.error))):(O=D,!t&&D||(D="error",t<0&&(t=0))),N.status=t,N.statusText=(i||D)+"",w?x.resolveWith(A,[E,D,N]):x.rejectWith(A,[N,D,O]),N.statusCode(M),M=void 0,S&&T.trigger(w?"ajaxSuccess":"ajaxError",[N,R,w?E:O]),C.fireWith(A,[N,D]),S&&(T.trigger("ajaxComplete",[N,R]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return N},getJSON:function(t,i,u){return jQuery.get(t,i,u,"json")},getScript:function(t,i){return jQuery.get(t,void 0,i,"script")}}),jQuery.each(["get","post"],(function(t,i){jQuery[i]=function(t,u,l,d){return C(u)&&(d=d||l,l=u,u=void 0),jQuery.ajax(jQuery.extend({url:t,type:i,dataType:d,data:u,success:l},jQuery.isPlainObject(t)&&t))}})),jQuery.ajaxPrefilter((function(t){var i;for(i in t.headers)"content-type"===i.toLowerCase()&&(t.contentType=t.headers[i]||"")})),jQuery._evalUrl=function(t,i,u){return jQuery.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){jQuery.globalEval(t,i,u)}})},jQuery.fn.extend({wrapAll:function(t){var i;return this[0]&&(C(t)&&(t=t.call(this[0])),i=jQuery(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return C(t)?this.each((function(i){jQuery(this).wrapInner(t.call(this,i))})):this.each((function(){var i=jQuery(this),u=i.contents();u.length?u.wrapAll(t):i.append(t)}))},wrap:function(t){var i=C(t);return this.each((function(u){jQuery(this).wrapAll(i?t.call(this,u):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){jQuery(this).replaceWith(this.childNodes)})),this}}),jQuery.expr.pseudos.hidden=function(t){return!jQuery.expr.pseudos.visible(t)},jQuery.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new l.XMLHttpRequest}catch(t){}};var it={0:200,1223:204},ot=jQuery.ajaxSettings.xhr();x.cors=!!ot&&"withCredentials"in ot,x.ajax=ot=!!ot,jQuery.ajaxTransport((function(t){var i,u;if(x.cors||ot&&!t.crossDomain)return{send:function(d,p){var h,g=t.xhr();if(g.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(h in t.xhrFields)g[h]=t.xhrFields[h];for(h in t.mimeType&&g.overrideMimeType&&g.overrideMimeType(t.mimeType),t.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest"),d)g.setRequestHeader(h,d[h]);i=function(t){return function(){i&&(i=u=g.onload=g.onerror=g.onabort=g.ontimeout=g.onreadystatechange=null,"abort"===t?g.abort():"error"===t?"number"!=typeof g.status?p(0,"error"):p(g.status,g.statusText):p(it[g.status]||g.status,g.statusText,"text"!==(g.responseType||"text")||"string"!=typeof g.responseText?{binary:g.response}:{text:g.responseText},g.getAllResponseHeaders()))}},g.onload=i(),u=g.onerror=g.ontimeout=i("error"),void 0!==g.onabort?g.onabort=u:g.onreadystatechange=function(){4===g.readyState&&l.setTimeout((function(){i&&u()}))},i=i("abort");try{g.send(t.hasContent&&t.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}})),jQuery.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return jQuery.globalEval(t),t}}}),jQuery.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),jQuery.ajaxTransport("script",(function(t){var i,u;if(t.crossDomain||t.scriptAttrs)return{send:function(l,d){i=jQuery("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",u=function(t){i.remove(),u=null,t&&d("error"===t.type?404:200,t.type)}),O.head.appendChild(i[0])},abort:function(){u&&u()}}}));var at,st=[],ut=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=st.pop()||jQuery.expando+"_"+Ue.guid++;return this[t]=!0,t}}),jQuery.ajaxPrefilter("json jsonp",(function(t,i,u){var d,p,h,g=!1!==t.jsonp&&(ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ut.test(t.data)&&"data");if(g||"jsonp"===t.dataTypes[0])return d=t.jsonpCallback=C(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,g?t[g]=t[g].replace(ut,"$1"+d):!1!==t.jsonp&&(t.url+=(Be.test(t.url)?"&":"?")+t.jsonp+"="+d),t.converters["script json"]=function(){return h||jQuery.error(d+" was not called"),h[0]},t.dataTypes[0]="json",p=l[d],l[d]=function(){h=arguments},u.always((function(){void 0===p?jQuery(l).removeProp(d):l[d]=p,t[d]&&(t.jsonpCallback=i.jsonpCallback,st.push(d)),h&&C(p)&&p(h[0]),h=p=void 0})),"script"})),x.createHTMLDocument=((at=O.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===at.childNodes.length),jQuery.parseHTML=function(t,i,u){return"string"!=typeof t?[]:("boolean"==typeof i&&(u=i,i=!1),i||(x.createHTMLDocument?((l=(i=O.implementation.createHTMLDocument("")).createElement("base")).href=O.location.href,i.head.appendChild(l)):i=O),p=!u&&[],(d=Q.exec(t))?[i.createElement(d[1])]:(d=buildFragment([t],i,p),p&&p.length&&jQuery(p).remove(),jQuery.merge([],d.childNodes)));var l,d,p},jQuery.fn.load=function(t,i,u){var l,d,p,h=this,g=t.indexOf(" ");return g>-1&&(l=stripAndCollapse(t.slice(g)),t=t.slice(0,g)),C(i)?(u=i,i=void 0):i&&"object"==typeof i&&(d="POST"),h.length>0&&jQuery.ajax({url:t,type:d||"GET",dataType:"html",data:i}).done((function(t){p=arguments,h.html(l?jQuery("<div>").append(jQuery.parseHTML(t)).find(l):t)})).always(u&&function(t,i){h.each((function(){u.apply(this,p||[t.responseText,i,t])}))}),this},jQuery.expr.pseudos.animated=function(t){return jQuery.grep(jQuery.timers,(function(i){return t===i.elem})).length},jQuery.offset={setOffset:function(t,i,u){var l,d,p,h,g,v,y=jQuery.css(t,"position"),S=jQuery(t),w={};"static"===y&&(t.style.position="relative"),g=S.offset(),p=jQuery.css(t,"top"),v=jQuery.css(t,"left"),("absolute"===y||"fixed"===y)&&(p+v).indexOf("auto")>-1?(h=(l=S.position()).top,d=l.left):(h=parseFloat(p)||0,d=parseFloat(v)||0),C(i)&&(i=i.call(t,u,jQuery.extend({},g))),null!=i.top&&(w.top=i.top-g.top+h),null!=i.left&&(w.left=i.left-g.left+d),"using"in i?i.using.call(t,w):S.css(w)}},jQuery.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(i){jQuery.offset.setOffset(this,t,i)}));var i,u,l=this[0];return l?l.getClientRects().length?(i=l.getBoundingClientRect(),u=l.ownerDocument.defaultView,{top:i.top+u.pageYOffset,left:i.left+u.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,i,u,l=this[0],d={top:0,left:0};if("fixed"===jQuery.css(l,"position"))i=l.getBoundingClientRect();else{for(i=this.offset(),u=l.ownerDocument,t=l.offsetParent||u.documentElement;t&&(t===u.body||t===u.documentElement)&&"static"===jQuery.css(t,"position");)t=t.parentNode;t&&t!==l&&1===t.nodeType&&((d=jQuery(t).offset()).top+=jQuery.css(t,"borderTopWidth",!0),d.left+=jQuery.css(t,"borderLeftWidth",!0))}return{top:i.top-d.top-jQuery.css(l,"marginTop",!0),left:i.left-d.left-jQuery.css(l,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===jQuery.css(t,"position");)t=t.offsetParent;return t||ue}))}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,i){var u="pageYOffset"===i;jQuery.fn[t]=function(l){return access(this,(function(t,l,d){var p;if(M(t)?p=t:9===t.nodeType&&(p=t.defaultView),void 0===d)return p?p[i]:t[l];p?p.scrollTo(u?p.pageXOffset:d,u?d:p.pageYOffset):t[l]=d}),t,l,arguments.length)}})),jQuery.each(["top","left"],(function(t,i){jQuery.cssHooks[i]=addGetHookIf(x.pixelPosition,(function(t,u){if(u)return u=curCSS(t,i),we.test(u)?jQuery(t).position()[i]+"px":u}))})),jQuery.each({Height:"height",Width:"width"},(function(t,i){jQuery.each({padding:"inner"+t,content:i,"":"outer"+t},(function(u,l){jQuery.fn[l]=function(d,p){var h=arguments.length&&(u||"boolean"!=typeof d),g=u||(!0===d||!0===p?"margin":"border");return access(this,(function(i,u,d){var p;return M(i)?0===l.indexOf("outer")?i["inner"+t]:i.document.documentElement["client"+t]:9===i.nodeType?(p=i.documentElement,Math.max(i.body["scroll"+t],p["scroll"+t],i.body["offset"+t],p["offset"+t],p["client"+t])):void 0===d?jQuery.css(i,u,g):jQuery.style(i,u,d,g)}),i,h?d:void 0,h)}}))})),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,i){jQuery.fn[i]=function(t){return this.on(i,t)}})),jQuery.fn.extend({bind:function(t,i,u){return this.on(t,null,i,u)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,u,l){return this.on(i,t,u,l)},undelegate:function(t,i,u){return 1===arguments.length?this.off(t,"**"):this.off(i,t||"**",u)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,i){jQuery.fn[i]=function(t,u){return arguments.length>0?this.on(i,null,t,u):this.trigger(i)}}));var lt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(t,i){var u,l,d;if("string"==typeof i&&(u=t[i],i=t,t=u),C(t))return l=g.call(arguments,2),d=function(){return t.apply(i||this,l.concat(g.call(arguments)))},d.guid=t.guid=t.guid||jQuery.guid++,d},jQuery.holdReady=function(t){t?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=C,jQuery.isWindow=M,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(t){var i=jQuery.type(t);return("number"===i||"string"===i)&&!isNaN(t-parseFloat(t))},jQuery.trim=function(t){return null==t?"":(t+"").replace(lt,"$1")},void 0===(u=function(){return jQuery}.apply(i,[]))||(t.exports=u);var ct=l.jQuery,dt=l.$;return jQuery.noConflict=function(t){return l.$===jQuery&&(l.$=dt),t&&l.jQuery===jQuery&&(l.jQuery=ct),jQuery},void 0===d&&(l.jQuery=l.$=jQuery),jQuery}))},33767:function(t,i){var u,l;l=this,void 0===(u=function(){return l.returnExportsGlobal=function(){var t=function(){"use strict";function a(){var t,i;this.q=[],this.add=function(t){this.q.push(t)},this.call=function(){for(t=0,i=this.q.length;i>t;t++)this.q[t].call()}}function b(t,i){return t.currentStyle?t.currentStyle[i]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(i):t.style[i]}function c(i,u){if(i.resizedAttached){if(i.resizedAttached)return void i.resizedAttached.add(u)}else i.resizedAttached=new a,i.resizedAttached.add(u);i.resizeSensor=document.createElement("div"),i.resizeSensor.className="resize-sensor";var l="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;",d="position: absolute; left: 0; top: 0; transition: 0s;";i.resizeSensor.style.cssText=l,i.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+l+'"><div style="'+d+'"></div></div><div class="resize-sensor-shrink" style="'+l+'"><div style="'+d+' width: 200%; height: 200%"></div></div>',i.appendChild(i.resizeSensor),"static"==b(i,"position")&&(i.style.position="relative");var p=i.resizeSensor.childNodes[0],h=p.childNodes[0],g=i.resizeSensor.childNodes[1],k=function(){h.style.width="100000px",h.style.height="100000px",p.scrollLeft=1e5,p.scrollTop=1e5,g.scrollLeft=1e5,g.scrollTop=1e5};k();var v=!1,m=function(){i.resizedAttached&&(v&&(i.resizedAttached.call(),v=!1),t(m))};t(m);var y,S,w,E,r=function(){((w=i.offsetWidth)!=y||(E=i.offsetHeight)!=S)&&(v=!0,y=w,S=E),k()},s=function(t,i,u){t.attachEvent?t.attachEvent("on"+i,u):t.addEventListener(i,u)};s(p,"scroll",r),s(g,"scroll",r)}var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},e=function(t,i){var u=this,l=Object.prototype.toString.call(t),d=u._isCollectionTyped="[object Array]"===l||"[object NodeList]"===l||"[object HTMLCollection]"===l||"undefined"!=typeof jQuery&&t instanceof window.jQuery||"undefined"!=typeof Elements&&t instanceof window.Elements;if(u._element=t,d)for(var p=0,h=t.length;h>p;p++)c(t[p],i);else c(t,i)};return e.prototype.detach=function(){var t=this,i=t._isCollectionTyped,u=t._element;if(i)for(var l=0,d=u.length;d>l;l++)e.detach(u[l]);else e.detach(u)},e.detach=function(t){t.resizeSensor&&(t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached)},e}();return t}()}.apply(i,[]))||(t.exports=u)},75412:function(t,i,u){"use strict";var l;u.r(i),u.d(i,{NIL:function(){return I},parse:function(){return T},stringify:function(){return w},v1:function(){return A},v3:function(){return C},v4:function(){return M},v5:function(){return P},validate:function(){return h},version:function(){return D}});var d=new Uint8Array(16);function rng(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(d)}var p=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var h=function validate(t){return"string"==typeof t&&p.test(t)},g=[],v=0;v<256;++v)g.push((v+256).toString(16).substr(1));var y,S,w=function stringify(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=(g[t[i+0]]+g[t[i+1]]+g[t[i+2]]+g[t[i+3]]+"-"+g[t[i+4]]+g[t[i+5]]+"-"+g[t[i+6]]+g[t[i+7]]+"-"+g[t[i+8]]+g[t[i+9]]+"-"+g[t[i+10]]+g[t[i+11]]+g[t[i+12]]+g[t[i+13]]+g[t[i+14]]+g[t[i+15]]).toLowerCase();if(!h(u))throw TypeError("Stringified UUID is invalid");return u},E=0,R=0;var A=function v1(t,i,u){var l=i&&u||0,d=i||new Array(16),p=(t=t||{}).node||y,h=void 0!==t.clockseq?t.clockseq:S;if(null==p||null==h){var g=t.random||(t.rng||rng)();null==p&&(p=y=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==h&&(h=S=16383&(g[6]<<8|g[7]))}var v=void 0!==t.msecs?t.msecs:Date.now(),A=void 0!==t.nsecs?t.nsecs:R+1,T=v-E+(A-R)/1e4;if(T<0&&void 0===t.clockseq&&(h=h+1&16383),(T<0||v>E)&&void 0===t.nsecs&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");E=v,R=A,S=h;var x=(1e4*(268435455&(v+=122192928e5))+A)%4294967296;d[l++]=x>>>24&255,d[l++]=x>>>16&255,d[l++]=x>>>8&255,d[l++]=255&x;var C=v/4294967296*1e4&268435455;d[l++]=C>>>8&255,d[l++]=255&C,d[l++]=C>>>24&15|16,d[l++]=C>>>16&255,d[l++]=h>>>8|128,d[l++]=255&h;for(var M=0;M<6;++M)d[l+M]=p[M];return i||w(d)};var T=function parse(t){if(!h(t))throw TypeError("Invalid UUID");var i,u=new Uint8Array(16);return u[0]=(i=parseInt(t.slice(0,8),16))>>>24,u[1]=i>>>16&255,u[2]=i>>>8&255,u[3]=255&i,u[4]=(i=parseInt(t.slice(9,13),16))>>>8,u[5]=255&i,u[6]=(i=parseInt(t.slice(14,18),16))>>>8,u[7]=255&i,u[8]=(i=parseInt(t.slice(19,23),16))>>>8,u[9]=255&i,u[10]=(i=parseInt(t.slice(24,36),16))/1099511627776&255,u[11]=i/4294967296&255,u[12]=i>>>24&255,u[13]=i>>>16&255,u[14]=i>>>8&255,u[15]=255&i,u};function v35(t,i,u){function generateUUID(t,l,d,p){if("string"==typeof t&&(t=function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var i=[],u=0;u<t.length;++u)i.push(t.charCodeAt(u));return i}(t)),"string"==typeof l&&(l=T(l)),16!==l.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+t.length);if(h.set(l),h.set(t,l.length),(h=u(h))[6]=15&h[6]|i,h[8]=63&h[8]|128,d){p=p||0;for(var g=0;g<16;++g)d[p+g]=h[g];return d}return w(h)}try{generateUUID.name=t}catch(t){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(t){return 14+(t+64>>>9<<4)+1}function safeAdd(t,i){var u=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(u>>16)<<16|65535&u}function md5cmn(t,i,u,l,d,p){return safeAdd(function bitRotateLeft(t,i){return t<<i|t>>>32-i}(safeAdd(safeAdd(i,t),safeAdd(l,p)),d),u)}function md5ff(t,i,u,l,d,p,h){return md5cmn(i&u|~i&l,t,i,d,p,h)}function md5gg(t,i,u,l,d,p,h){return md5cmn(i&l|u&~l,t,i,d,p,h)}function md5hh(t,i,u,l,d,p,h){return md5cmn(i^u^l,t,i,d,p,h)}function md5ii(t,i,u,l,d,p,h){return md5cmn(u^(i|~l),t,i,d,p,h)}var x=function md5(t){if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=new Uint8Array(i.length);for(var u=0;u<i.length;++u)t[u]=i.charCodeAt(u)}return function md5ToHexEncodedArray(t){for(var i=[],u=32*t.length,l="0123456789abcdef",d=0;d<u;d+=8){var p=t[d>>5]>>>d%32&255,h=parseInt(l.charAt(p>>>4&15)+l.charAt(15&p),16);i.push(h)}return i}(function wordsToMd5(t,i){t[i>>5]|=128<<i%32,t[getOutputLength(i)-1]=i;for(var u=1732584193,l=-271733879,d=-1732584194,p=271733878,h=0;h<t.length;h+=16){var g=u,v=l,y=d,S=p;u=md5ff(u,l,d,p,t[h],7,-680876936),p=md5ff(p,u,l,d,t[h+1],12,-389564586),d=md5ff(d,p,u,l,t[h+2],17,606105819),l=md5ff(l,d,p,u,t[h+3],22,-1044525330),u=md5ff(u,l,d,p,t[h+4],7,-176418897),p=md5ff(p,u,l,d,t[h+5],12,1200080426),d=md5ff(d,p,u,l,t[h+6],17,-1473231341),l=md5ff(l,d,p,u,t[h+7],22,-45705983),u=md5ff(u,l,d,p,t[h+8],7,1770035416),p=md5ff(p,u,l,d,t[h+9],12,-1958414417),d=md5ff(d,p,u,l,t[h+10],17,-42063),l=md5ff(l,d,p,u,t[h+11],22,-1990404162),u=md5ff(u,l,d,p,t[h+12],7,1804603682),p=md5ff(p,u,l,d,t[h+13],12,-40341101),d=md5ff(d,p,u,l,t[h+14],17,-1502002290),u=md5gg(u,l=md5ff(l,d,p,u,t[h+15],22,1236535329),d,p,t[h+1],5,-165796510),p=md5gg(p,u,l,d,t[h+6],9,-1069501632),d=md5gg(d,p,u,l,t[h+11],14,643717713),l=md5gg(l,d,p,u,t[h],20,-373897302),u=md5gg(u,l,d,p,t[h+5],5,-701558691),p=md5gg(p,u,l,d,t[h+10],9,38016083),d=md5gg(d,p,u,l,t[h+15],14,-660478335),l=md5gg(l,d,p,u,t[h+4],20,-405537848),u=md5gg(u,l,d,p,t[h+9],5,568446438),p=md5gg(p,u,l,d,t[h+14],9,-1019803690),d=md5gg(d,p,u,l,t[h+3],14,-187363961),l=md5gg(l,d,p,u,t[h+8],20,1163531501),u=md5gg(u,l,d,p,t[h+13],5,-1444681467),p=md5gg(p,u,l,d,t[h+2],9,-51403784),d=md5gg(d,p,u,l,t[h+7],14,1735328473),u=md5hh(u,l=md5gg(l,d,p,u,t[h+12],20,-1926607734),d,p,t[h+5],4,-378558),p=md5hh(p,u,l,d,t[h+8],11,-2022574463),d=md5hh(d,p,u,l,t[h+11],16,1839030562),l=md5hh(l,d,p,u,t[h+14],23,-35309556),u=md5hh(u,l,d,p,t[h+1],4,-1530992060),p=md5hh(p,u,l,d,t[h+4],11,1272893353),d=md5hh(d,p,u,l,t[h+7],16,-155497632),l=md5hh(l,d,p,u,t[h+10],23,-1094730640),u=md5hh(u,l,d,p,t[h+13],4,681279174),p=md5hh(p,u,l,d,t[h],11,-358537222),d=md5hh(d,p,u,l,t[h+3],16,-722521979),l=md5hh(l,d,p,u,t[h+6],23,76029189),u=md5hh(u,l,d,p,t[h+9],4,-640364487),p=md5hh(p,u,l,d,t[h+12],11,-421815835),d=md5hh(d,p,u,l,t[h+15],16,530742520),u=md5ii(u,l=md5hh(l,d,p,u,t[h+2],23,-995338651),d,p,t[h],6,-198630844),p=md5ii(p,u,l,d,t[h+7],10,1126891415),d=md5ii(d,p,u,l,t[h+14],15,-1416354905),l=md5ii(l,d,p,u,t[h+5],21,-57434055),u=md5ii(u,l,d,p,t[h+12],6,1700485571),p=md5ii(p,u,l,d,t[h+3],10,-1894986606),d=md5ii(d,p,u,l,t[h+10],15,-1051523),l=md5ii(l,d,p,u,t[h+1],21,-2054922799),u=md5ii(u,l,d,p,t[h+8],6,1873313359),p=md5ii(p,u,l,d,t[h+15],10,-30611744),d=md5ii(d,p,u,l,t[h+6],15,-1560198380),l=md5ii(l,d,p,u,t[h+13],21,1309151649),u=md5ii(u,l,d,p,t[h+4],6,-145523070),p=md5ii(p,u,l,d,t[h+11],10,-1120210379),d=md5ii(d,p,u,l,t[h+2],15,718787259),l=md5ii(l,d,p,u,t[h+9],21,-343485551),u=safeAdd(u,g),l=safeAdd(l,v),d=safeAdd(d,y),p=safeAdd(p,S)}return[u,l,d,p]}(function bytesToWords(t){if(0===t.length)return[];for(var i=8*t.length,u=new Uint32Array(getOutputLength(i)),l=0;l<i;l+=8)u[l>>5]|=(255&t[l/8])<<l%32;return u}(t),8*t.length))},C=v35("v3",48,x);var M=function v4(t,i,u){var l=(t=t||{}).random||(t.rng||rng)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i){u=u||0;for(var d=0;d<16;++d)i[u+d]=l[d];return i}return w(l)};function f(t,i,u,l){switch(t){case 0:return i&u^~i&l;case 1:case 3:return i^u^l;case 2:return i&u^i&l^u&l}}function ROTL(t,i){return t<<i|t>>>32-i}var O=function sha1(t){var i=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var l=unescape(encodeURIComponent(t));t=[];for(var d=0;d<l.length;++d)t.push(l.charCodeAt(d))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var p=t.length/4+2,h=Math.ceil(p/16),g=new Array(h),v=0;v<h;++v){for(var y=new Uint32Array(16),S=0;S<16;++S)y[S]=t[64*v+4*S]<<24|t[64*v+4*S+1]<<16|t[64*v+4*S+2]<<8|t[64*v+4*S+3];g[v]=y}g[h-1][14]=8*(t.length-1)/Math.pow(2,32),g[h-1][14]=Math.floor(g[h-1][14]),g[h-1][15]=8*(t.length-1)&4294967295;for(var w=0;w<h;++w){for(var E=new Uint32Array(80),R=0;R<16;++R)E[R]=g[w][R];for(var A=16;A<80;++A)E[A]=ROTL(E[A-3]^E[A-8]^E[A-14]^E[A-16],1);for(var T=u[0],x=u[1],C=u[2],M=u[3],O=u[4],P=0;P<80;++P){var I=Math.floor(P/20),D=ROTL(T,5)+f(I,x,C,M)+O+i[I]+E[P]>>>0;O=M,M=C,C=ROTL(x,30)>>>0,x=T,T=D}u[0]=u[0]+T>>>0,u[1]=u[1]+x>>>0,u[2]=u[2]+C>>>0,u[3]=u[3]+M>>>0,u[4]=u[4]+O>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]},P=v35("v5",80,O),I="00000000-0000-0000-0000-000000000000";var D=function version(t){if(!h(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},26731:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(62562);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="'+(null==(__t=responseId)?"":__t)+'" class="lrn lrn_widget lrn_qr lrn_'+(null==(__t=questionType)?"":__t)+" lrn_clearfix "+(null==(__t=globalExtraClasses)?"":__t)+'">',showInstructorStimulus&&(__p+='<div class="lrn_question"><div class="lrn-instructor-stimulus"><div class="lrn_clearfix"><div class="lrn-instructor-stimulus-content">'+(null==(__t=instructorStimulusContent)?"":__t)+"</div></div></div></div>"),__p+="",_.each(widgetLayoutElements,(function(t){__p+="","stimulus"===t.type&&showStimulus&&(__p+='<div class="lrn_question" data-lrn-widget-component="stimulus"><div class="lrn_stimulus lrn_clearfix"><div class="lrn_stimulus_content lrn_clearfix">'+(null==(__t=stimulusContent)?"":__t)+"</div>",hasVerticalFeatures&&(__p+='<div class="lrn_stimulus_features_vertical"></div>'),__p+="</div></div>"),__p+="","interaction"===t.type&&(__p+='<div class="lrn_response_wrapper',hasOverlayFeatures&&(__p+=" lrn_overlaying_features"),__p+='" data-lrn-widget-component="interaction"><div class="lrn_response lrn_clearfix '+(null==(__t=extraClasses)?"":__t)+'" ',hasOverlayFeatures&&(__p+=' style="visibility: hidden;"'),__p+=' ><div class="lrn-accessibility-arialive" aria-live="assertive" aria-atomic="true"></div>'+(null==(__t=responseContent)?"":__t)+"</div></div>"),__p+=""})),__p+="</div>";return __p}},62405:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(62562);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="'+(null==(__t=id)?"":__t)+'" class="lrn lrn_widget lrn_group lrn_clearfix"><button type="button" class="lrn_btn">'+(null==(__t=labels.checkAnswers)?"":__t)+"</button></div>";return __p}},89094:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(62562);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="lrn-image-load-error-spinner-container"><div class="lrn_spinner"><div class="lrn_bounce1"></div><div class="lrn_bounce2"></div><div class="lrn_bounce3"></div></div></div>';return __p}},86483:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(62562);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="'+(null==(__t=id)?"":__t)+'" class="lrn lrn_widget"><button type="button" class="'+(null==(__t=displayLogic.submit?"lrn_submit_button":"lrn_save_button")?"":__t)+' lrn_btn"'+(null==(__t=displayLogic.disabled?'disabled="disabled"':"")?"":__t)+"><span>"+(null==(__t=displayLogic.label)?"":__t)+"</span></button></div>";return __p}},14218:function(module){var f;f=function(){var define,module,exports;return function r(t,i,u){function o(d,p){if(!i[d]){if(!t[d]){if(l)return l(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var g=i[d]={exports:{}};t[d][0].call(g.exports,(function(i){return o(t[d][1][i]||i)}),g,g.exports,r,t,i,u)}return i[d].exports}for(var l=void 0,d=0;d<u.length;d++)o(u[d]);return o}({1:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Assert=u.checkCounter=u.setCounter=u.clearLocation=u.setLocation=u.reserveCodeRange=u.message=u.assert=void 0;var l=t("./backward.js"),d=u.assert=function(t,i,u){if(void 0===i&&(i="failed!"),!t){var l=new Error(i);throw l.location=u||w.location,l}},p=u.message=function message(t,i){var u=w.messages[t];return w.location,i&&(0,l.forEach)(i,(function(t,i){u=u.replace("%"+(i+1),t)})),t+": "+u},h=u.reserveCodeRange=function reserveCodeRange(t,i,u){d(t<=i,"Invalid code range");var p=(0,l.every)(w.reservedCodes,(function(u){return i<u.first||t>u.last}));d(p,"Conflicting request for error code range"),w.reservedCodes.push({first:t,last:i,name:u})},g=u.setLocation=function setLocation(t){w.location=t},v=u.clearLocation=function clearLocation(){w.location=null},y=u.setCounter=function setCounter(t,i){w.count=t,w.countMessage=i||"ERROR count exceeded"},S=u.checkCounter=function checkCounter(){var t=w.count;"number"!=typeof t||isNaN(t)?d(!1,"ERROR counter not set"):d(w.count--,w.countMessage)},w=u.Assert={assert:d,message:p,messages:{},reserveCodeRange:h,reservedCodes:[],setLocation:g,clearLocation:v,setCounter:y,checkCounter:S}},{"./backward.js":3}],2:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Ast=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=t("./backward.js"),p=t("./assert.js");u.Ast=function(){function Ast(){this.nodePool=["unused"],this.nodeMap={}}function isNode(t){return void 0===t&&(t=this),t.op&&t.args}return Ast.prototype.create=function create(t,i){var u=create(this);if("string"==typeof t)u.op=t,u.args=i instanceof Array?i:[];else if(null!==t&&"object"===(void 0===t?"undefined":l(t))){var p=t;(0,d.forEach)(keys(p),(function(t,i){u[t]=p[t]}))}return u},Ast.prototype.arg=function arg(t){if(!isNode(this))throw"Malformed node";return this.args.push(t),this},Ast.prototype.argN=function argN(t,i){if(!isNode(this))throw"Malformed node";return void 0===i?this.args[t]:(this.args[t]=i,this)},Ast.prototype.args=function args(t){if(!isNode(this))throw"Malformed node";return void 0===t?this.args:(this.args=t,this)},Ast.prototype.isNode=isNode,Ast.prototype.intern=function intern(t){this instanceof Ast&&void 0===t&&isNode(this)&&(t=this),(0,p.assert)("object"===(void 0===t?"undefined":l(t)),"node not an object");for(var i=t.op,u=t.args.length,d="",h=[],g=0;g<u;g++)d+=" ","string"==typeof t.args[g]?d+=h[g]=t.args[g]:d+=h[g]=this.intern(t.args[g]);t.lbrk&&t.lbrk!=="{".charCodeAt(0)&&(d+=String.fromCharCode(t.lbrk),d+=String.fromCharCode(t.rbrk));var v=i+u+d,y=this.nodeMap[v];return void 0===y&&(this.nodePool.push({op:i,args:h}),y=this.nodePool.length-1,this.nodeMap[v]=y),y},Ast.prototype.node=function node(t){for(var i=JSON.parse(JSON.stringify(this.nodePool[t])),u=0;u<i.args.length;u++)"string"!=typeof i.args[u]&&(i.args[u]=this.node(i.args[u]));return i},Ast.prototype.dumpAll=function dumpAll(){var t="";return(0,d.forEach)(this.nodePool,(function(i,u){t+="\n"+u+": "+Ast.dump(i)})),t},Ast.dump=Ast.prototype.dump=function dump(t){if("string"==typeof t);else if("number"==typeof t);else{t.op;for(var i=0;i<t.args.length;i++)dump(t.args[i])}return s},Ast}()},{"./assert.js":1,"./backward.js":3}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=exports.forEach=function forEach(t,i){var u=arguments[2];if(Array.prototype.indexOf)return t.forEach(i);var l=toObject(t),d=splitString&&"[object String]"==_toString(l)?l.split(""):l,p=-1,h=d.length>>>0;if("[object Function]"!=_toString(i))throw new TypeError;for(;++p<h;)p in d&&i.call(u,d[p],p,l)},filter=exports.filter=function filter(t,i){var u=arguments[2];if(Array.prototype.filter)return t.filter(i);var l,d=toObject(t),p=splitString&&"[object String]"==_toString(t)?t.split(""):d,h=p.length>>>0,g=[];if("[object Function]"!=_toString(i))throw new TypeError(i+" is not a function");for(var v=0;v<h;v++)v in p&&(l=p[v],i.call(u,l,v,d)&&g.push(l));return g},every=exports.every=function every(t,i){var u=arguments[2];if(Array.prototype.every)return t.every(i,u);var l=toObject(t),d=splitString&&"[object String]"==_toString(t)?t.split(""):l,p=d.length>>>0;if("[object Function]"!=_toString(i))throw new TypeError(i+" is not a function");for(var h=0;h<p;h++)if(h in d&&!i.call(u,d[h],h,l))return!1;return!0},some=exports.some=function some(t,i){var u=arguments[2];if(Array.prototype.some)return t.some(i,u);var l=toObject(t),d=splitString&&"[object String]"==_toString(t)?t.split(""):l,p=d.length>>>0;if("[object Function]"!=_toString(i))throw new TypeError(i+" is not a function");for(var h=0;h<p;h++)if(h in d&&i.call(u,d[h],h,l))return!0;return!1},indexOf=exports.indexOf=function indexOf(t,i){var u=arguments[2];if(Array.prototype.indexOf||"string"==typeof t)return t.indexOf(i,u);var l=splitString&&"[object String]"==_toString(t)?t.split(""):toObject(t),d=l.length>>>0;if(!d)return-1;var p=0;for(arguments.length>2&&(p=toInteger(u)),p=p>=0?p:Math.max(0,d+p);p<d;p++)if(p in l&&l[p]===i)return p;return-1},keys=exports.keys=function keys(t){if(Object.keys)return Object.keys(t);var i=!0,u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=u.length;for(var d in{toString:null})i=!1;if("object"!=(void 0===t?"undefined":_typeof(t))&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var p in t)owns(t,p)&&keys.push(p);if(i)for(var h=0,g=l;h<g;h++){var v=u[h];owns(t,v)&&keys.push(v)}return keys},toObject=exports.toObject=function toObject(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)},prototypeOfObject=Object.prototype,_toString=function _toString(t){return prototypeOfObject.toString.apply(t)},owns=function owns(t,i){return prototypeOfObject.hasOwnProperty.call(t,i)},create=exports.create=function create(t){if(Object.create)return Object.create(t);var i=function F(){};if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return i.prototype=t,new i},toString,isArray,escMap,escFunc,escRE;"undefined"==typeof window||window.JSON||(window.JSON={parse:function parse(sJSON){return eval("("+sJSON+")")},stringify:(toString=Object.prototype.toString,isArray=Array.isArray||function(t){return"[object Array]"===toString.call(t)},escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escFunc=function escFunc(t){return escMap[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g,function stringify(t){if(null==t)return"null";if("number"==typeof t)return isFinite(t)?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"===(void 0===t?"undefined":_typeof(t))){if("function"==typeof t.toJSON)return stringify(t.toJSON());if(isArray(t)){for(var i="[",u=0;u<t.length;u++)i+=(u?", ":"")+stringify(t[u]);return i+"]"}if("[object Object]"===toString.call(t)){var l=[];for(var d in t)t.hasOwnProperty(d)&&l.push(stringify(d)+": "+stringify(t[d]));return"{"+l.join(", ")+"}"}}return'"'+t.toString().replace(escRE,escFunc)+'"'})})},{}],4:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Core=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=(t("./version.js"),t("./backward.js")),p=t("./assert.js"),h=t("./ast.js"),g=t("./model.js"),v=t("./rules.js");!function(t){function newNode(t,i){return{op:t,args:i}}function binaryNode(t,i,u){if(i.length<2)return i[0];var l=[];return(0,d.forEach)(i,(function(i){u&&i.op===t?l=l.concat(i.args):l.push(i)})),newNode(t,l)}function Visitor(t){function visit(t,i,u){switch((0,p.assert)(t.op&&t.args,"Visitor.visit() op="+t.op+" args = "+t.args),t.op){case g.Model.NUM:t=i.numeric(t,u);break;case g.Model.ADD:case g.Model.SUB:case g.Model.PM:case g.Model.BACKSLASH:case g.Model.DIV:case g.Model.FRAC:case g.Model.LOG:case g.Model.COLON:case g.Model.FUNC:case g.Model.TYPE:t=1===t.args.length?i.unary(t,u):i.binary(t,u);break;case g.Model.MUL:case g.Model.TIMES:case g.Model.COEFF:t=i.multiplicative(t,u);break;case g.Model.POW:t=i.exponential(t,u);break;case g.Model.VAR:t=i.variable(t,u);break;case g.Model.SQRT:case g.Model.SIN:case g.Model.COS:case g.Model.TAN:case g.Model.SEC:case g.Model.CSC:case g.Model.COT:case g.Model.ARCSIN:case g.Model.ARCCOS:case g.Model.ARCTAN:case g.Model.ARCSEC:case g.Model.ARCCSC:case g.Model.ARCCOT:case g.Model.PERCENT:case g.Model.M:case g.Model.ABS:case g.Model.FACT:case g.Model.FORALL:case g.Model.EXISTS:case g.Model.IN:case g.Model.SUM:case g.Model.LIM:case g.Model.EXP:case g.Model.TO:case g.Model.DERIV:case g.Model.INT:case g.Model.PROD:case g.Model.CUP:case g.Model.BIGCUP:case g.Model.CAP:case g.Model.BIGCAP:case g.Model.PIPE:case g.Model.ION:case g.Model.POW:case g.Model.SUBSCRIPT:case g.Model.OVERLINE:case g.Model.OVERSET:case g.Model.UNDERSET:case g.Model.MATHBF:case g.Model.NONE:case g.Model.DEGREE:case g.Model.DOT:case g.Model.MATHFIELD:case g.Model.SET:case g.Model.NOT:t=i.unary(t,u);break;case g.Model.COMMA:case g.Model.MATRIX:case g.Model.VEC:case g.Model.ROW:case g.Model.COL:case g.Model.LIST:t=i.comma(t,u);break;case g.Model.EQL:case g.Model.LT:case g.Model.LE:case g.Model.GT:case g.Model.GE:case g.Model.NE:case g.Model.NGTR:case g.Model.NLESS:case g.Model.NI:case g.Model.SUBSETEQ:case g.Model.SUPSETEQ:case g.Model.SUBSET:case g.Model.SUPSET:case g.Model.NNI:case g.Model.NSUBSETEQ:case g.Model.NSUPSETEQ:case g.Model.NSUBSET:case g.Model.NSUPSET:case g.Model.APPROX:case g.Model.IMPLIES:case g.Model.PERP:case g.Model.PROPTO:case g.Model.PARALLEL:case g.Model.NPARALLEL:case g.Model.SIM:case g.Model.CONG:case g.Model.NSIM:case g.Model.NCONG:case g.Model.CAPRIGHTARROW:case g.Model.RIGHTARROW:case g.Model.LEFTARROW:case g.Model.LONGRIGHTARROW:case g.Model.LONGLEFTARROW:case g.Model.OVERRIGHTARROW:case g.Model.OVERLEFTARROW:case g.Model.CAPLEFTRIGHTARROW:case g.Model.LEFTRIGHTARROW:case g.Model.LONGLEFTRIGHTARROW:case g.Model.OVERLEFTRIGHTARROW:t=i.equals(t,u);break;case g.Model.PAREN:case g.Model.INTERVAL:t=i.paren(t);break;default:"normalizeLiteral"!==i.name&&"sort"!==i.name&&(t=newNode(g.Model.VAR,["INTERNAL ERROR Should not get here. Unhandled node operator "+t.op]))}return t}function lookup(t){if(!t)return"";var i=g.Model.option("words"),u=void 0;return i&&(u=i[t]),u||"\\"===(u=t).charAt(0)&&(u=u.substring(1)),u}function normalizeFormatObject(t){var i=[];switch(t.op){case g.Model.VAR:i.push({code:t.args[0]});break;case g.Model.MUL:var u="",l=void 0;(0,d.forEach)(t.args,(function(t){t.op===g.Model.VAR?u+=t.args[0]:t.op===g.Model.NUM&&(l=+t.args[0])})),i.push({code:u,length:l});break;case g.Model.COMMA:(0,d.forEach)(t.args,(function(t){i=i.concat(normalizeFormatObject(t))}))}return i}function checkMatrixType(t,i){return normalizeFormatObject(t).some((function(t){var u=t.code;switch(t.length,u){case"simpleSmallRowMatrix":case"smallRowMatrix":return i.op===g.Model.MATRIX&&1===i.m&&i.n<4;case"simpleSmallColumnMatrix":case"smallColumnMatrix":return i.op===g.Model.MATRIX&&i.m<4&&1===i.n;case"simpleSmallMatrix":case"smallMatrix":return i.op===g.Model.MATRIX&&i.m<4&&i.n<4;case"matrix":return i.op===g.Model.MATRIX;case"row":return i.op===g.Model.ROW;case"column":return i.op===g.Model.COL;default:return!1}}))}function hasSimpleExpressions(t){return(0,p.assert)(t.op===g.Model.MATRIX||t.op===g.Model.ROW||t.op===g.Model.COL),(0,d.every)(t.args,(function(t){return t.op===g.Model.MATRIX||t.op===g.Model.ROW||t.op===g.Model.COL?hasSimpleExpressions(t):function isSimpleExpression(t){return t.op===g.Model.NUM||t.op===g.Model.VAR||"string"==typeof t}(t)}))}function matchType(t,i){var u=g.Model.option("types");if(t.op===g.Model.TYPE&&t.args[0].op===g.Model.VAR){var l=t.args[0].args[0];switch(l){case"number":case"integer":case"decimal":case"scientific":case"fraction":case"simpleFraction":case"mixedFraction":case"fractionOrDecimal":return function checkNumberType(t,i){return normalizeFormatObject(t).some((function(t){var u=t.code,l=t.length;switch(u){case"integer":if("integer"===i.numberFormat&&(void 0===l||l===i.args[0].length))return!0;break;case"decimal":if("decimal"===i.numberFormat&&i.isRepeating)return void 0===l;if("decimal"===i.numberFormat&&(void 0===l||0===l&&-1===(0,d.indexOf)(i.args[0],".")||l===i.args[0].substring((0,d.indexOf)(i.args[0],".")+1).length))return!0;break;case"number":if("decimal"===i.numberFormat&&i.isRepeating)return void 0===l;if("integer"===i.numberFormat||"decimal"===i.numberFormat){var h=(0,d.indexOf)(i.args[0],".");if(void 0===l||0===l&&-1===h||h>=0&&l===i.args[0].substring(h+1).length)return!0}break;case"scientific":if(i.isScientific){var g=i.args[0].args[0];if(void 0===l||0===l&&-1===(0,d.indexOf)(g,".")||l===g.substring((0,d.indexOf)(g,".")+1).length)return!0}break;case"fraction":if(i.isFraction||i.isMixedFraction)return!0;break;case"simpleFraction":case"nonMixedFraction":if(i.isFraction)return!0;break;case"mixedFraction":if(i.isMixedFraction)return!0;break;case"fractionOrDecimal":if(i.isFraction||i.isMixedFraction||"decimal"===i.numberFormat)return!0;break;default:(0,p.assert)(!1,(0,p.message)(2015,[u]))}}))}(t.args[0],i);case"variable":return i.op===g.Model.VAR;case"simpleSmallRowMatrix":case"simpleSmallColumnMatrix":case"simpleSmallMatrix":return checkMatrixType(t.args[0],i)&&hasSimpleExpressions(i);case"smallRowMatrix":case"smallColumnMatrix":case"smallMatrix":case"matrix":case"row":case"column":return checkMatrixType(t.args[0],i);default:var h=u[l];if(h)return(0,p.assert)(h instanceof Array),h.some((function(t){return match([normalizeLiteral(g.Model.create(t))],i).length>0}))}return!1}if(t.op===g.Model.COLON&&t.args[0].op===g.Model.VAR&&"?"===t.args[0].args[0]){switch((0,p.assert)(t.args[1].op===g.Model.VAR),t.args[1].args[0]){case"N":return i.op===g.Model.NUM;case"V":return i.op===g.Model.VAR}return!1}return t.op===g.Model.VAR&&"?"===t.args[0]||t.op===g.Model.MATRIX&&i.op===g.Model.MATRIX}function match(i,u){return 0!==i.size&&void 0!==u&&i.filter((function(i){if(void 0===i.op||void 0===u.op)return!1;if(t.intern(i)===t.intern(u)||matchType(i,u))return!0;if(i.op===u.op){if(i.args.length===u.args.length)return i.args.every((function(t,l){return i.op===g.Model.VAR?t===u.args[l]:1===match([t],u.args[l]).length}));if(i.args.length<u.args.length){var l=u.args.slice(1);if(2===i.args.length)return match([i.args[0]],u.args[0]).length>0&&match([i.args[1]],newNode(u.op,l)).length>0}}return!1}))}function expandBinary(t,i){var u=t;return(0,d.forEach)(i,(function(i,u){t=t.replace("%"+(u+1),i.args[0])})),i.length>2?expandBinary(u,[newNode(g.Model.VAR,[t])].concat(i.slice(2))):t}function expand(t,i,u){u=u||{};var l=t.str;if(l&&i){var h=l.split("%").length-1;if(l.indexOf("%%")>=0&&(l=l.replace("%%",i[0].args[0])),l.indexOf("%*")>=0){var v="";(0,d.forEach)(i,(function(t){""!==v&&(v+=" "),v+=l.replace("%*",t.args[0]).replace("%M",t.m).replace("%N",t.n)})),l=v}return l.indexOf("%IP")>=0&&(l=l.replace("%IP",u.ip)),l.indexOf("%FP0")>=0&&(l=l.replace("%FP0",u.fp)),l.indexOf("%FP")>=0&&(l=l.replace("%FP",u.fp.split("").join(" "))),l.indexOf("%M")>=0&&((0,p.assert)(u.m),l=l.replace("%M",u.m)),l.indexOf("%N")>=0&&((0,p.assert)(u.n),l=l.replace("%N",u.n)),2===h&&i.length>2?l=expandBinary(l,i):(0,d.forEach)(i,(function(t,i){l=l.replace("%"+(i+1),t.args[0])})),{op:g.Model.VAR,args:[l]}}return(0,p.assert)(1===i.length&&function isEmpty(t){return t.op===g.Model.VAR&&1===t.args.length&&""===t.args[0]}(i[0])),i[0]}function normalizeLiteral(u){return u&&u.args?(t.intern(u),visit(u,{name:"normalizeLiteral",numeric:function numeric(t){return t},binary:function binary(t){var i=[];return(0,d.forEach)(t.args,(function(t){i.push(normalizeLiteral(t))})),t.args=i,t},multiplicative:function multiplicative(t){var i=[];(0,d.forEach)(t.args,(function(t){(t.isPolynomial||t.isImplicit)&&i.length>0?i.push(binaryNode(g.Model.MUL,[i.pop(),normalizeLiteral(t)],!0)):i.push(normalizeLiteral(t))}));var u=binaryNode(t.op===g.Model.MUL?g.Model.TIMES:t.op,i,!0);return u.isScientific=t.isScientific,u.isMixedFraction=t.isMixedFraction,u.isBinomial=t.isBinomial,u},unary:function unary(t){var i=[];return(0,d.forEach)(t.args,(function(t){i.push(normalizeLiteral(t))})),newNode(t.op,i)},exponential:function exponential(t){var i=[];return(0,d.forEach)(t.args,(function(t){i.push(normalizeLiteral(t))})),t.args=i,t},variable:function variable(t){return t},comma:function comma(t){var i=[];return(0,d.forEach)(t.args,(function(t){i.push(normalizeLiteral(t))})),t.args=i,t},paren:function paren(t){var i=[];return(0,d.forEach)(t.args,(function(t){i.push(normalizeLiteral(t))})),t.args=i,t},equals:function equals(t){var u=[];if((0,d.forEach)(t.args,(function(t){u.push(normalizeLiteral(t))})),!i("ignoreOrder")||t.op!==g.Model.GT&&t.op!==g.Model.GE)t.args=u;else{(0,p.assert)(2===u.length,"Internal error: comparisons have only two operands");var l=u[0];u[0]=u[1],u[1]=l,t.op=t.op===g.Model.GT?g.Model.LT:g.Model.LE,t.args=u}return t}})):((0,p.assert)(!1,"Should not get here. Illformed node."),0)}function matchedTemplate(t,i,u){var l=[];i.forEach((function(i){l=l.concat(t[JSON.stringify(i)])}));var d=[];return l.forEach((function(t){(!t.context||g.Model.option("NoParens")&&t.context.indexOf("NoParens")>-1||g.Model.option("EndRoot")&&t.context.indexOf("EndRoot")>-1)&&u>=function paramCount(t){(0,p.assert)("string"==typeof t.str);var i=t.str.split("%").filter((function(t){return!isNaN(+t[0])}));return 0===i.length?0:+i.sort()[i.length-1][0]}(t)&&d.push(t)})),0===d.length&&d.push({str:""}),d[0]}function getNodeArgsForTemplate(t,i){return(0,p.assert)("string"==typeof i.str),i.str.indexOf("%%")>=0?[t]:t.args}this.normalizeLiteral=normalizeLiteral,this.translate=function translate(t,i){var u;i instanceof Array&&(i=1===i.length?i[0]:function mergeMaps(t,i){var u={};t&&Object.keys(t).forEach((function(i){u[i]=t[i]}));var l=Object.keys(i);return l.forEach((function(t){u[t]||(u[t]=i[t])})),u}(i[1],i[0])),u=i;var l=Object.keys(i),h=[];return l.forEach((function(t){h.push(JSON.parse(t))})),t&&t.args?visit(t,{name:"translate",numeric:function numeric(t){var u=[{op:g.Model.VAR,args:[lookup(t.args[0])]}],l={};if("decimal"===t.numberFormat){var d=t.args[0].split(".");(0,p.assert)(2===d.length),l.ip=d[0],l.fp=d[1]}var v=match(h,t);return 0===v.length?t:expand(matchedTemplate(i,v,1),u,l)},binary:function binary(t){var l=match(h,t);if(0===l.length)return t;var p=matchedTemplate(i,l,t.args.length),g=getRulesForArgs(p),v=getNodeArgsForTemplate(t,p),y=[];return(0,d.forEach)(v,(function(t,i){y=y.concat(translate(t,[u,g]))})),expand(p,y)},multiplicative:function multiplicative(t){var l=match(h,t);if(0===l.length)return t;var p=matchedTemplate(i,l,t.args.length),g=getRulesForArgs(p),v=getNodeArgsForTemplate(t,p),y=[];return(0,d.forEach)(v,(function(t,i){y=y.concat(translate(t,[u,g]))})),expand(p,y)},unary:function unary(t){var l=match(h,t);if(0===l.length)return t;var p=matchedTemplate(i,l,t.args.length),g=getRulesForArgs(p),v=getNodeArgsForTemplate(t,p),y=[];return(0,d.forEach)(v,(function(t,i){y=y.concat(translate(t,[u,g]))})),expand(p,y)},exponential:function exponential(t){var l=match(h,t);if(0===l.length)return t;var p=matchedTemplate(i,l,t.args.length),g=getRulesForArgs(p),v=getNodeArgsForTemplate(t,p),y=[];return(0,d.forEach)(v,(function(t,i){y=y.concat(translate(t,[u,g]))})),expand(p,y)},variable:function variable(t){var l=match(h,t);if(0===l.length)return t;var p=matchedTemplate(i,l,t.args.length),v=getRulesForArgs(p),y=getNodeArgsForTemplate(t,p),S=[];return S.push(newNode(g.Model.VAR,[lookup(y.shift())])),(0,d.forEach)(y,(function(t,i){S=S.concat(translate(t,[u,v]))})),expand(p,S)},comma:function comma(t){if(t.op===g.Model.MATRIX||t.op===g.Model.ROW||t.op===g.Model.COL){var l={};t.op===g.Model.MATRIX?((0,p.assert)(t.args[0].op===g.Model.ROW),(0,p.assert)(t.args[0].args[0].op===g.Model.COL),t.m=l.m=t.args[0].args.length,t.n=l.n=t.args[0].args[0].args.length,(0,d.forEach)(t.args,(function(t,i){t.m=i+1}))):t.op===g.Model.ROW?(0,d.forEach)(t.args,(function(t,i){t.m=i+1,t.n=void 0})):(0,d.forEach)(t.args,(function(i,u){i.m=t.m,i.n=u+1}));var v=match(h,t);if(0===v.length)return t;var y=matchedTemplate(i,v,t.args.length),S=[],w=getRulesForArgs(y),E=getNodeArgsForTemplate(t,y);return(0,d.forEach)(E,(function(t,i){(S=S.concat(translate(t,[u,w])))[i].m=t.m,S[i].n=t.n})),expand(y,S,l)}var R=match(h,t);if(0===R.length)return t;var A=matchedTemplate(i,R,t.args.length),T=getRulesForArgs(A),x=getNodeArgsForTemplate(t,A),C=[];return(0,d.forEach)(x,(function(t,i){C=C.concat(translate(t,[u,T]))})),expand(A,C)},equals:function equals(t){var l=match(h,t);if(0===l.length)return t;var p=matchedTemplate(i,l,t.args.length),g=getRulesForArgs(p),v=getNodeArgsForTemplate(t,p),y=[];return(0,d.forEach)(v,(function(t,i){y=y.concat(translate(t,[u,g]))})),expand(p,y,t)},paren:function paren(t){var l=match(h,t);if(0===l.length)return t;if(l.length>1){var p=l;0===(l=l.filter((function(i){return i.lbrk===t.lbrk&&i.rbrk===t.rbrk}))).length&&(l=p)}var g=matchedTemplate(i,l,1),v=getRulesForArgs(g),y=getNodeArgsForTemplate(t,g),S=[];return(0,d.forEach)(y,(function(t){S.push(translate(t,[u,v]))})),expand(g,S)}}):((0,p.assert)(!1,"Should not get here. Illformed node."),0)}}function normalizeLiteral(i){var u=new Visitor(t),l=p.Assert.location;i.location&&p.Assert.setLocation(i.location);var d=u.normalizeLiteral(i);return p.Assert.setLocation(l),d}function getRulesForArgs(t,i){return t.rules}function compileTemplate(t){var i=void 0;if(t instanceof Array)i=[],t.forEach((function(t){i=i.concat(compileTemplate(t))}));else if("string"==typeof t)i=[{str:t}];else{var u="",l=void 0,d=void 0;t.options?(u+=t.options.EndRoot?" EndRoot":"",u+=t.options.NoParens?" NoParens":"",l=t.value):(l=Object.keys(t)[0],(0,p.assert)("options"!==l),d=compileRules(t[l])),i=[{context:u,str:l,rules:d}]}return i}function compileRules(t){var i=Object.keys(t),u={};return i.forEach((function(i){var l=JSON.stringify(normalizeLiteral(g.Model.create(i))),d=compileTemplate(t[i]);u[l]||(u[l]=d)})),u}p.Assert.messages,g.Model.fn.translate=function(i){var u=g.Model.option("rules"),l=function translate(i,u){var l=new Visitor(t),d=compileRules(u);return l.translate(i,d)}(normalizeLiteral(i),u);return l&&l.op===g.Model.VAR||(l=newNode(g.Model.VAR,[""])),function trim(t){for(var i=0,u="";i<t.length;i++)switch(t.charAt(i)){case" ":case"\t":case"\n":if(0===u.length||" "===u.charAt(u.length-1))continue;u+=" ";break;default:u+=t.charAt(i)}for(;" "===u.charAt(u.length-1);)u=u.substring(0,u.length-1);for(;-1!==u.lastIndexOf("baseline")&&u.lastIndexOf(" baseline")===u.length-9;)u=u.substring(0,u.length-9);return u}(l.args[0])};var i=g.Model.option=function option(t,i){var u=g.Model.options,l=u&&u[t];if(void 0!==i&&(g.Model.options=u=u||{},u[t]=i),void 0===l)switch(t){case"field":l="integer";break;case"decimalPlaces":l=10;break;case"setThousandsSeparator":case"setDecimalSeparator":case"dontExpandPowers":case"dontFactorDenominators":case"dontFactorTerms":case"dontConvertDecimalToFraction":case"strict":l=void 0;break;case"types":l={};break;default:l=!1}return l}}(new h.Ast);var y=u.Core=function(){p.Assert.reserveCodeRange(3e3,3999,"core");var t=p.Assert.messages,i=p.Assert.message,u=p.Assert.assert;t[3001]="No Math Core spec provided.",t[3002]="No Math Core solution provided.",t[3003]="No Math Core spec value provided.",t[3004]="Invalid Math Core spec method '%1'.",t[3005]="Operation taking too long.",t[3006]="Invalid option name '%1'.",t[3007]="Invalid option value '%2' for option '%1'.",t[3008]="Internal error: %1";var y=1e3,S=Math.pow(10,-2),w=Math.pow(10,-3),E=Math.pow(10,-6),R=Math.pow(10,-9),A={g:{type:"unit",value:1,base:"g"},s:{type:"unit",value:1,base:"s"},m:{type:"unit",value:1,base:"m"},L:{type:"unit",value:1,base:"L"},kg:{type:"unit",value:y,base:"g"},km:{type:"unit",value:y,base:"m"},ks:{type:"unit",value:y,base:"s"},kL:{type:"unit",value:y,base:"L"},cg:{type:"unit",value:S,base:"g"},cm:{type:"unit",value:S,base:"m"},cs:{type:"unit",value:S,base:"s"},cL:{type:"unit",value:S,base:"L"},mg:{type:"unit",value:w,base:"g"},mm:{type:"unit",value:w,base:"m"},ms:{type:"unit",value:w,base:"s"},mL:{type:"unit",value:w,base:"L"},"\\mug":{type:"unit",value:E,base:"g"},"\\mus":{type:"unit",value:E,base:"s"},"\\mum":{type:"unit",value:E,base:"m"},"\\muL":{type:"unit",value:E,base:"L"},ng:{type:"unit",value:R,base:"g"},nm:{type:"unit",value:R,base:"m"},ns:{type:"unit",value:R,base:"s"},nL:{type:"unit",value:R,base:"L"},in:{type:"unit",value:1/12,base:"ft"},ft:{type:"unit",value:1,base:"ft"},yd:{type:"unit",value:3,base:"ft"},mi:{type:"unit",value:5280,base:"ft"},fl:{type:"unit",value:1,base:"fl"},cup:{type:"unit",value:8,base:"fl"},pt:{type:"unit",value:16,base:"fl"},qt:{type:"unit",value:32,base:"fl"},gal:{type:"unit",value:128,base:"fl"},oz:{type:"unit",value:1/16,base:"lb"},lb:{type:"unit",value:1,base:"lb"},st:{type:"unit",value:1/1614,base:"lb"},qtr:{type:"unit",value:28,base:"lb"},cwt:{type:"unit",value:112,base:"lb"},t:{type:"unit",value:2240,base:"lb"},$:{type:"unit",value:1,base:"$"},i:{type:"unit",value:null,base:"i"},min:{type:"unit",value:60,base:"s"},hr:{type:"unit",value:3600,base:"s"},day:{type:"unit",value:86400,base:"s"},"\\radian":{type:"unit",value:1,base:"radian"},"'":{type:"unit",value:1,base:"prime"},"''":{type:"unit",value:1,base:"doubleprime"},"'''":{type:"unit",value:1,base:"tripleprime"},"\\degree":{type:"unit",value:Math.PI/180,base:"radian"},"\\degree K":{type:"unit",value:1,base:"\\degree K"},"\\degree C":{type:"unit",value:1,base:"\\degree C"},"\\degree F":{type:"unit",value:1,base:"\\degree F"},R:{name:"reals"},matrix:{},pmatrix:{},bmatrix:{},Bmatrix:{},vmatrix:{},Vmatrix:{},array:{},"\\alpha":{type:"var"},"\\beta":{type:"var"},"\\gamma":{type:"var"},"\\delta":{type:"var"},"\\epsilon":{type:"var"},"\\zeta":{type:"var"},"\\eta":{type:"var"},"\\theta":{type:"var"},"\\iota":{type:"var"},"\\kappa":{type:"var"},"\\lambda":{type:"var"},"\\mu":{type:"const",value:E},"\\nu":{type:"var"},"\\xi":{type:"var"},"\\pi":{type:"const",value:Math.PI},"\\rho":{type:"var"},"\\sigma":{type:"var"},"\\tau":{type:"var"},"\\upsilon":{type:"var"},"\\phi":{type:"var"},"\\chi":{type:"var"},"\\psi":{type:"var"},"\\omega":{type:"var"},"\\sin":{type:"var"},"\\cos":{type:"var"},"\\tan":{type:"var"},"\\sec":{type:"var"},"\\csc":{type:"var"},"\\cot":{type:"var"},"\\arcsin":{type:"var"},"\\arccos":{type:"var"},"\\arctan":{type:"var"},"\\arcsec":{type:"var"},"\\arccsc":{type:"var"},"\\arccot":{type:"var"},"\\sinh":{type:"var"},"\\cosh":{type:"var"},"\\tanh":{type:"var"},"\\sech":{type:"var"},"\\csch":{type:"var"},"\\coth":{type:"var"},"\\log":{type:"var"},"\\ln":{type:"var"},"\\lg":{type:"var"}};function validateOptions(t){t&&(0,d.forEach)((0,d.keys)(t),(function(d){!function validateOption(t,d){switch(t){case"field":switch(d){case void 0:case"integer":case"real":case"complex":break;default:u(!1,i(3007,[t,d]))}break;case"decimalPlaces":if(void 0===d||+d>=0&&+d<=20)break;u(!1,i(3007,[t,d]));break;case"NoParens":case"EndRoot":case"allowDecimal":case"allowInterval":case"dontExpandPowers":case"dontFactorDenominators":case"dontFactorTerms":case"dontConvertDecimalToFraction":case"dontSimplifyImaginary":case"ignoreOrder":case"inverseResult":case"requireThousandsSeparator":case"ignoreText":case"ignoreTrailingZeros":case"allowThousandsSeparator":case"compareSides":case"ignoreCoefficientOne":case"strict":if(void 0===d||"boolean"==typeof d)break;u(!1,i(3007,[t,d]));break;case"setThousandsSeparator":if(void 0===d||"string"==typeof d&&1===d.length||d instanceof Array)break;u(!1,i(3007,[t,d]));break;case"setDecimalSeparator":if(void 0===d||"string"==typeof d&&1===d.length||d instanceof Array&&d.length>0&&1===d[0].length)break;u(!1,i(3007,[t,JSON.stringify(d)]));break;case"words":case"rules":case"types":if(void 0===d||"object"===(void 0===d?"undefined":l(d)))break;u(!1,i(3007,[t,d]));break;default:u(!1,i(3006,[t]))}}(d,t[d])}))}return{translate:function translate(t,l,h){t||(t={}),t.rules||(t.words=v.rules.words,t.rules=v.rules.rules,t.types=v.rules.types),function makeEvaluator(t,l){var h=void 0,v=t.method,y=t.value,S=g.Model.options=t.options,w=void 0;try{p.Assert.setLocation("spec"),validateOptions(S),g.Model.pushEnv(A),h=null!=y?g.Model.create(y,"spec"):void 0,g.Model.popEnv()}catch(t){w=t}var E=function evaluate(t,l){try{if(w)throw w;p.Assert.setLocation("user"),u(null!=t,i(3002)),g.Model.pushEnv(A);var d=g.Model.create(t,"user");u(d,i(3008,["invalid input"])),p.Assert.setLocation("spec");var h=void 0;"translate"===v?h=d.translate():u(!1,i(3004,[v])),g.Model.popEnv(),l(null,h)}catch(t){var y=t.message;l({result:null,errorCode:parseErrorCode(y),message:parseMessage(y),stack:t.stack,location:t.location,model:null,toString:function toString(){return this.errorCode+": ("+this.location+") "+this.message+"\n"+this.stack}},"")}};return{evaluate:E,model:h};function parseErrorCode(t){var i=+t.slice(0,(0,d.indexOf)(t,":"));return isNaN(i)?0:i}function parseMessage(t){return parseErrorCode(t)?t.slice((0,d.indexOf)(t,":")+2):t}}({method:"translate",options:t}).evaluate(l,h)},Model:g.Model,Ast:h.Ast}}();"undefined"!=typeof window&&(window.Core=y)},{"./assert.js":1,"./ast.js":2,"./backward.js":3,"./model.js":5,"./rules.js":6,"./version.js":7}],5:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Model=void 0;var l=t("./backward.js"),d=t("./assert.js"),p=t("./ast.js");u.Model=function(){function Model(){}Model.fn={},Model.env=i={};var t=[],i={};function isChemCore(){return!!Model.env.Au}Model.pushEnv=function pushEnv(u){t.push(i),Model.env=i=u},Model.popEnv=function popEnv(){(0,d.assert)(t.length>0,"Empty envStack"),Model.env=i=t.pop()};var u=Model.prototype=new p.Ast;d.Assert.reserveCodeRange(1e3,1999,"model"),d.Assert.messages[1e3]="Internal error. %1.",d.Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.",d.Assert.messages[1002]="Only one decimal separator can be specified.",d.Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.",d.Assert.messages[1004]="Invalid character '%1' (%2) in input.",d.Assert.messages[1005]="Misplaced thousands separator.",d.Assert.messages[1006]="Invalid syntax. Expression expected, %1 found.",d.Assert.messages[1007]="Unexpected character: '%1' in '%2'.",d.Assert.messages[1008]="The same character '%1' is being used as a thousands and decimal separators.",d.Assert.messages[1009]="Missing argument for '%1' command.",d.Assert.messages[1010]="Expecting an operator between numbers.";var h=d.Assert.message;Model.create=u.create=function create(t,i){if((0,d.assert)(null!=t,"Model.create() called with invalid argument "+t),t instanceof Model)return i&&(t.location=i),t;var p=void 0;if(t instanceof Array)return p=[],(0,l.forEach)(t,(function(t){p.push(create(t,i))})),p;if(!(this instanceof Model))return(new Model).create(t,i);if((p=create(this)).location=i,"string"==typeof t){var h=le(t,Model.env);t=h.expr()}else t=JSON.parse(JSON.stringify(t));return(0,l.forEach)((0,l.keys)(Model.fn),(function(t,i){u.hasOwnProperty(t)||(u[t]=function(){var i=Model.fn[t];if(arguments.length>1&&arguments[1]instanceof Model)return i.apply(this,arguments);for(var u=[this],l=0;l<arguments.length;l++)u.push(arguments[l]);return i.apply(this,u)})})),(0,l.forEach)((0,l.keys)(t),(function(i,u){p[i]=t[i]})),p},u.toLaTex=function toLaTex(t){return render(t)};var g={ADD:"+",SUB:"-",MUL:"mul",TIMES:"times",COEFF:"coeff",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",NOT:"not",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",LE:"le",GT:"gt",GE:"ge",NE:"ne",NGTR:"ngtr",NLESS:"nless",NI:"ni",SUBSETEQ:"subseteq",SUPSETEQ:"supseteq",SUBSET:"subset",SUPSET:"supset",NNI:"nni",NSUBSETEQ:"nsubseteq",NSUPSETEQ:"nsupseteq",NSUBSET:"nsubset",NSUPSET:"nsupset",APPROX:"approx",IMPLIES:"implies",CAPRIGHTARROW:"caprightarrow",RIGHTARROW:"rightarrow",LEFTARROW:"leftarrrow",LONGRIGHTARROW:"longrightarrow",LONGLEFTARROW:"longleftarrow",OVERRIGHTARROW:"overrightarrow",OVERLEFTARROW:"overleftarrow",CAPLEFTRIGHTARROW:"capleftrightarrow",LEFTRIGHTARROW:"leftrightarrow",LONGLEFTRIGHTARROW:"longleftrightarrow",OVERLEFTRIGHTARROW:"overleftrightarrow",PERP:"perp",PROPTO:"propto",PARALLEL:"parallel",NPARALLEL:"nparallel",SIM:"sim",CONG:"cong",NSIM:"nsim",NCONG:"ncong",INTERVAL:"interval",LIST:"list",SET:"set",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",DERIV:"deriv",PIPE:"pipe",INT:"int",PROD:"prod",CUP:"cup",BIGCUP:"bigcup",CAP:"cap",BIGCAP:"bigcap",PERCENT:"%",QMARK:"?",M:"M",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",TYPE:"type",OVERSET:"overset",UNDERSET:"underset",OVERLINE:"overline",DEGREE:"degree",BACKSLASH:"backslash",MATHBF:"mathbf",DOT:"dot",MATHFIELD:"mathfield",NONE:"none"};(0,l.forEach)((0,l.keys)(g),(function(t,i){Model[t]=g[t]}));var v={};function isInvisibleCharCode(t){return function isControlCharCode(t){return t>=1&&t<=31||t>=127&&t<=159}(t)}function isAlphaCharCode(t){return t>=65&&t<=90||t>=97&&t<=122||39===t}function isNumberCharCode(t){return t>=48&&t<=57}v[g.ADD]="+",v[g.SUB]="-",v[g.MUL]="\\times",v[g.DIV]="\\div",v[g.FRAC]="\\frac",v[g.EQL]="=",v[g.ATAN2]="\\atan2",v[g.POW]="^",v[g.SUBSCRIPT]="_",v[g.PM]="\\pm",v[g.NOT]="\\not",v[g.COMMA]=",",v[g.M]="\\M",v[g.BINOM]="\\binom",v[g.COLON]="\\colon",Model.fold=function fold(t,i){var u=[],d=void 0;return(0,l.forEach)(t.args,(function(t){u.push(fold(t,i))})),t.args=u,t.op===g.VAR&&(d=i[t.args[0]])&&(t=d),t};var y=43,S=94,w=95,E=256,R=123,A=124,T=91,x=40,C=258,M=125,O=93,P=41,I=45,D=97,N=269,L=270,q=271,V=272,j=273,U=284,B=286,H=287,z=294,Q=295,W=299,G=301,$=304,Y=322,J=327,K=328,X=329,Z=330,ee=331,te=332,ne=333,re=335,ie=336,oe=337,ae=0,se=0,ue={};ue[47]=g.FRAC,ue[256]=g.FRAC,ue[257]=g.SQRT,ue[290]=g.VEC,ue[43]=g.ADD,ue[45]=g.SUB,ue[258]=g.PM,ue[322]=g.NOT,ue[94]=g.POW,ue[95]=g.SUBSCRIPT,ue[42]=g.MUL,ue[304]=g.DOT,ue[294]=g.DIV,ue[61]=g.EQL,ue[44]=g.COMMA,ue[269]=g.TEXT,ue[270]=g.LT,ue[271]=g.LE,ue[272]=g.GT,ue[273]=g.GE,ue[301]=g.NE,ue[315]=g.NGTR,ue[316]=g.NLESS,ue[317]=g.NI,ue[318]=g.SUBSETEQ,ue[319]=g.SUPSETEQ,ue[320]=g.SUBSET,ue[321]=g.SUPSET,ue[302]=g.APPROX,ue[313]=g.PERP,ue[314]=g.PROPTO,ue[323]=g.PARALLEL,ue[324]=g.NPARALLEL,ue[325]=g.SIM,ue[326]=g.CONG,ue[338]=g.NSIM,ue[339]=g.NCONG,ue[274]=g.EXISTS,ue[275]=g.IN,ue[276]=g.FORALL,ue[277]=g.LIM,ue[278]=g.EXP,ue[279]=g.TO,ue[124]=g.PIPE,ue[280]=g.SUM,ue[281]=g.INT,ue[282]=g.PROD,ue[309]=g.CUP,ue[310]=g.BIGCUP,ue[311]=g.CAP,ue[312]=g.BIGCAP,ue[283]=g.M,ue[334]=g.IMPLIES,ue[337]=g.CAPRIGHTARROW,ue[284]=g.RIGHTARROW,ue[327]=g.LEFTARROW,ue[328]=g.LONGRIGHTARROW,ue[329]=g.LONGLEFTARROW,ue[330]=g.OVERRIGHTARROW,ue[331]=g.OVERLEFTARROW,ue[335]=g.LEFTRIGHTARROW,ue[336]=g.CAPLEFTRIGHTARROW,ue[332]=g.LONGLEFTRIGHTARROW,ue[333]=g.OVERLEFTRIGHTARROW,ue[33]=g.FACT,ue[285]=g.BINOM,ue[286]=g.ROW,ue[287]=g.COL,ue[58]=g.COLON,ue[295]=g.TYPE,ue[296]=g.OVERLINE,ue[297]=g.OVERSET,ue[298]=g.UNDERSET,ue[299]=g.BACKSLASH,ue[300]=g.MATHBF,ue[304]=g.DOT,ue[308]=g.MATHFIELD;var le=function parse(t,i){function newNode(t,i){return{op:t,args:i}}function matchThousandsSeparator(t,i){if(Model.option("allowThousandsSeparator")||Model.option("setThousandsSeparator")){var u=Model.option("setThousandsSeparator");return u?t===i||!i&&(0,l.indexOf)(u,t)>=0?t:"":","===t?t:""}return""}function matchDecimalSeparator(t){var i=Model.option("setDecimalSeparator"),u=Model.option("setThousandsSeparator");if("string"==typeof i){(0,d.assert)(1===i.length,h(1002));var p=i;return u instanceof Array&&(0,l.indexOf)(u,p)>=0&&(0,d.assert)(!1,h(1008,[p])),t===p}return i instanceof Array?((0,l.forEach)(i,(function(t){u instanceof Array&&(0,l.indexOf)(u,t)>=0&&(0,d.assert)(!1,h(1008,[t]))})),(0,l.indexOf)(i,t)>=0):u instanceof Array&&(0,l.indexOf)(u,".")>=0?((0,d.assert)(!1,h(1008)),!1):"."===t}function numberNode(t,i,u){var l=Model.option("ignoreTrailingZeros"),p=t.toString(),g="",v=void 0,y=void 0,S=void 0,w=void 0,E=0,R="integer",A=void 0,T=void 0;for("."===t&&(0,d.assert)(!1,h(1004,[t,t.charCodeAt(0)])),v=0;v<p.length;v++)matchThousandsSeparator(y=p.charAt(v))?((E&&S!==v-4||!E&&v>4)&&(0,d.assert)(!1,h(1005)),S=v,E++):(matchDecimalSeparator(y)?("decimal"===R&&(0,d.assert)(!1,h(1007,[y,g+y])),y=".",R="decimal",E&&S!==v-4&&(0,d.assert)(!1,h(1005)),"0"===g&&(A=!0),w=g.length,S=v,E++):"decimal"===R&&"0"!==y&&(w=g.length),g+=y);return"decimal"!==R&&S&&S!==v-4&&(0,d.assert)(!1,h(1005)),void 0!==w&&(w+1<g.length&&(T=!0),l&&"."===(g=g.substring(0,w+1))&&(g="0")),{op:Model.NUM,args:[String(g)],hasThousandsSeparator:0!==E,numberFormat:R,hasLeadingZero:A,hasTrailingZero:T}}function multiplyNode(t,i){return 0===t.length&&(t=[u]),binaryNode(Model.MUL,t,i)}function unaryNode(t,i){return(0,d.assert)(1===i.length,"Wrong number of arguments for unary node"),newNode(t,i)}function binaryNode(t,i,u){if((0,d.assert)(i.length>0,"1000: Too few argument for binary node"),i.length<2)return i[0];var p=[];return(0,l.forEach)(i,(function(i){u&&i.op===t?p=p.concat(i.args):p.push(i)})),newNode(t,p)}t=function stripInvisible(t){for(var i,u,l="",d=0;d<t.length;){for(;d<t.length&&isInvisibleCharCode(i=t.charCodeAt(d++));)32!==u&&(u=i=9);92===i?(l+=String.fromCharCode(i),i=t.charCodeAt(d++)):9===i&&isNumberCharCode(l.charCodeAt(l.length-1))&&isNumberCharCode(t.charCodeAt(d))&&(i=t.charCodeAt(d++)),l+=String.fromCharCode(i)}return l}(t);var u=numberNode("1"),p=unaryNode(Model.SUB,[numberNode("1")]),v=newNode(Model.NONE,[numberNode("0")]),le=newNode(Model.VAR,[""]),ce=function scanner(t){var u=0,p="",g={"\\cdot":$,"\\times":42,"\\div":z,"\\dfrac":E,"\\frac":E,"\\sqrt":257,"\\vec":290,"\\pm":C,"\\not":Y,"\\left":null,"\\right":null,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":N,"\\textrm":N,"\\textit":N,"\\textbf":N,"\\lt":L,"\\le":q,"\\gt":V,"\\ge":j,"\\ne":G,"\\neq":G,"\\ngtr":315,"\\nless":316,"\\ni":317,"\\subseteq":318,"\\supseteq":319,"\\subset":320,"\\supset":321,"\\approx":302,"\\implies":334,"\\Rightarrow":oe,"\\rightarrow":U,"\\leftarrow":J,"\\longrightarrow":K,"\\longleftarrow":X,"\\overrightarrow":Z,"\\overleftarrow":ee,"\\Leftrightarrow":ie,"\\leftrightarrow":re,"\\longleftrightarrow":te,"\\overleftrightarrow":ne,"\\perp":313,"\\propto":314,"\\parallel":323,"\\nparallel":324,"\\sim":325,"\\cong":326,"\\nsim":338,"\\ncong":339,"\\exists":274,"\\in":275,"\\forall":276,"\\lim":277,"\\exp":278,"\\to":279,"\\sum":280,"\\int":281,"\\prod":282,"\\cup":309,"\\bigcup":310,"\\cap":311,"\\bigcap":312,"\\%":37,"\\binom":285,"\\begin":288,"\\end":289,"\\colon":58,"\\vert":A,"\\lvert":A,"\\rvert":A,"\\mid":A,"\\type":Q,"\\overline":296,"\\overset":297,"\\underset":298,"\\backslash":W,"\\mathbf":300,"\\abs":303,"\\dot":$,"\\MathQuillMathField":308,"\\ldots":D,"\\vdots":D,"\\ddots":D},v=(0,l.keys)(i),y=void 0;function number(i){for(;isNumberCharCode(i)||matchDecimalSeparator(String.fromCharCode(i))||(y=matchThousandsSeparator(String.fromCharCode(i),y))&&isNumberCharCode(t.charCodeAt(u));)p+=String.fromCharCode(i),92===(i=t.charCodeAt(u++))&&32===t.charCodeAt(u)&&(i=32,u++);return"."!==p||0!==(0,l.indexOf)(t.substring(u),"overline")&&0!==(0,l.indexOf)(t.substring(u),"dot")||(p="0."),u--,48}function variable(i){var d=String.fromCharCode(i);p+=d;for(var h=function _loop(){var t=String.fromCharCode(i),u=p+t;if(!(0,l.some)(v,(function(t){return 0===(0,l.indexOf)(t,u)})))return"break";p+=t};isAlphaCharCode(i=t.charCodeAt(u++))&&"break"!==h(););return u--,D}function latex(){var i=void 0;if(36===(i=t.charCodeAt(u++)))p=String.fromCharCode(i);else if(37===i)p+=String.fromCharCode(i);else if((0,l.indexOf)([32,58,59,44,33],i)>=0)p="\\ ";else{for(;isAlphaCharCode(i);)p+=String.fromCharCode(i),i=t.charCodeAt(u++);u--}var d=g[p];if(void 0===d)d=D;else if(d===N||d===Q){for(i=t.charCodeAt(u++);i&&123!==i;)i=t.charCodeAt(u++);for(p="",i=t.charCodeAt(u++);i&&125!==i;){var h=String.fromCharCode(i);p+=h,i=t.charCodeAt(u++)}d!==Q&&(d=!p||Model.option("ignoreText")?null:D)}return d}function prime(i){for((0,d.assert)(39===i),p="'";39===t.charCodeAt(u);)u++,p+="'";return D}return{start:function start(i){i||(i={});var g=void 0;for(p="";u<t.length;)switch(g=t.charCodeAt(u++)){case 32:case 9:case 10:case 13:continue;case 38:if(0===(0,l.indexOf)(t.substring(u),"nbsp;")){u+=5;continue}return H;case 92:switch(p+=String.fromCharCode(g),t.charCodeAt(u)){case 92:return u++,B;case 123:case 124:case 125:return t.charCodeAt(u++)}var v=latex();if(null!==v)return v;p="";continue;case 45:if(62===t.charCodeAt(u))return u++,U;case 33:return 61===t.charCodeAt(u)?(u++,G):g;case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 63:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return p+=String.fromCharCode(g),g;case 36:return p+=String.fromCharCode(g),D;case 39:return prime(g);case 60:return 61===t.charCodeAt(u)?(u++,q):L;case 62:return 61===t.charCodeAt(u)?(u++,j):V;default:return isAlphaCharCode(g)?variable(g):matchDecimalSeparator(String.fromCharCode(g))||isNumberCharCode(g)?i.oneCharToken?(p+=String.fromCharCode(g),48):number(g):((0,d.assert)(!1,h(1004,[String.fromCharCode(g),g])),0)}return 0},lexeme:function lexeme(){if(p)return p},pos:function pos(){return u}}}(t);function start(t){ae=ce.start(t)}function hd(){return ae}function lexeme(){return ce.lexeme()}function next(t){ae=se,se=0,0===ae&&(ae=ce.start(t))}function lookahead(t){return 0===se&&(se=ce.start(t)),se}function eat(t,i){var u=hd();if(u!==t){var l=String.fromCharCode(t),p=u?String.fromCharCode(u):"EOS";(0,d.assert)(!1,h(1001,[l,p]))}next(i)}function isSimpleFraction(t){if(t.op===Model.FRAC){var i=t.args[0],u=t.args[1];return i.op===Model.NUM&&"integer"===i.numberFormat&&u.op===Model.NUM&&"integer"===u.numberFormat}return!1}function isMinusOne(t){return t.op===Model.SUB&&1===t.args.length&&t.args[0].op===Model.NUM&&1===t.args[0].args.length&&"1"===t.args[0].args[0]}function primaryExpr(){var t,i=void 0,u=void 0,g=void 0,v=void 0,y=void 0;switch(t=hd()){case 65:case 97:g=[lexeme()],next(),i=newNode(Model.VAR,g),isChemCore()&&hd()===R&&lookahead()===M&&(eat(R),eat(M));break;case 48:i=numberNode(lexeme()),next();break;case Q:i=newNode(Model.TYPE,[newNode(Model.VAR,[lexeme()])]),next();break;case 91:case 40:i=function parenExpr(t){var i=void 0,u=void 0;return eat(t),hd()===P||hd()===O?(eat(t===x?P:O),i=newNode(Model.COMMA,[])):(i=commaExpr(),eat(u=hd()===P?P:O)),(2!==i.args.length||t!==x&&t!==T||u!==P&&u!==O)&&t!==x&&t!==T||(i=newNode(Model.PAREN,[i])),i.lbrk=t,i.rbrk=u,i}(t);break;case R:i=braceExpr();break;case 288:next();var C=braceExpr(),I=function matrixExpr(){var t=[];for(t.push(rowExpr());hd()===B;)next(),t.push(rowExpr());return newNode(ue[286],t)}();eat(289),braceExpr(),(0,l.indexOf)(C.args[0],"matrix")>=0?i=newNode(Model.MATRIX,[I]):(0,d.assert)(!1,"Unrecognized LaTeX name");break;case A:i=function absExpr(){eat(A);var t=additiveExpr();return eat(A),unaryNode(Model.ABS,[t])}();break;case 303:next(),i=unaryNode(Model.ABS,[braceExpr()]);break;case E:next(),v=braceExpr(),y=braceExpr(),(i=newNode(Model.FRAC,[v,y])).isFraction=isSimpleFraction(i);break;case 285:next();var D=braceExpr(),N=braceExpr(),L=unaryNode(Model.FACT,[D]),q=binaryNode(Model.POW,[binaryNode(Model.MUL,[unaryNode(Model.FACT,[N]),unaryNode(Model.FACT,[binaryNode(Model.ADD,[D,negate(N)])])]),p]);(i=binaryNode(Model.MUL,[L,q])).isBinomial=!0;break;case 257:switch(next(),hd()){case T:var V=function bracketExpr(){eat(T);var t=commaExpr();return eat(O),t}();u=braceExpr(),i=newNode(Model.SQRT,[u,V]);break;case R:u=braceExpr(),i=newNode(Model.SQRT,[u,newNode(Model.NUM,["2"])]);break;default:(0,d.assert)(!1,h(1001,["{ or (",String.fromCharCode(hd())]))}break;case 290:next();var j=braceExpr();i=newNode(Model.VEC,[j]);break;case 277:return next(),g=[],hd()===w&&(eat(w),g.push(primaryExpr()),g.push(primaryExpr())),newNode(ue[t],g);case 280:case 281:case 282:case 309:case 310:case 311:case 312:return next(),g=[],hd()===w&&(next({oneCharToken:!0}),g.push(primaryExpr()),hd()===S&&(eat(S,{oneCharToken:!0}),g.push(primaryExpr()))),hd()&&g.push(commaExpr()),newNode(ue[t],g);case 274:return next(),newNode(Model.EXISTS,[equalExpr()]);case 276:case oe:case U:case J:case K:case X:case Z:case ee:case ie:case re:case te:case ne:return next(),newNode(ue[t],[commaExpr()]);case 278:return next(),newNode(Model.EXP,[additiveExpr()]);case 283:return next(),newNode(Model.M,[multiplicativeExpr()]);case 296:case $:case 308:return next(),newNode(ue[t],[braceExpr()]);case 297:case 298:return next(),v=braceExpr(),y=braceExpr(),newNode(ue[t],[v,y]);case 300:return next(),v=braceExpr(),newNode(Model.MATHBF,[v]);case 63:return next(),newNode(Model.VAR,["?"]);default:(0,d.assert)(!Model.option("strict"),h(1006,[ue[t]])),i=le}return i}function rowExpr(){var t=[];for(t.push(equalExpr());hd()===H;)next(),t.push(equalExpr());return newNode(ue[287],t)}function braceExpr(){var t=void 0;return eat(R),hd()===M?(eat(M),t=le):(t=commaExpr(),eat(M)),t.lbrk=R,t.rbrk=M,t}function exponentialExpr(){for(var t=[primaryExpr()];hd()===S;){next({oneCharToken:!0});var i=void 0;if(!isMathSymbol(t[0])&&!isChemCore()||(i=hd())!==y&&i!==I){var d=unaryExpr();d.op===Model.VAR&&"\\circ"===d.args[0]?(hd()===D&&"K"===lexeme()||"C"===lexeme()||"F"===lexeme()?(d=multiplyNode([t.pop(),unaryNode(Model.VAR,["\\degree "+lexeme()])]),next()):d=multiplyNode([t.pop(),unaryNode(Model.VAR,["\\degree"])]),t.push(d)):t.push(d)}else next(),t.push(unaryNode(ue[i],[u]))}if(t.length>1){var p=t.pop();return(0,l.forEach)(t.reverse(),(function(t){p=newNode(Model.POW,[t,p])})),p}return t[0]}function postfixExpr(){var t,i=exponentialExpr();switch(t=hd()){case 37:next(),i=newNode(Model.PERCENT,[i]);break;case 33:next(),i=newNode(Model.FACT,[i]);break;default:if(t===D&&"\\degree"===lexeme())next(),hd()!==D||"K"!==lexeme()&&"C"!==lexeme()&&"F"!==lexeme()?i=multiplyNode([i,unaryNode(Model.VAR,["\\degree"])]):(i=multiplyNode([i,unaryNode(Model.VAR,["\\degree "+lexeme()])]),next());else if(t===A&&lookahead()===w){next();var u=[i];next({oneCharToken:!0}),u.push(newNode(Model.SUBSCRIPT,[equalExpr()])),i=newNode(Model.PIPE,u)}else!isChemCore()||t!==y&&t!==I||lookahead()!==M||(next(),i=unaryNode(ue[t],[i]))}return i}function unaryExpr(){var t=void 0,i=void 0,l=void 0;switch(t=hd()){case y:case Y:case I:next(),i=newNode(ue[t],[unaryExpr()]);break;case w:if(l=ue[t],next({oneCharToken:!0}),(t=hd())===y||t===I?(next(),i=u):i=unaryExpr(),i=newNode(l,[i]),(t=hd())===S){var d=[i];l=ue[t],next({oneCharToken:!0}),(t=hd())===y||t===I?(next(),i=u):i=unaryExpr(),d.push(i),i=newNode(l,d)}break;case S:l=ue[t],next({oneCharToken:!0}),(t=hd())===y||t===I?(next(),i=u):i=unaryExpr(),i=newNode(l,[i]);break;default:t===D&&"$"===lexeme()?(next(),hd()?(i=multiplyNode([newNode(Model.VAR,["$"]),postfixExpr()])).args[1].isPolynomial=!0:i=newNode(Model.VAR,["$"])):i=postfixExpr()}return i}function subscriptExpr(){var t=[unaryExpr()];return hd()===w&&(next({oneCharToken:!0}),t.push(exponentialExpr()),isChemCore()&&hd()===R&&(eat(R),eat(M))),t.length>1?newNode(Model.SUBSCRIPT,t):t[0]}function fractionExpr(){for(var t=void 0,i=subscriptExpr();47===(t=hd())||58===t;)next(),(i=newNode(ue[t],[i,subscriptExpr()])).isFraction=isSimpleFraction(i);return i}function isMathSymbol(t){if(t.op!==Model.VAR)return!1;var i=Model.env[t.args[0]];return!(!i||!i.name)}function isVar(t,i){return(0,d.assert)(void 0===i||"string"==typeof i,"Internal error in 'isVar()'"),t.op===Model.VAR&&(void 0===i||t.args[0]===i)}function isOne(t){return t.op===Model.NUM&&"1"===t.args[0]}function isMinusOne(t){return t.op===Model.SUB&&1===t.args.length&&isOne(t.args[0])}function isDerivative(t){if(t.op===Model.FRAC){var i=t.args[0],u=i.op===Model.MUL&&i.args[0].op===Model.VAR&&i.args[0].args[0]||i.op===Model.VAR&&i.args[0],l=t.args[1],d=l.op===Model.MUL&&l.args[0].op===Model.VAR&&l.args[0].args[0];return"d"===u&&"d"===d&&l.args[1].op===Model.VAR||void 0}}function derivativeExpr(t){if(t.op===Model.FRAC){var i=t.args[0],l=t.args[1],p=i.op===Model.MUL&&i.args.slice(1).length>0&&multiplyNode(i.args.slice(1))||u;return(0,d.assert)(2===l.args.length),newNode(Model.DERIV,[l.args[1],p])}}function multiplicativeExpr(){var t,i,u=!1,l=[];isDerivative(t=fractionExpr())&&(t=derivativeExpr(t)),l=t.op!==Model.MUL||t.isBinomial||t.args[t.args.length-1].op===Model.VAR||"\\degree"!==t.args[t.args.length-1].args[0]?[t]:t.args;for(var g,v=0;(y=hd())&&!isAdditive(y)&&!isRelational(y)&&!isImplies(y)&&44!==y&&!isEquality(y)&&y!==M&&y!==P&&y!==O&&y!==U&&y!==oe&&y!==L&&y!==A&&y!==B&&y!==H&&289!==y;){if(u=!1,isMultiplicative(y)&&(next(),u=!0),isDerivative(t=fractionExpr())&&(t=derivativeExpr(t)),y!==z&&y!==$||(t=newNode(ue[y],[l.pop(),t])),(0,d.assert)(u||0===l.length||t.lbrk||l[l.length-1].op!==Model.NUM||l[l.length-1].lbrk||isRepeatingDecimal([l[l.length-1],t])||t.op!==Model.NUM,h(1010)),isChemCore()&&y===x&&isVar(l[l.length-1],"M"))l.pop(),t=unaryNode(Model.M,[t]);else if(u)42===y&&l.length>0&&isScientific([l[l.length-1],t])&&(isNeg(y=l.pop())&&(t=binaryNode(Model.MUL,[p,t])),(t=binaryNode(Model.MUL,[y,t])).isScientific=!0);else if(l.length>0&&isMixedFraction(l[l.length-1],t))y=l.pop(),(t=binaryNode(Model.ADD,[y,t])).isMixedFraction=!0;else if(Model.option("ignoreCoefficientOne")&&1===l.length&&(isOne(g=l[0])||isMinusOne(g))&&isPolynomialTerm(l[0],t))isOne(l[0])?l.pop():t=negate(t);else if(l.length>0&&(i=isRepeatingDecimal([l[l.length-1],t])))l.pop(),t=i;else if(t.op===Model.VAR&&0===t.args[0].indexOf("'")){var y=l.pop();(t=binaryNode(Model.MUL,[y,t])).isImplicit=!0}else if(!isChemCore()&&isPolynomialTerm(l[l.length-1],t))t.isPolynomial=!0,(y=l.pop()).isPolynomial?l.push(y):((t=binaryNode(Model.MUL,[y,t])).isImplicit=y.isImplicit,y.isImplicit=void 0);else if(l[l.length-1].op===Model.DERIV){var S=l[l.length-1].args[1];t=newNode(Model.DERIV,[l[l.length-1].args[0],multiplyNode([S,t])]),l.pop()}else t.isImplicit=!0;t.op!==Model.MUL||t.isScientific||t.isBinomial||!l.length||l[l.length-1].isImplicit||l[l.length-1].isPolynomial||!t.isImplicit||!t.isPolynomial?l.push(t):l=l.concat(t.args),(0,d.assert)(v++<1e3,h(1e3,["Stuck in loop in mutliplicativeExpr()"]))}return l.length>1?binaryNode(Model.MUL,l):l[0];function isMultiplicative(t){return 42===t||t===z||47===t||t===$}}function isMixedFraction(t,i){return t.op===Model.SUB&&1===t.args.length&&(t=t.args[0]),!(t.lbrk||i.lbrk||t.op!==Model.NUM||!isSimpleFraction(i))}function isPolynomialTerm(t,i){return t.op===Model.SUB&&1===t.args.length&&(t=t.args[0]),!(t.lbrk||i.lbrk||!(t.op===Model.NUM&&isVar(i)||isVar(t)&&i.op===Model.NUM||t.op===Model.NUM&&i.op===Model.NUM||isVar(t)&&isVar(i)||t.op===Model.MUL&&t.args[t.args.length-1].isPolynomial&&(isVar(i)||i.op===Model.NUM)))}function isRepeatingDecimal(t){var i=void 0,u=void 0,l=void 0;if(!t[0].lbrk&&(t[0].op===Model.NUM&&"decimal"===t[0].numberFormat||t[0].op===Model.VAR&&"?"===t[0].args[0]||t[0].op===Model.TYPE&&t[0].args[0].op===Model.VAR&&"decimal"===t[0].args[0].args[0])){if(40===t[1].lbrk&&(function isInteger(t){var i=void 0;return i=t.op===Model.NUM?t.args[0]:t,!isNaN(parseInt(i))}(t[1])||t[1].op===Model.TYPE&&t[1].args[0].op===Model.VAR&&"integer"===t[1].args[0].args[0]))u=t[0],l=t[1];else if(t[1].lbrk||t[1].op!==Model.OVERLINE){if(t[1].lbrk||t[1].op!==Model.DOT)return null;u=t[0],l=t[1]}else u=t[0],(l=t[1]).args[0].op===Model.NUM&&(l.args[0].args[0]=l.args[0].args[0].split("").join(" "));l.isRepeating=!0,(i=binaryNode(Model.ADD,[u,l])).numberFormat="decimal",i.isRepeating=!0}else i=null;return i}function isScientific(t){if(1===t.length)return t[0].op===Model.NUM&&(1===t[0].args[0].length||1===(0,l.indexOf)(t[0].args[0],"."))||t[0].op===Model.POW&&t[0].args[0].op===Model.NUM&&"10"===t[0].args[0].args[0]&&"integer"===t[0].args[1].numberFormat;if(2===t.length){var i=t[0],u=t[1];return i.op===Model.NUM&&(1===i.args[0].length||1===(0,l.indexOf)(i.args[0],"."))&&u.op===Model.POW&&u.args[0].op===Model.NUM&&"10"===u.args[0].args[0]&&"integer"===u.args[1].numberFormat}}function isNeg(t){return"number"==typeof t?t<0:1===t.args.length?t.op===g.SUB&&t.args[0].args[0]>0||t.op===Model.NUM&&+t.args[0]<0:2===t.args.length?t.op===g.MUL&&isNeg(t.args[0]):void 0}function negate(t){if("number"==typeof t)return-t;if(t.op===Model.MUL){var i=t.args.slice(0);return multiplyNode([negate(i.shift())].concat(i))}return t.op===Model.POW&&isMinusOne(t.args[1])?binaryNode(Model.POW,[negate(t.args[0]),p]):unaryNode(Model.SUB,[t])}function isAdditive(t){return t===y||t===I||t===C||t===W}function additiveExpr(){for(var t=multiplicativeExpr(),i=void 0;isAdditive(i=hd());){next();var u=multiplicativeExpr();switch(i){case W:t=binaryNode(Model.BACKSLASH,[t,u]);break;case C:t=binaryNode(Model.PM,[t,u]);break;case I:t=binaryNode(Model.SUB,[t,u]);break;default:t=binaryNode(Model.ADD,[t,u])}}return t}function isRelational(t){return t===L||t===q||t===V||t===j||275===t||279===t||313===t||314===t||315===t||316===t||317===t||t===Y||318===t||319===t||320===t||321===t||323===t||324===t||325===t||338===t||326===t||339===t}function isEquality(t){return 61===t||t===G||302===t}function equalExpr(){for(var t=function relationalExpr(){for(var t=hd(),i=additiveExpr(),u=[],l=!1;isRelational(t=hd());)if(next(),t!==Y){var d=additiveExpr();i=newNode(ue[t],[i,d]),l&&(i.op="n"+i.op,l=!1),u.push(i),i=Model.create(d)}else l=!0;return 0===u.length||(i=1===u.length?u[0]:newNode(Model.COMMA,u)),i}(),i=void 0;isEquality(i=hd());){next();var u=additiveExpr();t=newNode(ue[i],[t,u])}return t}function isImplies(t){return 334===t||t===U||t===oe||t===J||t===K||t===X||t===Z||t===ee||t===ie||t===re||t===te||t===ne||t===A}function impliesExpr(){for(var t=equalExpr(),i=void 0;isImplies(i=hd());){next();var u=equalExpr();t=newNode(ue[i],[t,u])}return t}function commaExpr(){for(var t=impliesExpr(),i=[t];44===hd();)next(),i.push(impliesExpr());return i.length>1&&(t=newNode(ue[44],i)),t}return{expr:function expr(){if(start(),hd()){var t=commaExpr();return t.lbrk===R&&t.rbrk===M&&(t=newNode(Model.SET,[t])),(0,d.assert)(!hd(),h(1003,[ce.pos(),ce.lexeme()])),t}return v},tokenize:function tokenize(){var t=[];for(start();hd();){var i=lexeme();t.push(newNode(hd(),i?[i]:[])),next()}return newNode(Model.COMMA,t)}}};return Model}()},{"./assert.js":1,"./ast.js":2,"./backward.js":3}],6:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.rules={words:{a:"A",A:"cap A",B:"cap b",C:"cap c",D:"cap d",E:"cap e",F:"cap f",G:"cap g",H:"cap h",I:"cap i",J:"cap j",K:"cap k",L:"cap l",M:"cap m",N:"cap n",O:"cap o",P:"cap p",Q:"cap q",R:"cap r",S:"cap s",T:"cap t",U:"cap u",V:"cap v",W:"cap w",X:"cap x",Y:"cap y",Z:"cap z","\\varepsilon":"epsilon","\\Alpha":"cap alpha","\\Beta":"cap beta","\\Gamma":"cap gamma","\\Delta":"cap delta","\\Epsilon":"cap epsilon","\\Zeta":"cap zeta","\\Eta":"cap eta","\\Theta":"cap theta","\\Iota":"cap iota","\\Kappa":"cap kappa","\\Lambda":"cap lambda","\\Mu":"cap mu","\\Nu":"cap nu ","\\Xi":"cap xi","\\Omicron":"cap omicron","\\Pi":"cap pi","\\Rho":"cap rho","\\Sigma":"cap sigma","\\Tau":"cap tau","\\Upsilon":"cap upsilon","\\Phi":"cap phi","\\Chi":"cap chi","\\Psi":"cap psi","\\Omega":"cap omega","\\ldots":"dot dot dot","\\vdots":"vertical dot dot dot","\\ddots":"diagonal dot dot dot","\\infty":"infinity","\\measuredangle":"measure of angle","m\\angle":"measure of angle","\\sin":"sine","\\cos":"cosine","\\tan":"tangent","\\csc":"cosecant","\\sec":"secant","\\cot":"cotangent","\\sinh":"hyperbolic sine","\\cosh":"hyperbolic cosine","\\tanh":"hyperbolic tangent","\\csch":"hyperbolic cosecant","\\sech":"hyperbolic secant","\\coth":"hyperbolic cotangent","'''":"triple prime","''":"double prime","'":"prime","\\notin":"is not in","\\mathbb":"bold","\\backslash":"backslash","\\emptyset":"empty set","\\circledot":"circle","\\longleftarrow":"long left arrow","\\leftrightarrow":"left right row","\\Leftrightarrow":"implies","\\longleftrightarrow":"long left right arrow","\\overleftrightarrow":"over left right arrow","\\overrightarrow":"over right arrow","\\overleftarrow":"over left arrow","\\leftarrow":"left arrow","\\addmatrixcol":"add matrix columns","\\addmatrixrow":"add matrix rows"},types:{functionName:["f","g","h","F","G","H","\\ln","\\lg","\\log","\\sin","\\cos","\\tan","\\csc","\\sec","\\cot","\\sinh","\\cosh","\\tanh","\\csch","\\sech","\\coth"],numberPosNeg:["\\type{number}","-\\type{number}"],numberOrLetter:["\\type{numberPosNeg}","\\type{variable}"],matrix:["\\begin{bmatrix}?&?&?\\end{bmatrix}"],functionComposition:["(\\type{functionName}+\\type{functionName})","(\\type{functionName}-\\type{functionName})","(\\type{functionName}\\cdot\\type{functionName})","(\\frac{\\type{functionName}}{\\type{functionName}})"],function:["\\type{function}^{?}","\\type{function}_{?}","\\type{functionComposition}","\\type{functionName}"],functionCall:["\\type{function}(?)","\\type{function}[?]","\\type{variable}(\\type{number})","\\type{variable}(\\type{variable})","\\type{variable}(?,?)","\\type{variable}[\\type{number}]","\\type{variable}[\\type{variable}]","\\type{variable}[?,?]"],commonFraction:["\\frac{\\type{integer}}{2}","\\frac{\\type{integer}}{3}","\\frac{\\type{integer}}{4}","\\frac{\\type{integer}}{5}","\\frac{\\type{integer}}{6}","\\frac{\\type{integer}}{7}","\\frac{\\type{integer}}{8}","\\frac{\\type{integer}}{9}","\\frac{\\type{integer}}{10}"],simpleExpression:["\\type{numberOrLetter}","\\type{commonFraction}","\\type{function}(?)","\\type{function}[?]","\\type{number}","-\\type{variable}","\\type{variable}","\\type{number}\\degrees","\\type{variable}\\degrees","\\type{variable}","\\type{variable}\\type{variable}","\\type{number}\\type{variable}"],simpleFractionPart:["-\\type{commonFraction}","\\type{simpleExpression}","\\type{commonFraction}"],simpleFractionExtended:["\\frac{\\type{simpleFractionPart}}{\\type{simpleFractionPart}}"],simpleNumericExponent:["\\type{number}","\\type{commonFraction}"],simpleExponent:["\\type{simpleNumericExponent}","\\type{variable}"]},rules:{"\\type{decimal}\\overline{\\type{integer}}":[{"%1 repeating %2":{"\\type{decimal}":"%IP point %FP","?":"%1"}}],"\\type{decimal}(\\type{integer})":[{"%1 repeating %2":{"\\type{decimal}":"%IP point %FP","?":"%1"}}],"\\overline{?}":["line segment %1"],"\\type{numberOrLetter}\\degree \\type{numberOrLetter}' \\type{numberOrLetter}''":[{"%1 %2 %3":{"1\\degree":"%1 degree","?\\degree":"%1 degrees","-?\\degree":"negative %1 degrees","1'":"%1 minute","?'":"%1 minutes","1''":"%1 second","?''":"%1 seconds"}}],"\\type{numberOrLetter}\\degree \\type{numberOrLetter}'":[{"%1 %2":{"1\\degree":"%1 degree","?\\degree":"%1 degrees","1'":"%1 minute","?'":"%1 minutes"}}],"\\type{numberOrLetter}\\degree \\type{numberOrLetter}''":[{"%1 %2":{"1\\degree":"%1 degree","?\\degree":"%1 degrees","1''":"%1 second","?''":"%1 seconds"}}],"\\type{numberOrLetter}\\degree":[{"%1":{1:"1 degree","?":"%1 degrees"}}],"?\\degree":["%1 degrees"],"\\type{numberPosNeg}' \\type{numberPosNeg}''":[{"%1 %2":{"1'":"1 foot","?'":"%1 feet","1''":"1 inch","?''":"%1 inches"}}],"\\type{numberPosNeg}''":["%1 inches"],"\\type{numberPosNeg}'":["%1 feet"],"?^\\prime":["%1 prime"],"?'''":["%1 triple prime"],"?''":["%1 double prime"],"?'":["%1 prime"],"\\log\\type{simpleExpression}":["log %2"],"\\log ?":["the log of %2"],"\\log_{?} \\type{simpleExpression}":[{"the log base %1 of %2":{"\\log_{?}":"%2"}}],"\\ln\\type{simpleExpression}":["natural log %2"],"\\ln ?":["the natural log of %2"],"{?}":[{"start set %1 end set":{"?:?":"%1 such that %2","?|?":"%1 such that %2"}}],"?|_?":[{"%1 evaluated at %2":{"?^?":"%2 minus the same expression evaluated at %1"}}],"?|?":["%1 divides %2"],"\\type{simpleSmallRowMatrix}":[{"the 1 by %N row matrix %1":{"\\type{row}":"%1","\\type{column}":"%*"}}],"\\type{smallRowMatrix}":[{"the 1 by %N row matrix %1":{"\\type{row}":"%1","\\type{column}":"column %N %*"}}],"\\type{simpleSmallColumnMatrix}":[{"the %M by 1 column matrix %1":{"\\type{row}":"%*","\\type{column}":"%1"}}],"\\type{smallColumnMatrix}":[{"the %M by 1 column matrix %1":{"\\type{row}":"row %M %*","\\type{column}":"%1"}}],"\\type{simpleSmallMatrix}":[{"the %M by %N matrix %1":{"\\type{row}":"row %M, %*","\\type{column}":"%*"}}],"\\type{matrix}":[{"the %M by %N matrix, %1":{"\\type{row}":"row %M, %*","\\type{column}":"column %N, %*"}}],"\\sum_?^??":[{"the sum from %1 to %2 of %3":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\sum_?^?":[{"the sum from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\sum_? ?":[{"the sum over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\sum ?":["the sum of %1"],"\\sum":["the sum"],"\\prod_?^??":[{"the product from %1 to %2 of %3":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\prod_?^?":[{"the product from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\prod_? ?":[{"the product over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\prod ?":["the product of %1"],"\\prod":["the product"],"\\int_?^??":[{"the integral from %1 to %2 of %3":{"?=?":"%1 is equal to %2","?dx":"%1"}}],"\\int_?^?":[{"the integral from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\int_? ?":[{"the integral over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\int ?":["the integral of %1"],"\\int":["the integral"],"? \\cup ?":[{"the union of %1 and %2":{"?":"%1"}}],"\\cup_?^??":[{"the union from %1 to %2 of %3":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\cup_?^?":[{"the union from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\cup_? ?":[{"the union over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\cup ?":["the union of %1"],"\\cup":["the union"],"\\bigcup_?^??":[{"the union from %1 to %2 of %3":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\bigcup_?^?":[{"the union from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\bigcup_? ?":[{"the union over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\bigcup ?":["the union of %1"],"\\bigcup":["the union"],"? \\cap ?":[{"the intersection of %1 and %2":{"?":"%1"}}],"\\cap_?^??":[{"the intersection from %1 to %2 of %3":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\cap_?^?":[{"the intersection from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\cap_? ?":[{"the intersection over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\cap ?":["the intersection of %1"],"\\cap":["the intersection"],"\\bigcap_?^??":[{"the intersection from %1 to %2 of %3":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\bigcap_?^?":[{"the intersection from %1 to %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\bigcap_? ?":[{"the intersection over %1 of %2":{"?=?":"%1 is equal to %2","??":"%1"}}],"\\bigcap ?":["the intersection of %1"],"\\bigcap":["the intersection"],"? \\text{and} ?":["%1 %2"],"?m/s":[{"%1 per second":{1:"1 meter","?":"%1 meters"}}],"?ft/s":[{"%1 per second":{1:"1 foot","?":"%1 feet"}}],"?mi/hr":[{"%1 per hour":{1:"1 mile","?":"%1 miles"}}],"?mi/h":[{"%1 per hour":{1:"1 mile","?":"%1 miles"}}],"?km/hr":[{"%1 per hour":{1:"1 kilometer","?":"%1 kilometers"}}],"?km/h":[{"%1 per hour":{1:"1 kilometer","?":"%1 kilometers"}}],"1hr":["1 hour"],"?hr":["%1 hours"],"1L":["1 liter"],"?L":["%1 liters"],"1kg":["1 kilogram"],"?kg":["%1 kilograms"],"1ks":["1 kilosecond"],"?ks":["%1 kiloseconds"],"1km":["1 kilometer"],"?km":["%1 kilometers"],"1kL":["1 kiloliter"],"?kL":["%1 kiloliters"],"1cg":["1 centigram"],"?cg":["%1 centigrams"],"1cs":["1 centisecond"],"?cs":["%1 centiseconds"],"1cm":["1 centimeter"],"?cm":["%1 centimeters"],"1cL":["1 centiliter"],"?cL":["%1 centiliters"],"1mg":["1 milligram"],"?mg":["%1 milligrams"],"1ms":["1 millisecond"],"?ms":["%1 milliseconds"],"1mm":["1 millimeter"],"?mm":["%1 millimeters"],"1mL":["1 milliliter"],"?mL":["%1 milliliters"],"1\\mug":["1 microgram"],"?\\mug":["%1 micrograms"],"1\\mus":["1 microsecond"],"?\\mus":["%1 microseconds"],"1\\mum":["1 micrometer"],"?\\mum":["%1 micrometers"],"1\\muL":["1 microliter"],"?\\muL":["%1 microliters"],"1ng":["1 nanogram"],"?ng":["%1 nanograms"],"1ns":["1 nanosecond"],"?ns":["%1 nanoseconds"],"1nm":["1 nanometer"],"?nm":["%1 nanometers"],"1nL":["1 nanoliter"],"?nL":["%1 nanoliters"],"1lb":["1 pound"],"?lb":["%1 pounds"],"1in":["1 inch"],"?in":["%1 inches"],"1ft":["1 foot"],"?ft":["%1 feet"],"1mi":["1 mile"],"?mi":["%1 miles"],"1cup":["1 cup"],"?cup":["%1 cups"],"1pt":["1 pint"],"?pt":["%1 pints"],"1qt":["1 quart"],"?qt":["%1 quarts"],"1gal":["1 gallon"],"?gal":["%1 gallons"],"1oz":["1 ounce"],"?oz":["%1 ounces"],"\\mathbb{R}":["the real numbers"],"\\mathbb{C}":["the complex numbers"],"\\mathbb{Z}":["the integers"],"\\mathbb{Q}":["the rational numbers"],"\\mathbb{N}":["the natural numbers"],"\\mathbb{Z}^+":["the positive integers"],"\\mathbb{?}^?":[{"%2":{"\\type{integer}":"%1",R:"r",C:"c",Z:"z",Q:"q",N:"n","?^?":"%1 %2"}}],"\\mathbb{?}^3":["%1 three "],"\\mathbb{?}^n":["%1 n"],"\\mathbb{?}^\\infty":["%1 infinty"],"m\\angle":["measure of angle"],"\\Delta":["triangle"],"$?":["%2 dollars"],"?, ?":["%1 comma %2"],"\\type{commonFraction}":[{"%%":{"\\frac{1}{2}":"1 half","\\frac{\\type{integer}}{2}":"%1 halves","\\frac{1}{3}":"1 third","\\frac{\\type{integer}}{3}":"%1 thirds","\\frac{1}{4}":"1 fourth","\\frac{\\type{integer}}{4}":"%1 fourths","\\frac{1}{5}":"1 fifth","\\frac{\\type{integer}}{5}":"%1 fifths","\\frac{1}{6}":"1 sixth","\\frac{\\type{integer}}{6}":"%1 sixths","\\frac{1}{7}":"1 seventh","\\frac{\\type{integer}}{7}":"%1 sevenths","\\frac{1}{8}":"1 eighth","\\frac{\\type{integer}}{8}":"%1 eighths","\\frac{1}{9}":"1 ninth","\\frac{\\type{integer}}{9}":"%1 ninths","\\frac{1}{10}":"1 tenth","\\frac{\\type{integer}}{10}":"%1 tenths"}}],"\\type{simpleFractionExtended}":["%1 over %2"],"\\frac{?}{?}":["the fraction with numerator %1 and denominator %2"],"\\type{function}(?)":["%1 of %2"],"\\type{function}[?]":["%1 of %2"],"\\sin ?":["sine %2"],"\\cos{?}":["cosine %2"],"\\tan{?}":["tangent %2"],"\\csc{?}":["cosecant %2"],"\\sec{?}":["secant %2"],"\\cot{?}":["cotangent %2"],"\\sin^{-1}{?}":["inverse sine %2"],"\\cos^{-1}{?}":["inverse cosine %2"],"\\tan^{-1}{?}":["inverse tangent %2"],"\\csc^{-1}{?}":["inverse cosecant %2"],"\\sec^{-1}{?}":["inverse secant %2"],"\\cot^{-1}{?}":["inverse cotangent %2"],"\\sinh^{-1}{?}":["inverse hyperbolic sine %2"],"\\cosh^{-1}{?}":["inverse hyperbolic cosine %2"],"\\tanh^{-1}{?}":["inverse hyperbolic tangent %2"],"\\csch^{-1}{?}":["inverse hyperbolic cosecant %2"],"\\sech^{-1}{?}":["inverse hyperbolic secant %2"],"\\coth^{-1}{?}":["inverse hyperbolic cotangent %2"],"?^{-1}":["%1 inverse"],"?^{0}":["%1 to the 0 power"],"?^{2}":["%1 squared"],"?^{3}":["%1 cubed"],"\\type{function}^{\\type{integer}}":["%2th power of %1"],"?^\\type{integer}":["%1 to the %2th power"],"?^\\type{variable}":["%1 to the %2th power"],"?^{-\\type{integer}}":["%1 to the %2 power"],"?^{\\type{decimal}}":[{"%1 raised to the %2 power":{"\\type{decimal}":"%IP point %FP","?":"%1"}}],"?^{\\type{simpleExponent}}^{2}":["%1 raised to the %2 power"],"?^{\\type{simpleExponent}}^{3}":["%1 raised to the %2 power"],"?^{\\type{simpleNumericExponent}\\type{variable}}^{2}":["%1 raised to the %2 power"],"?^{\\type{simpleNumericExponent}\\type{variable}}^{3}":["%1 raised to the %2 power"],"?^?^?":["%1 raised to the exponent %2 end exponent"],"?^?":["%1 raised to the %2 power"],"\\sqrt{\\type{simpleExpression}}":[{options:{EndRoot:!0},value:"square root of %1 end root"},"square root of %1"],"\\sqrt[3]{\\type{simpleExpression}}":["cube root of %1"],"\\sqrt[\\type{integer}]{\\type{simpleExpression}}":["%2th root of %1"],"\\sqrt{?}":["square root of %1 end root"],"\\sqrt[3]{?}":[{options:{EndRoot:!0},value:"cube root of %1 end root"},"cube root of %1"],"\\sqrt[\\type{integer}]{?}":[{options:{EndRoot:!0},value:"%2th root of %1 end root"},"%2th root of %1"],"\\sqrt[?]{?}":[{options:{EndRoot:!0},value:"%2th root of %1 end root"},"%2th root of %1"],"\\mathbf{?}":["bold math font %1"],"\\mathbf{}":["bold math font"],"\\underset{?}{?}":["%1 set under %2"],"\\overset{?}{?}":["%1 set over %2"],"-?":["negative %1"],"+?":["plus %1"],"? \\cong ?":["%1 is congruent to %2"],"? \\ncong ?":["%1 is not congruent to %2"],"? \\parallel ?":["%1 is parallel to %2"],"? \\nparallel ?":["%1 is not parallel to %2"],"? \\sim ?":["%1 approximates %2"],"? \\nsim ?":["%1 does not approximate %2"],"? \\to ?":["%1 to %2"],"\\partial":["partial derivative"],"\\lim_?":["limit %1"],"\\lim_??":["limit %1 of %2"],"\\lim":["limit"],"\\type{mixedFraction}":["%1 and %2"],"\\type{scientific}":["%1 times %2"],"\\type{fraction}":["%1 over %2"],"\\type{integer}":["%1"],"\\type{decimal}":["%IP point %FP"],"\\type{number}":["%1"],"?(?)":["%1 times %2"],"(?)?":["%1 times %2"],"(?)(?)":["%1 times %2"],"? \\not\\in ?":["%1 is not in %2"],"? \\not\\ni ?":["%1 does not contain %2"],"? \\not\\subseteq ?":["%1 is not a subset of %2"],"? \\not\\subset ?":["%1 is not a strict subset of %2"],"? \\not\\supseteq ?":["%1 is not a superset of %2"],"? \\not\\supset ?":["%1 is not a strict superset of %2"],"? \\in ?":["%1 is in %2"],"? \\ni ?":["%1 contains %2"],"? \\subseteq ?":["%1 is a subset of %2"],"? \\subset ?":["%1 is a strict subset of %2"],"? \\supseteq ?":["%1 is a superset of %2"],"? \\supset ?":["%1 is a strict superset of %2"],"{}":["left brace right brace"],"[]":["left bracket right bracket"],"[?,?]":["left bracket %1 right bracket"],"(?,?]":["left parenthesis %1 right bracket"],"[?,?)":["left bracket %1 right parenthesis"],"? \\rightarrow ?":["%1 rightarrow %2"],"? \\Rightarrow ?":["%1 implies %2"],"? \\leftarrow ?":["%1 left arrow %2"],"? \\longrightarrow ?":["%1 long right arrow %2"],"? \\longleftarrow ?":["%1 long left arrow %2"],"? \\overrightarrow ?":["%1 over right arrow %2"],"? \\overleftarrow ?":["%1 over left arrow %2"],"? \\leftrightarrow ?":["%1 left right arrow %2"],"? \\Leftrightarrow ?":["%1 if and only if %2"],"? \\longleftrightarrow ?":["%1 long left right arrow %2"],"? \\overleftrightarrow ?":["%1 over left right arrow %2"],"\\rightarrow ?":["right arrow %1"],"\\Rightarrow ?":["implies %1"],"\\leftarrow ?":["left arrow %1"],"\\leftrightarrow ?":["left right arrow %1"],"\\Leftrightarrow ?":["if and only if %1"],"\\longrightarrow ?":["long right arrow %1"],"\\longleftarrow ?":["long left arrow %1"],"\\overrightarrow ?":["over right arrow %1"],"\\overleftarrow ?":["over left arrow %1"],"\\longleftrightarrow ?":["long left right arrow %1"],"\\overleftrightarrow ?":["over left right arrow %1"],"? \\implies ?":["%1 implies %2"],"?\\'":["%1 prime"],"? \\text{dx}":["with respect to x of %1"],"?_?":["%1 sub %2"],"?:?":["ratio of %1 to %2"],"? \\perp ?":["%1 perpendicular to %2"],"? \\propto ?":["%1 proportional to %2"],"?+?":["%1 plus %2"],"?-?":["%1 minus %2"],"?*?":["%1 times %2"],"?\\cdot?":["%1 times %2"],"?\\cdotp?":["%1 times %2"],"?<?":["%1 is less than %2"],"?<=?":["%1 is less than or equal to %2"],"?>?":["%1 is greater than %2"],"?>=?":["%1 is greater than or equal to %2"],"?=?":["%1 is equal to %2"],"?\\approx?":["%1 almost equal to %2"],"?!":["%1 factorial"],"?%":["%1 percent "],"? \\pm ?":["%1 plus or minus %2"],"? \\ne ?":["%1 is not equal to %2"],"? \\neq ?":["%1 is not equal to %2"],"? \\ngtr ?":["%1 is not greater than %2"],"? \\nless ?":["%1 is not less than %2"],"? \\div ?":["%1 divided by %2"],"? \\backslash ?":["%1 left divided by %2"],"(?)^? ?":["%1 times %2"],"? (?)^?":["%1 times %2"],"?^? ?":["%1 %2"],"? ?^?":["%1 %2"],"(\\type{simpleExpression})":["%1"],"(?)":["open paren %1 close paren"],"[\\type{simpleExpression}]":["%1"],"[?]":["open bracket %1 close bracket"],"|\\type{simpleExpression}|":["absolute value of %1"],"|?|":["start absolute value %1 end absolute value"],"{?} ?":["%1 %2"],"? ?":["%1 %2"],"?":["%1 "]}}},{}],7:[function(t,i,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.version="v0.2.0"},{}]},{},[4])(4)},module.exports=f()},43e3:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(41939)),d=_interopRequireDefault(u(91923)),p=_interopRequireDefault(u(8536));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var h=l.default.prototype.TYPE;i.default={getActivity:function getActivity(t){switch(t.type){case h.OFFLINE_APP:return new d.default(t);case h.SUBMIT_PRACTICE:case h.TEST:return new p.default(t);default:return new l.default(t)}}}},86447:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(74691)),h=_interopRequireDefault(u(56624)),g=_interopRequireDefault(u(70034)),v=_interopRequireDefault(u(2507)),y=_interopRequireDefault(u(805)),S=_interopRequireDefault(u(22100)),w=_interopRequireDefault(u(37086));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}var E=function ActivityRenderer(){var t=this;this.questionViews={},this.featureViews={},this.qrGroupFeatureViews={},this.submitButtonRendered=!1,this.saveButtonRendered=!1,this.pendingViews={},this.getQuestionResponsesWithUnrenderedViews=function(i){return i.filter((function(t){return d.default.isUndefined(this.questionViews[t.id])&&!this.pendingViews[R.QUESTION+t.id]}),t)}},R={FEATURE:"feature-",QUESTION:"question-"},A=["clozeformulaV2","imageclozeformulaV2","multistepmath"];d.default.extend(E.prototype,l.default.Events,{EVENT:{VIEWS_RENDERED:"viewsRendered",READY:"ready"},render:function render(t,i){var u,l,v=this.getQuestionResponsesWithUnrenderedViews(t.get("questionResponses")),E=function renderViewSimpleFeatures(t){i.simpleFeaturesRenderer&&t.renderSimpleFeatures(i.simpleFeaturesRenderer)},T=this,x=[],C=t.get("featureModels"),M=t.qrGroupFeatures;this.app=i,C=C.filter((function(t){return d.default.isUndefined(this.featureViews[t.get("feature_id")])&&!this.pendingViews[R.FEATURE+t.get("feature_id")]}),this),v=this.getQuestionResponsesWithUnrenderedViews(v),M=d.default.filter(M,(function(t){return d.default.isUndefined(this.qrGroupFeatureViews[t.get("groupId")])}),this),d.default.each(C,(function(t){this.pendingViews[R.FEATURE+t.get("feature_id")]=!0}),this),d.default.each(v,(function(t){this.pendingViews[R.QUESTION+t.id]=!0}),this);var O=new g.default((function(t,i){u=t,l=i})).catch(d.default.noop),P="mathquill"===t.get("math_renderer"),I=[];if("mathquill"!==t.get("math_renderer")&&d.default.each(v,(function(t){var i=t.get("question"),u=i.response_id;i.is_math&&"mathquill"!==i.math_renderer&&I.push(u)})),d.default.each(C,(function(t){if(t.get("is_math")&&"mathquill"!==t.get("math_renderer")){var i=t.get("feature_id");I.push(i)}})),this.once(this.EVENT.VIEWS_RENDERED,(function(){var d=this;P?this.renderMathquill().then((function(){d.trigger(d.EVENT.READY),u()})):I.length?(y.default.once(y.default.EVENT.RENDERED,(function(){this.trigger(this.EVENT.READY),u()}),this),y.default.isInitialised()?y.default.render(I):y.default.init()):(this.trigger(this.EVENT.READY),l()),this.renderOptimizationHelper?this.renderOptimizationHelper.run():this.renderOptimizationHelper=new w.default({activity:t,app:i})}),this),d.default.each(C,d.default.deferWithContext((function(u){var l=d.default.getNested(u,"attributes.type"),p=u.get("feature_id"),h={el:".learnosity-feature.feature-".concat(p),model:u,i18n:t.get("i18n"),activity:t,initialisationCallback:d.default.bind(T.viewInitialised,T,R.FEATURE+u.get("feature_id"),l,p),mathRenderPromise:O,services:{renderViewSimpleFeatures:E}},g=new u.viewClass(h);T.featureViews[u.get("feature_id")]=g,g.model.on("destroy",(function(){var t=u.get("feature_id");i.removeFeatureFacade(t),delete T.featureViews[t]})),i.addFeatureFacade(u.get("feature_id"),g.getFacade())}))),d.default.each(v,(function(u,l){if(d.default.defer((function(){var p=d.default.getNested(u,"attributes.type"),h=u.get("response_id"),g={el:".learnosity-response.question-".concat(h),model:u,activity:t,initialisationCallback:d.default.bind(T.viewInitialised,T,R.QUESTION+u.id,p,h),mathRenderPromise:O,questionNumber:l+1,services:{renderViewSimpleFeatures:E}},v=new(0,u.viewClass)(g);T.questionViews[u.id]=v,i.addQuestionFacade(u.get("response_id"),v.getFacade())})),u.has("error")){var h=u.get("response_id");switch(u.get("error")){case 10005:x.push({code:10005,detail:"Response id ".concat(h," not found."),response_id:h});break;case 10007:x.push({code:10007,detail:"Authorisation failed. User id did not match user id of creator for ".concat(h),response_id:h});break;case 10010:x.push({code:10010,detail:"Audio asset expired. The asset for response_id ".concat(h," is no longer available."),response_id:h});break;default:p.default.log("Unknown error: ".concat(u.get("error")," on response_id: ").concat(h))}}})),d.default.each(M,(function(i){var u=i.viewClass;d.default.isUndefined(u)?p.default.log("Question group feature: ".concat(i.id," doesn't have a View defined")):T.qrGroupFeatureViews[i.get("groupId")]=new u({id:i.id,collection:i,activity:t})})),t.get("renderSubmitButton")&&!this.submitButtonRendered&&(new h.default({submit:!0,activity:t,app:i}),this.submitButtonRendered=!0),t.get("renderSaveButton")&&!this.saveButtonRendered&&(new h.default({submit:!1,activity:t,app:i}),this.saveButtonRendered=!0),x.length>0)for(var D=t.get("i18n"),N=0;N<x.length;N++)x[N].i18n=D,p.default.exception(x[N]);v.length+C.length===0&&this.trigger(this.EVENT.VIEWS_RENDERED),d.default.any(v,(function(t){return A.includes(t.get("question").type)}))&&S.default.init()},renderMathquill:function renderMathquill(){return this.mathquillRenderer||(this.mathquillRenderer=new v.default),this.mathquillRenderer.render()},viewInitialised:function viewInitialised(t,i,u){this.pendingViews[t]=!1,d.default.every(this.pendingViews,(function(t){return!t}))&&this.trigger(this.EVENT.VIEWS_RENDERED)},renderSimpleFeaturesInWidgets:function renderSimpleFeaturesInWidgets(t){var i=[].concat(_toConsumableArray(d.default.values(this.questionViews)),_toConsumableArray(d.default.values(this.featureViews)));return(0,d.default)(i).map((function(i){return i.renderSimpleFeatures(t)}))},reset:function reset(){d.default.each(this.questionViews,(function(t){return t.reset&&t.reset()})),d.default.each(this.featureViews,(function(t){return t.reset&&t.reset()})),this.questionViews={},this.featureViews={},this.off(),this.renderOptimizationHelper&&this.renderOptimizationHelper.destroy()}});i.default=E},53186:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(34651)),h=_interopRequireDefault(u(76629)),g=_interopRequireDefault(u(43e3)),v=_interopRequireDefault(u(79128)),y=_interopRequireDefault(u(41507)),S=_interopRequireDefault(u(22614)),w=_interopRequireDefault(u(74691)),E=_interopRequireDefault(u(93692)),R=_interopRequireDefault(u(68750)),A=_interopRequireDefault(u(52959)),T=_interopRequireDefault(u(4309)),x=_interopRequireDefault(u(4074)),C=_interopRequireDefault(u(86447)),M=_interopRequireDefault(u(86542)),O=_interopRequireDefault(u(16104)),P=_interopRequireDefault(u(6735)),I=_interopRequireDefault(u(2507)),D=_interopRequireDefault(u(805)),N=_interopRequireDefault(u(38179)),L=_interopRequireDefault(u(70034)),q=u(80098),V=_interopRequireDefault(u(89393)),j=_interopRequireDefault(u(72895));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}u(38641),u(91843),u(18087),u(41610),u(58874),u(59065),u(53793),u(71596),u(64512),u(21328),u(33667);var U=function App(t,i,u,l,h,A){var T,x,M=this;t&&(T=d.default.deepExtend({},t)),i&&(x=d.default.deepExtend({},i)),T.beta_flags=T.beta_flags||{},this.resetInstanceVariables(),this.isReset=!1,this.options=x,this.i18n=l;var I=new P.default;this.options&&(this.options.saveSuccess&&(this.saveEventHandlers.success=this.options.saveSuccess),this.options.saveError&&(this.saveEventHandlers.error=this.options.saveError),this.options.saveProgress&&(this.saveEventHandlers.progress=this.options.saveProgress),this.options.discardSuccess&&(this.discardEventHanders.success=this.options.discardSuccess),this.options.discardError&&(this.discardEventHanders.error=this.options.discardError),this.options.metricsContext&&(v.default.setMetricsContext(this.options.metricsContext),delete this.options.metricsContext)),this.unloadHandler=new S.default,this.unloadHandler.init({i18n:this.i18n,safeToUnload:this.safeToUnload.bind(this),customUnload:this.options&&this.options.customUnload});var D=function authenticateSuccess(t){if(M.trigger(M.EVENT.BEFORE_READY,M),!M.isReset){var i,l=t.consumerData,v=V.default.getTextDirection();if(i=t.authTimestamp?t.authTimestamp:Date.now()/1e3,d.default.isObject(l)&&d.default.isString(l.id)&&d.default.isString(l.name)){var y={id:l.id,name:l.name,key:T.consumer_key,dashboardEnabled:l.dashboardEnabled,assetMaxSize:l.assetMaxSize,processVideo:l.processVideo,featureFlags:l.featureFlags,audioBitDepth:l.audioBitDepth,audioSampleRate:l.audioSampleRate};d.default.isString(l.cssFile)&&(y.cssFile=l.cssFile),d.default.isNumber(l.syncMsgFrequencyOnSave)&&(y.syncMsgFrequencyOnSave=l.syncMsgFrequencyOnSave);var S=new R.default(y);M.consumer=S,LearnosityApp._internal.rollbarInstance&&LearnosityApp._internal.rollbarInstance.configure({payload:{consumer:{featureFlags:S.get("featureFlags"),id:S.get("id"),key:S.get("key"),name:S.get("name")}}}),M.consumer.has("cssFile")&&N.default.loadClientCSS(S.get("cssFile"));var E={apiVersion:h,requestedApiVersion:A,authTimestamp:i,state:T.state,type:T.type,user_id:T.user_id,number_questions:d.default.isBoolean(T.number_questions)&&T.number_questions,questions:T.questions,features:T.features,responses:T.responses,fontsize:T.fontsize,math_renderer:T.math_renderer,id:T.id,name:T.name,course_id:T.course_id||"none",renderSubmitButton:T.renderSubmitButton,renderSaveButton:T.renderSaveButton,validateOnSubmit:d.default.isBoolean(T.validateOnSubmit)&&T.validateOnSubmit,showCorrectAnswers:T.showCorrectAnswers,show_distractor_rationale:T.show_distractor_rationale,allow_negative_scores:T.allow_negative_scores,showInstructorStimulus:T.showInstructorStimulus,security:M.security,consumer:M.consumer,i18n:M.i18n,localActRef:u,htmlCleaner:!d.default.isBoolean(T.htmlCleaner)||T.htmlCleaner,uiErrorOnCaptureFailure:!0,captureOnResumeError:d.default.isBoolean(T.captureOnResumeError)&&T.captureOnResumeError,questionSource:T.question_source,beta_flags:d.default.isObject(T.beta_flags)?T.beta_flags:{},render_optimization:d.default.isObject(T.render_optimization)?T.render_optimization:{},initTime:t.initTime,skipHighlightAnimation:d.default.isBoolean(T.skip_highlight_animation)&&T.skip_highlight_animation,skipReplayAnimation:d.default.isBoolean(T.skip_replay_animation)&&T.skip_replay_animation,attribute_overrides:T.attribute_overrides||{},disable_spokenmath_user_inputs:d.default.isBoolean(T.disable_spokenmath_user_inputs)&&T.disable_spokenmath_user_inputs,disable_spokenmath_distractors:d.default.isBoolean(T.disable_spokenmath_distractors)&&T.disable_spokenmath_distractors,custom_widget_options:T.custom_widget_options||{},disable_auto_link:d.default.isBoolean(T.disable_auto_link)&&T.disable_auto_link,mirror_visibility:d.default.isBoolean(T.mirror_visibility)&&T.mirror_visibility,enable_formula_keyboard_lazy_render:d.default.isBoolean(T.enable_formula_keyboard_lazy_render)&&T.enable_formula_keyboard_lazy_render,media_vault:d.default.isObject(T.media_vault)&&T.media_vault};d.default.isUndefined(E.questionSource)&&(E.questionSource=d.default.isBoolean(T.render_with_captured_questions)&&T.render_with_captured_questions?"original":"raw"),T.hasOwnProperty("product_id")&&(E.product_id=T.product_id),T.hasOwnProperty("description")&&(E.description=T.description),T.hasOwnProperty("session_id")&&(E.session_id=T.session_id),d.default.isObject(T.metadata)&&(E.metadata=T.metadata),d.default.isBoolean(T.uiErrorOnCaptureFailure)?E.uiErrorOnCaptureFailure=T.uiErrorOnCaptureFailure:d.default.isBoolean(T.retryCaptureOnFailure)&&(E.uiErrorOnCaptureFailure=!T.retryCaptureOnFailure),M.activity=g.default.getActivity(E),M.activityRenderer=new C.default,M.activity.on(M.activity.EVENT.READY,(function(){M.activityRenderer&&M.activityRenderer.render(M.activity,M)})),M.activityRenderer.on(M.activityRenderer.EVENT.READY,(function(){"ie"===O.default.browser&&((0,p.default)(".lrn_widget").addClass("lrn-ie"),8!==O.default.version&&9!==O.default.version||(0,p.default)(".lrn_widget").addClass("lrn_ie"+O.default.version)),d.default.isNull(v)||(0,p.default)(".lrn_widget").attr("dir",V.default.getDirection()),M.trigger(M.EVENT.READY,M)})),I.set(LearnosityApp.version+"_"+T.consumer_key+"_auth_response",l),M.activity.init()}else w.default.exception({code:10003,detail:"Authentication failed: consumer retrieved is invalid: "+JSON.stringify(l),i18n:M.i18n})}};if(T)if((0,p.default)(".learnosity-response, .learnosity-feature").each((function(){"ie"!==O.default.browser||8!==O.default.version&&9!==O.default.version||(0,p.default)(this).addClass("lrn_ie".concat(O.default.version)),(0,p.default)(this).is(":empty")&&(0,p.default)(this).html(M.i18n.labels.loadingInfo)})),this.security=new E.default({consumer_key:T.consumer_key,timestamp:T.timestamp,user_id:T.user_id,signature:T.signature}),T.expires&&this.security.set("expires",T.expires),d.default.isObject(y.default.consumer))d.default.defer((function(){D({consumerData:y.default.consumer})}));else{var L=M.security;this.authenticateAndPreloadBundles(I,T).then(D).catch((function(t){w.default.exception({code:10003,detail:t,i18n:M.i18n,consumerKey:L?"*".concat(L.get("consumer_key")):""})}))}return j.default.init(T.media_vault),this};d.default.extend(U.prototype,{EXPOSED_METHODS:["append","attemptedQuestions","disable","discard","enable","feature","features","getFeatures","getGroupScore","getMetadata","getQuestions","getResponses","getScores","executeScorings","masking","needsPushing","on","once","off","push","question","questions","renderMath","reset","retryQuestionCapture","safeToUnload","save","setScrollablePassagesContextHeight","submit","stopAllSimpleFeatures","unsaveableQuestions","validateQuestions","validQuestions","_renderComponent"],EVENT:{BEFORE_READY:"beforeReady",READY:"ready"},authenticateAndPreloadBundles:function authenticateAndPreloadBundles(t,i){var u=this,l=function authFromOfflineCache(u,l){t.get("".concat(LearnosityApp.version,"_").concat(i.consumer_key,"_auth_response")).then((function(t){t?u({consumerData:t}):l("Authentication failed: no connection and application not ready to run offline")}))},p=new L.default((function(t,p){i.type===A.default.prototype.TYPE.OFFLINE_APP?l(t,p):v.default.request({url:"/authenticate",security:u.security.getRequestParameters(),success:function success(i){var u={consumerData:i.response.data,authTimestamp:i.response.data.authTimestamp};delete u.consumerData.authTimestamp,d.default.isObject(i.response.meta)&&(u.initTime=i.response.meta.timestamp),t(u)},failure:function failure(i){if(i.status>=400&&i.status<600){var u="Authentication failed: ".concat(i.status);d.default.isObject(i.response)&&i.response.meta?u+=" - ".concat(i.response.meta.message):u+=" - ".concat(i.response),p(u)}else-1!==i.status?l(t,p):p("Authentication failed: ".concat(i.response))}})})),g=function preloadBundlePromise(t){var u="features"===t?x.default.prototype.TYPE:T.default.prototype.TYPE,l="features"===t?h.default.requireBundlesForFeatureTypes:h.default.requireBundlesForQuestionTypes,p=h.default.getBundleOptions(i.beta_flags),g=[];if(d.default.isArray(i[t])&&i[t].length){var v=i[t];d.default.each(v,(function(t){t.type!==u.UNKNOWN&&!d.default.include(g,t.type)&&d.default.include(u,t.type)&&g.push(t.type)}))}var y=g&&g.length;return new L.default((function(t,i){y?l(g,t,p):t()}))};return L.default.all([p,g("questions"),g("features")]).then((function(t){return t[0]}))},resetInstanceVariables:function resetInstanceVariables(){this.activity=null,this.options=null,this.security=null,this.consumer=null,this.i18n=null,this.saveEventHandlers={},this.discardEventHanders={},this.activityRenderer=null,this.unloadHandler=null,this.questionFacades={},this.featureFacades={}},getFacade:function getFacade(t){var i=this,u={};return this.cachedFacade?u=this.cachedFacade:(d.default.each(i.EXPOSED_METHODS,(function(t){u[t]=function(){return i.facadeCtx||(i.facadeCtx=this),d.default.isObject(i.options)&&d.default.isString(d.default.getNested(i,"options.appParent"))||(0,q.triggerEvent)({app:window.LearnosityApp._internal.config.appContext,name:"publicMethod",publicMethod:t,args:arguments}),i[t].apply(i,arguments)}})),this.cachedFacade=u),d.default.isObject(t)&&(u=d.default.extend(t,u)),u},reset:function reset(){this.activity&&(d.default.each(this.activity.hooks.reset,(function(t){d.default.isFunction(t)&&t()})),this.activity.off()),this.activityRenderer&&this.activityRenderer.reset(),this.unloadHandler&&this.unloadHandler.reset(),this.resetInstanceVariables(),this.isReset=!0},save:d.default.cancellableThrottle((function(t,i){if(this.activity){var u=p.default.extend({},this.saveEventHandlers,t),l=this.activity.get("state");if(u.submit=!!i,this.activity.get("type")!==this.activity.TYPE.LOCAL_PRACTICE&&l!==this.activity.STATE.REVIEW&&l!==this.activity.STATE.PREVIEW)this.activity.save(u);else{var d="Save responses failed. Save called on an invalid activity type / state";u.submit&&(d="Submit responses failed. Submit called on an invalid activity type / state"),w.default.exception({code:10004,detail:d},u.error)}}else this.saveCallCached||(this.saveCallCached=!0,this.once(this.EVENT&&this.EVENT.INITIALISED,(function(){this.saveCallCached=!1,this.save(t,i)}),this))}),5e3,!0),setScrollablePassagesContextHeight:function setScrollablePassagesContextHeight(t){this.simpleFeaturesRenderer.setScrollablePassagesContextHeight(t)},submit:d.default.cancellableThrottle((function(t){this.save.cancel&&this.save.cancel(),this.save(t,!0)}),5e3,!0),discard:function discard(t){var i=p.default.extend({},this.discardEventHanders,t),u=this.activity.get("state");this.activity.get("type")!==this.activity.TYPE.LOCAL_PRACTICE&&u!==this.activity.STATE.REVIEW&&u!==this.activity.STATE.PREVIEW?this.activity.discard(i):w.default.exception({code:10021,detail:"Discard responses failed. Discard called on an invalid activity type / state"},i.error)},push:function push(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d.default.isObject(t)||(t={}),this&&!t.security&&(t.security=this.security.getRequestParameters()),t.security){t.security.domain=y.default.domain;try{M.default.init()}catch(i){return void w.default.exception({code:10027,detail:i.toString()},t.error)}M.default.pushAll(t.security).then(t.success,(function(i){w.default.exception({code:10027,detail:i.toString()},t.error)}))}else w.default.exception({code:10027,detail:"Missing security object"},t.error)},needsPushing:function needsPushing(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d.default.isObject(t)||(t={}),this&&!t.security&&(t.security=this.security.getRequestParameters()),t.security)if(t.success){try{M.default.init()}catch(i){return void w.default.exception({code:10028,detail:i.toString()},t.error)}M.default.needsPushing(t.security).then(t.success,(function(i){w.default.exception({code:10028,detail:i.toString()},t.error)}))}else w.default.exception({code:10028,detail:"Missing success function"},t.error);else w.default.exception({code:10028,detail:"Missing security object"},t.error)},retryQuestionCapture:function retryQuestionCapture(){this.activity&&this.activity.get("type")!==this.activity.TYPE.LOCAL_PRACTICE&&this.activity.captureQuestionResponses()},safeToUnload:function safeToUnload(){return!this.activity||this.activity.safeToUnload()},attemptedQuestions:function attemptedQuestions(){return this.activity?this.activity.getAttemptedResponseIds():[]},_renderComponent:function _renderComponent(t,i){var u=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.default.getExposedExternalBundle("internalComponent")().then((function(d){var p=d.default?d.default:d,h=p.validateOptions(l);if(h)throw new Error(h);return l.i18n=u.i18n,p.render(t,i,l)}))},renderMath:function renderMath(t){return"mathquill"===t||this.activity&&"mathquill"===this.activity.get("math_renderer")?(new I.default).render():D.default.isInitialised()?D.default.render():D.default.init()},validateQuestions:function validateQuestions(t,i){var u=this,l=this.executeScorings().then((function(){return u.activity.validateQuestionsResponses(t)}));i&&l.then((function(){return i()}))},validQuestions:function validQuestions(t,i){switch(t){case"detailed":return this.activity.get("questionResponses").getValidResponses(i);case"detailedWithPartials":return this.activity.get("questionResponses").getValidResponsesDetailed(i);default:return this.activity.getValidResponseIds(i)}},unsaveableQuestions:function unsaveableQuestions(){return d.default.map(this.activity.get("questionResponses").getInvalidQuestionResponses(),(function(t){return t.get("response_id")}))},disable:function disable(){if(!this.disableEnableAllowed())return!1;var t=d.default.map(this.questionFacades,(function(t){return t.disable()}));return d.default.contains(t,!0)},enable:function enable(){if(!this.disableEnableAllowed())return!1;var t=d.default.map(this.questionFacades,(function(t){return t.enable()}));return d.default.contains(t,!0)},disableEnableAllowed:function disableEnableAllowed(){var t=this.activity.get("state");return t===this.activity.STATE.INITIAL||t===this.activity.STATE.RESUME},question:function question(t){return this.questionFacades[t]},questions:function questions(){return d.default.clone(this.questionFacades)},feature:function feature(t){return this.featureFacades[t]},features:function features(){return d.default.clone(this.featureFacades)},getResponses:function getResponses(){return!!this.activity&&this.activity.get("questionResponses").getResponsesForClient()},getFeatures:function getFeatures(){return!!this.activity&&this.activity.get("featureModels").getFeaturesJson()},getQuestions:function getQuestions(){return!!this.activity&&this.activity.get("questionResponses").getQuestionsJson()},getMetadata:function getMetadata(){return!!this.activity&&this.activity.get("questionResponses").getQuestionsMetadata()},executeScorings:function executeScorings(){return this.activity?this.activity.get("questionResponses").executeScorings():L.default.resolve()},getScores:function getScores(t){return!!this.activity&&this.activity.get("questionResponses").getScores(t)},getGroupScore:function getGroupScore(t,i){return!!this.activity&&this.activity.get("questionResponses").getGroupScore(t,i)},append:function append(t){return this.activity&&this.activity.append(t)},masking:function masking(t){if(this.activity){var i,u=arguments[2];if(d.default.isUndefined(arguments[1]))i=d.default.keys(this.questionFacades);else if(d.default.isString(arguments[1]))i=[arguments[1]];else{if(!d.default.isArray(arguments[1]))return!1;i=arguments[1]}return d.default.each(i,(function(i){this.questionFacades[i].masking(t,u)}),this),!0}return!1},on:function on(){var t=Array.prototype.slice.call(arguments),i=t[0],u=t[1],d=t[2]||this.facadeCtx||window;return l.default.Events.on.apply(this,[i,u,d]),this.getFacade()},off:function off(){return l.default.Events.off.apply(this,arguments),this.getFacade()},once:function once(){var t=Array.prototype.slice.call(arguments),i=t[0],u=t[1],d=t[2]||this.facadeCtx||window;return l.default.Events.once.apply(this,[i,u,d]),this.getFacade()},trigger:function trigger(){l.default.Events.trigger.apply(this,arguments)},stopAllSimpleFeatures:function stopAllSimpleFeatures(){this.simpleFeaturesRenderer.stopHideAll()},addQuestionFacade:function addQuestionFacade(t,i){this.questionFacades[t]=i},addFeatureFacade:function addFeatureFacade(t,i){this.featureFacades[t]=i},removeFeatureFacade:function removeFeatureFacade(t){var i=this.featureFacades;i&&delete i[t]}});i.default=U},85494:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(53186)),p=(_interopRequireDefault(u(41507)),_interopRequireDefault(u(74691))),h=_interopRequireDefault(u(53327)),g=_interopRequireDefault(u(66314)),v=_interopRequireDefault(u(16104)),y=_interopRequireDefault(u(70034)),S=_interopRequireDefault(u(11686));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}function getAppStub(t){var i={};return t&&(i=t),l.default.each(d.default.prototype.EXPOSED_METHODS,(function(t){i[t]=function(){p.default.exception({code:10032,detail:"You have called ".concat(t," on an App stub, please Init the API with an activity JSON object")})}})),i}var w=new h.default,E=[],R={};function getDefaultApp(){return E.length>0?E[0]:getAppStub()}function executeCachedExposedMethodsCalls(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.app,u=t.appStub,d=t.allowedMethods,p=LearnosityApp._internal._cachedAppInstanceMethodCalls;p.forEach((function(t,h){t.appStub===u&&(d&&!l.default.contains(d,t.method)||(!function executeCall(t){i[t.method].apply(i,_toConsumableArray(t.args))}(t),p[h]=null))})),LearnosityApp._internal._cachedAppInstanceMethodCalls=p.filter((function(t){return!!t}))}function whenReady(t,i,u){l.default.isFunction(u)&&y.default.all(t).then((function(){l.default.defer((function(){i.isReset||u()}))}))}i.default={_internal:void 0,version:void 0,errors:[],init:function init(){var t,i,u,h,S,A,T=[];if(!function checkBrowserCompat(){var t,i;return!("ie"===v.default.browser&&v.default.version<8&&(v.default.compatibilityMode?(i=10018,t="Detected browser is supported but currently running in an unsupported compatibility mode ".concat(v.default.browser," version ").concat(v.default.version)):(i=10015,t="Detected browser ".concat(v.default.browser," version ").concat(v.default.version)),p.default.exception({code:i,detail:t,i18n:new g.default}),1))}())return!1;!function validateDocType(){v.default.isValidDOCTYPE(document)||p.default.warning("This html file's DOCTYPE is invalid or missing. Learnosity's UI may be impacted until this is fixed.")}(),l.default.each(arguments,(function(d){l.default.isString(d)?u=d:l.default.isObject(d)&&(d.hasOwnProperty("consumer_key")?t=d:d.hasOwnProperty("appStub")?h=d.appStub:i=d)})),h||(h={},window.LearnosityApp._internal.addCachedPublicMethodsHandler(window.LearnosityApp._internal.cacheableInstanceMethods,h)),p.default.setErrorListener(i&&i.errorListener);var x=i&&i.readyListener,C=function getLabelBundle(t,i){var u=i&&l.default.isObject(i.labelBundle)&&i.labelBundle,d=t&&l.default.isObject(t.labelBundle)&&t.labelBundle;return l.default.extend({},u,d)}(t,i);w.hasInitBeenCalled()||(l.default.isUndefined(S)&&(S=new g.default(C)),w.init(S));var M=t&&t.beta_flags;return t?(S=new g.default(C),A=new d.default(t,i,u,S,this.version,this.requestedApiVersion),l.default.defer((function(){executeCachedExposedMethodsCalls({app:A,appStub:h,allowedMethods:["on","off","once"]})})),A.on(A.EVENT.BEFORE_READY,(function(){T.push(w.render(M)),executeCachedExposedMethodsCalls({app:A,appStub:h,allowedMethods:["reset"]})})),A.on(A.EVENT.READY,(function(){var t=A.activityRenderer.renderSimpleFeaturesInWidgets(w);executeCachedExposedMethodsCalls({app:A,appStub:h}),A.getFacade(h),y.default.all(t).then((function(){w.onAppReady(),T.push(w.render(M)),whenReady(T,A,x),l.default.chain(E).without(A).each((function(t){var i=t&&t.activityRenderer;i&&i.renderSimpleFeaturesInWidgets(w)}))}))})),A.simpleFeaturesRenderer=w,E.push(A),u&&(R[u]=A)):(A=getAppStub(h),whenReady(T,A,x)),h},reset:function reset(){l.default.invoke(E,"reset"),p.default.reset();var t=LearnosityApp._internal.audioApi;t&&t.reset(),E=[],R={},w.reset()},save:function save(){d.default.prototype.save.apply(getDefaultApp(),arguments)},submit:function submit(){d.default.prototype.submit.apply(getDefaultApp(),arguments)},safeToUnload:function safeToUnload(){return d.default.prototype.safeToUnload.apply(getDefaultApp(),arguments)},attemptedQuestions:function attemptedQuestions(){return d.default.prototype.attemptedQuestions.apply(getDefaultApp(),arguments)},renderMath:function renderMath(){return d.default.prototype.renderMath.apply(getDefaultApp(),arguments)},simpleFeature:function simpleFeature(t){return w.simpleFeatureFacades[t]},simpleFeatures:function simpleFeatures(){return l.default.clone(w.simpleFeatureFacades)},push:function push(){return d.default.prototype.push.apply(null,arguments)},needsPushing:function needsPushing(){return d.default.prototype.needsPushing.apply(null,arguments)},offline:function offline(t){var i=(0,S.default)();return l.default.isFunction(t)?t(i):i}}},76629:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l,d,p=_interopRequireDefault(u(73781)),h=u(51273),g=_interopRequireDefault(u(74691)),v=_interopRequireDefault(u(70034));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}function _defineProperty(t,i,u){return(i=function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}var y=(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(l={},h.QUESTION_TYPES.ASSOCIATION,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(6254),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(8052),u.e(2104),u.e(5780),u.e(7883),u.e(7522)]).then(u.bind(u,96848))})),h.QUESTION_TYPES.CHEMISTRYESSAYV2,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(1998),u.e(8451),u.e(7760),u.e(9011),u.e(9812),u.e(9096),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(5768),u.e(5146),u.e(8179),u.e(6389),u.e(5168),u.e(5157),u.e(8482)]).then(u.bind(u,52362))})),h.QUESTION_TYPES.CHOICEMATRIX,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(8939)]).then(u.bind(u,27869))})),h.QUESTION_TYPES.CLASSIFICATION,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(6254),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(8052),u.e(2104),u.e(5780),u.e(7883),u.e(4266),u.e(7249)]).then(u.bind(u,54811))})),h.QUESTION_TYPES.BOWTIE,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(6254),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(8052),u.e(2104),u.e(5780),u.e(7883),u.e(4266),u.e(4327)]).then(u.bind(u,98577))})),h.QUESTION_TYPES.CLOZEASSOCIATION,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(6254),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(5768),u.e(5146),u.e(94),u.e(8052),u.e(2104),u.e(5780),u.e(7883),u.e(999),u.e(4535),u.e(4457)]).then(u.bind(u,64243))})),h.QUESTION_TYPES.CLOZEDROPDOWN,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(5768),u.e(5146),u.e(94),u.e(999),u.e(4535),u.e(7195)]).then(u.bind(u,19999))})),h.QUESTION_TYPES.CLOZETEXT,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(5768),u.e(5146),u.e(94),u.e(999),u.e(4535),u.e(1489)]).then(u.bind(u,46905))})),h.QUESTION_TYPES.FORMULAESSAYV2,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(1998),u.e(8451),u.e(7760),u.e(9011),u.e(9812),u.e(9096),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(5768),u.e(5146),u.e(8179),u.e(6389),u.e(5168),u.e(5157),u.e(2202)]).then(u.bind(u,80382))})),h.QUESTION_TYPES.HIGHLIGHT,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(7648),u.e(5768),u.e(5146),u.e(9614),u.e(1627)]).then(u.bind(u,38547))})),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(l,h.QUESTION_TYPES.LONGTEXTV2,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(1998),u.e(8451),u.e(7760),u.e(9011),u.e(9812),u.e(9096),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(5768),u.e(5146),u.e(8179),u.e(6389),u.e(5168),u.e(5157),u.e(226)]).then(u.bind(u,83158))})),h.QUESTION_TYPES.MCQ,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(5098)]).then(u.bind(u,83064))})),h.QUESTION_TYPES.ORDERLIST,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(6254),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(8052),u.e(2104),u.e(7883),u.e(323)]).then(u.bind(u,7315))})),h.QUESTION_TYPES.IMAGECLOZEASSOCIATIONV2,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(6254),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(8179),u.e(94),u.e(8052),u.e(2104),u.e(5780),u.e(4266),u.e(2376)]).then(u.bind(u,59930))})),h.QUESTION_TYPES.RATING,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(5768),u.e(6590)]).then(u.bind(u,74378))})),h.QUESTION_TYPES.SHORTTEXT,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(5768),u.e(5146),u.e(4204)]).then(u.bind(u,15510))})),h.QUESTION_TYPES.TOKENHIGHLIGHT,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8451),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(5856)]).then(u.bind(u,22248))})),h.QUESTION_TYPES.VIDEO,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(6389),u.e(9168),u.e(5578)]).then(u.bind(u,55148))})),h.QUESTION_TYPES.DRAWING,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6851),u.e(9011),u.e(9812),u.e(9096),u.e(7648),u.e(5768),u.e(5146),u.e(8179),u.e(9614),u.e(1885)]).then(u.bind(u,89373))})),h.QUESTION_TYPES.AUDIO,(function(){return Promise.all([u.e(9011),u.e(6389),u.e(3425),u.e(3978),u.e(9771)]).then(u.bind(u,27851))})),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(l,h.QUESTION_TYPES.AUDIOADV,(function(){return Promise.all([u.e(9011),u.e(3425),u.e(4370)]).then(u.bind(u,62734))})),h.QUESTION_TYPES.BOOLEAN,(function(){return u.e(7501).then(u.bind(u,15381))})),h.QUESTION_TYPES.CHEMISTRY,(function(){return Promise.all([u.e(2898),u.e(1998),u.e(9011),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(2426),u.e(222),u.e(4093),u.e(2335)]).then(u.bind(u,52719))})),h.QUESTION_TYPES.CHEMISTRYESSAY,(function(){return Promise.all([u.e(2898),u.e(1998),u.e(8451),u.e(9011),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(5378),u.e(817),u.e(4948)]).then(u.bind(u,62047))})),h.QUESTION_TYPES.CUSTOM,(function(){return Promise.all([u.e(2090),u.e(6394)]).then(u.bind(u,62490))})),h.QUESTION_TYPES.FILLSHAPE,(function(){return Promise.all([u.e(8179),u.e(2711)]).then(u.bind(u,9924))})),h.QUESTION_TYPES.FILEUPLOAD,(function(){return Promise.all([u.e(6389),u.e(9810)]).then(u.bind(u,73542))})),h.QUESTION_TYPES.FORMULA,(function(){return Promise.all([u.e(9011),u.e(7173),u.e(9308),u.e(2426),u.e(2679)]).then(u.bind(u,61027))})),h.QUESTION_TYPES.FORMULAESSAY,(function(){return Promise.all([u.e(2898),u.e(1998),u.e(8451),u.e(9011),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(5378),u.e(817),u.e(5484)]).then(u.bind(u,10192))})),h.QUESTION_TYPES.GRAPHPLOTTING,(function(){return Promise.all([u.e(7037),u.e(611),u.e(4412)]).then(u.bind(u,65878))})),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(l,h.QUESTION_TYPES.GRIDDED,(function(){return u.e(5290).then(u.bind(u,76616))})),h.QUESTION_TYPES.HOTSPOT,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(2212)]).then(u.bind(u,49294))})),h.QUESTION_TYPES.IMAGEUPLOAD,(function(){return Promise.all([u.e(6389),u.e(5168),u.e(5037)]).then(u.bind(u,51685))})),h.QUESTION_TYPES.LONGTEXT,(function(){return Promise.all([u.e(8451),u.e(5378),u.e(5036)]).then(u.bind(u,76672))})),h.QUESTION_TYPES.NUMBERLINE,(function(){return Promise.all([u.e(7037),u.e(611),u.e(7614)]).then(u.bind(u,36366))})),h.QUESTION_TYPES.NUMBERLINEPLOT,(function(){return Promise.all([u.e(8485),u.e(6851),u.e(7037),u.e(611),u.e(7431)]).then(u.bind(u,3301))})),h.QUESTION_TYPES.PLAINTEXT,(function(){return Promise.all([u.e(9011),u.e(4345),u.e(6288)]).then(u.bind(u,53774))})),h.QUESTION_TYPES.SCORE,(function(){return u.e(6671).then(u.bind(u,33623))})),h.QUESTION_TYPES.SIMPLECHART,(function(){return Promise.all([u.e(9011),u.e(8179),u.e(7037),u.e(8859)]).then(u.bind(u,69159))})),h.QUESTION_TYPES.SIMPLESHADING,(function(){return Promise.all([u.e(9011),u.e(4877)]).then(u.bind(u,55069))})),_defineProperty(_defineProperty(_defineProperty(l,h.QUESTION_TYPES.SORTLIST,(function(){return Promise.all([u.e(8485),u.e(6851),u.e(6329),u.e(8052),u.e(7351)]).then(u.bind(u,65041))})),h.QUESTION_TYPES.TEXTHIGHLIGHT,(function(){return Promise.all([u.e(8451),u.e(9190)]).then(u.bind(u,90704))})),h.QUESTION_TYPES.UNKNOWN,(function(){return u.e(6011).then(u.bind(u,12655))})));y[h.QUESTION_TYPES.CLOZEINLINETEXT]=y[h.QUESTION_TYPES.IMAGECLOZEASSOCIATION]=function(){return Promise.all([u.e(8485),u.e(6851),u.e(9011),u.e(6329),u.e(94),u.e(8052),u.e(1154),u.e(4345),u.e(9434)]).then(u.bind(u,21088))},y[h.QUESTION_TYPES.IMAGECLOZETEXT]=y[h.QUESTION_TYPES.IMAGECLOZEDROPDOWN]=function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(5768),u.e(5146),u.e(8179),u.e(94),u.e(999),u.e(5149)]).then(u.bind(u,61557))},y[h.QUESTION_TYPES.CLOZEFORMULA]=y[h.QUESTION_TYPES.IMAGECLOZEFORMULA]=function(){return Promise.all([u.e(2898),u.e(1998),u.e(428),u.e(9011),u.e(6329),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(94),u.e(2426),u.e(222),u.e(335),u.e(1154),u.e(9659),u.e(3152)]).then(u.bind(u,79120))},y[h.QUESTION_TYPES.CLOZEFORMULAV2]=y[h.QUESTION_TYPES.IMAGECLOZEFORMULAV2]=function(){return Promise.all([u.e(2898),u.e(4397),u.e(1998),u.e(428),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(6329),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(94),u.e(2426),u.e(222),u.e(335),u.e(1154),u.e(9659),u.e(6912)]).then(u.bind(u,38532))},y[h.QUESTION_TYPES.CLOZECHEMISTRY]=y[h.QUESTION_TYPES.IMAGECLOZECHEMISTRY]=function(){return Promise.all([u.e(2898),u.e(1998),u.e(428),u.e(9011),u.e(6329),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(94),u.e(2426),u.e(222),u.e(335),u.e(1154),u.e(9659),u.e(8012)]).then(u.bind(u,31448))},y[h.QUESTION_TYPES.FORMULAV2]=y[h.QUESTION_TYPES.FORMULA_DEV]=function(){return Promise.all([u.e(2898),u.e(1998),u.e(9011),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(2426),u.e(4093),u.e(2043)]).then(u.bind(u,56627))},y[h.QUESTION_TYPES.MULTISTEPMATH]=function(){return Promise.all([u.e(2898),u.e(4397),u.e(1998),u.e(428),u.e(9011),u.e(9812),u.e(9096),u.e(88),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(335),u.e(9402)]).then(u.bind(u,94528))};var S=(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(d={},h.FEATURE_TYPES.IMAGE_TOOL,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(596),u.e(5163),u.e(5398)]).then(u.bind(u,69206))})),h.FEATURE_TYPES.VIDEO_PLAYER,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(596),u.e(9168),u.e(5107)]).then(u.bind(u,89863))})),h.FEATURE_TYPES.CALCULATOR,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(8485),u.e(6254),u.e(9011),u.e(596),u.e(5163),u.e(9489)]).then(u.bind(u,89497))})),h.FEATURE_TYPES.SCROLLABLE_PASSAGE,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(596),u.e(18)]).then(u.bind(u,70322))})),h.FEATURE_TYPES.LINE_READER,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(596),u.e(5163),u.e(3126)]).then(u.bind(u,9684))})),h.FEATURE_TYPES.POP_UP,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(5768),u.e(8179),u.e(596),u.e(3777)]).then(u.bind(u,7879))})),h.FEATURE_TYPES.AUDIO_PLAYER,(function(){return Promise.all([u.e(9011),u.e(3425),u.e(3978),u.e(1292)]).then(u.bind(u,81268))})),h.FEATURE_TYPES.COUNTER,(function(){return Promise.all([u.e(9011),u.e(6921)]).then(u.bind(u,61143))})),h.FEATURE_TYPES.FORMULAINPUT,(function(){return Promise.all([u.e(2898),u.e(1998),u.e(9011),u.e(7173),u.e(7648),u.e(9308),u.e(3371),u.e(7865)]).then(u.bind(u,28293))})),h.FEATURE_TYPES.SHARED_PASSAGE,(function(){return Promise.all([u.e(2898),u.e(4397),u.e(9011),u.e(9812),u.e(596),u.e(5646)]).then(u.bind(u,84658))})),_defineProperty(_defineProperty(d,h.FEATURE_TYPES.CUSTOM_FEATURE,(function(){return Promise.all([u.e(9011),u.e(2090),u.e(6496)]).then(u.bind(u,76088))})),h.FEATURE_TYPES.UNKNOWN,(function(){return Promise.all([u.e(9011),u.e(3611)]).then(u.bind(u,28265))})));function resolveBundlePromises(t){return v.default.all(t).then((function(){if(arguments.length)return p.default.map(arguments.length<=0?void 0:arguments[0],(function(t){return p.default.isArray(t)&&t[0].default?t[0]:t}))})).catch(onBundleLoadError)}function onBundleLoadError(t){var i=t.stack||t.message,u=10017;i&&i.indexOf("ChunkLoadError")<0&&(u=10017.1),g.default.exception({code:u,detail:i})}var w={default:y,legacy:{},reactiveViews:{},reactiveViewsInDev:{}},E={default:S,legacy:{},reactiveViews:{},reactiveViewsInDev:{}};function getBundleToLoad(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u="feature"===t?E:w,l=i.reactiveViews,d=i.reactiveViewsInDev,h=p.default.extend({},u.default);return!0===l?p.default.extend(h,u.reactiveViews,d&&u.reactiveViewsInDev):!1===l&&p.default.extend(h,u.legacy),h}function reloadable(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,u=0;return new v.default((function(l,d){!function sendRequest(){t().then((function(){l.apply(null,arguments)})).catch((function(t){++u<=i?p.default.delay(sendRequest,500*u):d(t)}))}()}))}var R={mathcore:function mathcore(){return Promise.all([u.e(2426),u.e(876)]).then(u.bind(u,15212))},reactiveViewComponents:function reactiveViewComponents(){return Promise.all([u.e(2898),u.e(4362)]).then(u.bind(u,21246))},internalComponent:function internalComponent(){return Promise.all([u.e(2898),u.e(590)]).then(u.bind(u,84178))},spokenmathWorker:function spokenmathWorker(){return u.e(9875).then(u.t.bind(u,36281,23))},mathrustWorker:function mathrustWorker(){return u.e(3623).then(u.t.bind(u,54677,23))}};i.default={requireBundlesForQuestionTypes:function requireBundlesForQuestionTypes(t,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};reloadable((function(){var i=getBundleToLoad("question",u),l=[],d={},g=[h.QUESTION_TYPES.UNKNOWN].concat(_toConsumableArray(t));return p.default.each(g,(function(t){i[t]&&l.push(i[t]())})),l.length>0?resolveBundlePromises(l).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p.default.each(g,(function(i,u){var l=t[u];l&&l.default&&(d[i]=l.default)})),d})):v.default.resolve(d)})).then((function(t){i(t)})).catch(onBundleLoadError)},requireBundlesForFeatureTypes:function requireBundlesForFeatureTypes(t,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};reloadable((function(){var i=getBundleToLoad("feature",u),l=[],d={},g=[h.FEATURE_TYPES.UNKNOWN].concat(_toConsumableArray(t));return p.default.each(g,(function(t){i[t]&&l.push(i[t]())})),l.length>0?resolveBundlePromises(l).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p.default.each(g,(function(i,u){var l=t[u];l&&l.default&&(d[i]=l.default)})),d})):v.default.resolve(d)})).then((function(t){i(t)})).catch(onBundleLoadError)},getBundleOptions:function getBundleOptions(t){var i={};if(t){var u=t.reactive_views,l=t.reactive_views_in_dev;p.default.isBoolean(u)&&(i.reactiveViews=u),p.default.isBoolean(l)&&(i.reactiveViewsInDev=l)}return i},getExposedExternalBundle:function getExposedExternalBundle(t){if(R[t])return function(){return new v.default((function(i,u){R[t]().then((function(t){return t.default?i(t.default):i(t)})).catch((function(t){u(t)}))}))}}}},61952:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(4074));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.Collection.extend({model:d.default,getFeaturesJson:function getFeaturesJson(){var t={};return this.each((function(i){t[i.get("feature_id")]=i.getFeatureJsonForClient()})),t}})},18417:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=(_interopRequireDefault(u(73781)),_interopRequireDefault(u(4309)));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.Collection.extend({EVENT:{MODIFIED:d.default.prototype.EVENT.MODIFIED},model:d.default,jsonAttribute:void 0,groupId:void 0,viewClass:void 0,initialize:function initialize(t,i){this.jsonAttribute=i.jsonAttribute,this.groupId=i.groupId,this.viewClass=i.viewClass,this.id=this.jsonAttribute+"-"+this.groupId},areAllQuestionsAttempted:function areAllQuestionsAttempted(){return this.all((function(t){return t.isAttempted()}))}})},99907:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(4309)),h=_interopRequireDefault(u(32460)),g=_interopRequireDefault(u(74691));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.Collection.extend({model:p.default,RESPONSE_ID_MAX_CHAR:100,EVENT:{MODIFIED:p.default.prototype.EVENT.MODIFIED},getModelsValidState:function getModelsValidState(){var t=[];return this.each((function(i){i.validState.valid||(t=t.concat(i.validState.errors))})),{valid:0===t.length,errors:t}},getInvalidQuestionResponses:function getInvalidQuestionResponses(){return this.filter((function(t){return!t.hasAllowedResponse()}))},getResponseIds:function getResponseIds(t){var i=this,u=[];return d.default.each(t,(function(t){u.push(i.get(t).get("response_id"))})),u},getAttemptedResponseIds:function getAttemptedResponseIds(){var t=[];return this.each((function(i){i.isAttempted()&&t.push(i.get("response_id"))})),t},getValidResponseIds:function getValidResponseIds(t){var i=this,getValidResponseIds=function getValidResponseIds(){var t=[];return i.each((function(i){d.default.isFunction(i.isResponseValid)&&i.isResponseValid()&&t.push(i.get("response_id"))})),t};return t?this.executeScorings().then((function(){return t(getValidResponseIds())})):getValidResponseIds()},getValidResponses:function getValidResponses(t){var i=this,getValidResponses=function getValidResponses(){var t={};return i.each((function(i){d.default.isFunction(i.canValidateResponse)&&i.canValidateResponse()&&i.hasResponse()&&(t[i.get("response_id")]=i.isResponseValid())})),t};return t?this.executeScorings().then((function(){return t(getValidResponses())})):getValidResponses()},getValidResponsesDetailed:function getValidResponsesDetailed(t){var i=this,getValidResponsesDetailed=function getValidResponsesDetailed(){var t={};return i.each((function(i){d.default.isFunction(i.canValidateResponse)&&i.canValidateResponse()&&i.hasResponse()&&(t[i.get("response_id")]=i.getResponseValidDetailed())})),t};return t?this.executeScorings().then((function(){return t(getValidResponsesDetailed())})):getValidResponsesDetailed()},getToBeCapturedQuestionResponseJson:function getToBeCapturedQuestionResponseJson(){var t=[];return this.each((function(i){i.isCaptured()||i.has("error")||t.push(i.getJsonToCapture())})),t},getToBeSavedQuestionResponseJson:function getToBeSavedQuestionResponseJson(){var t=[];return this.each((function(i){i.toBeSaved()&&!i.has("error")&&t.push(i.getJsonToSave())})),t},getQuestionResponseIdsForReScore:function getQuestionResponseIdsForReScore(){var t=[];return this.each((function(i){i.toBeSaved()||i.has("error")||t.push(i.get("id"))})),t},getResponsesForClient:function getResponsesForClient(){var t={};return this.each((function(i){i.hasResponse()&&(t[i.get("response_id")]=i.getResponseJsonForClient())})),t},getQuestionsJson:function getQuestionsJson(){var t={};return this.each((function(i){t[i.get("response_id")]=i.getQuestionJsonForClient()})),t},getQuestionsMetadata:function getQuestionsMetadata(){var t={};return this.each((function(i){var u=i.getMetadataForClient();u&&(t[i.get("response_id")]=u)})),t},executeScorings:function executeScorings(){return Promise.all(this.map((function(t){return d.default.isFunction(t.executeScoring)?t.executeScoring():Promise.resolve()})))},getScores:function getScores(t){var i=this,getScores=function getScores(){var t={};return i.each((function(i){var u=d.default.isFunction(i.getScore)?i.getScore():null;d.default.isEmpty(u)||(t[i.get("response_id")]=u)})),t};if(!t)return getScores();this.executeScorings().then((function(){return t(getScores())}))},getGroupScore:function getGroupScore(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,getGroupScore=function getGroupScore(){d.default.isString(i.type)||(i.type="per-question");var u=[];if(d.default.each(i.response_ids,(function(t){var i=d.default.first(this.where({response_id:t}));i?u.push(d.default.isFunction(i.getScore)?i.getScore():null):g.default.log("Response ID not found: "+t)}),t),!d.default.isArray(i.response_ids)||u.length!==i.response_ids.length)return!1;try{var l=new h.default({type:i.type,questions:u});return{type:i.type,score:l.score(),max_score:l.maxScore(),question_scores:u}}catch(t){return g.default.log("Group scoring error: "+t),!1}};if(!u)return getGroupScore();this.executeScorings().then((function(){return u(getGroupScore())}))},getQuestionResponsesModificationTimes:function getQuestionResponsesModificationTimes(){var t={};return this.each((function(i){t[i.id]=i.getLastModifiedTime()})),t},areThereQuestionsModified:function areThereQuestionsModified(){return this.any((function(t){return t.isModified()}))},areThereQuestionsAnswered:function areThereQuestionsAnswered(){return this.any((function(t){return!d.default.isUndefined(t.getResponseValue())}))},areAllQuestionsSaved:function areAllQuestionsSaved(){return this.every((function(t){return t.isSaved()}))},markAsSavedIfModified:function markAsSavedIfModified(t,i){d.default.each(t,(function(t){var u=this.get(t);u.getLastModifiedTime()===i[u.id]&&u.setAsSaved()}),this)},markAsCaptured:function markAsCaptured(t){d.default.each(t,(function(t){this.get(t).setAsCaptured()}),this)}})},79128:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(41507)),p=_interopRequireDefault(u(61289)),h=u(22614);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var g=[];d.default&&!0!==d.default.deferXhrInit&&p.default.init({baseUrl:d.default.apiHost,iframeBaseUrl:d.default.apiHost}).catch((function(){}));i.default={ACTION:{GET:"get",SET:"set",UPDATE:"update",DELETE:"delete"},setMetricsContext:function setMetricsContext(t){g=t},request:function request(t){var i,u={action:t.action||this.ACTION.GET,security:t.security},d=(i=t.url,t.analytics&&t.analytics.sessionId&&(i+=t.url.indexOf("?")>0?"":"?",i+="&a=".concat(u.action),i+="&c=".concat(u.security.consumer_key),i+="&s=".concat(t.analytics.sessionId),t.analytics.authTimestamp&&(i+="&t=".concat(t.analytics.authTimestamp)),l.default.isBoolean(t.analytics.submit)&&(i+="&st=".concat(t.analytics.submit?"submit":"save"))),i),v=0;t.data&&(u.usrequest=t.data),l.default.isArray(g)&&(u.usrequest=u.usrequest||{},u.usrequest.metricsContext=g),function sendRequest(){p.default.request({url:d,method:"POST",data:u,success:function success(){t.success.apply(null,arguments)},error:function error(i){v++,function isRetryableError(t){return t&&t.status>=0&&t.status<100}(i)&&v<=3?l.default.delay(sendRequest,500*v):!0!==(0,h.isUnloadInProgress)()&&t.failure.apply(null,arguments)}})}()}}},41507:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(16104));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p=l.default.extend({},LearnosityApp._internal.config);p.domain=d.default.isChromeApp?function getChromeAppManifestDomain(){return(l.default.isFunction(chrome.runtime.getManifest)?chrome.runtime.getManifest():{}).domain||window.location.hostname}():window.location.hostname;i.default=p},37306:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FONTSIZE_MAP=i.FONTSIZE=void 0;i.FONTSIZE={SMALL:"small",NORMAL:"normal",LARGE:"large",XLARGE:"xlarge",XXLARGE:"xxlarge"},i.FONTSIZE_MAP={small:11,normal:14,large:17,xlarge:20,xxlarge:24}},52619:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.resetStateSelector=i.RESET_STATE=void 0;i.RESET_STATE={RESET:"reset",ATTEMPTED_AFTER_RESET:"attemptedAfterReset"},i.resetStateSelector=function resetStateSelector(t){return t.base.resetState}},74691:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=u(80098);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var h,g={10001:{code:10001,msg:"Failed validating activity / format error",errorUI:"global"},10002:{code:10002,msg:"Response id conflict",errorUI:"global"},10003:{code:10003,msg:"Failed authentication",errorUI:"global"},10004:{code:10004,msg:"Save responses failed"},10005:{code:10005,msg:"Response not found",errorUI:"question"},10006:{code:10006,msg:"Audio save to server failed",errorUI:"button"},10007:{code:10007,msg:"Authorisation failed",errorUI:"question"},10008:{code:10008,msg:"Audio asset failed to load"},10009:{code:10009,msg:"Audio asset temporarily not available"},10010:{code:10010,msg:"Audio asset expired",errorUI:"question"},10011:{code:10011,msg:"Your device does not support audio-capture functionality"},10012:{code:10012,msg:"No microphone found"},10013:{code:10013,msg:"Unable to save, question validation failed"},10014:{code:10014,msg:"Audio asset format not supported"},10015:{code:10015,msg:"Browser not supported",errorUI:"global"},10016:{code:10016,msg:"Failed capturing questions",errorUI:"global"},10017:{code:10017,msg:"Failed loading Questions API, can't load required modules due to network error"},10017.1:{code:10017.1,msg:"Failed loading Questions API, can't load required modules due to file exception"},10018:{code:10018,msg:"Browser running in an unsupported compatibility view",errorUI:"global"},10019:{code:10019,msg:"Failed validating math"},10020:{code:10020,msg:"Failed validating appended elements"},10021:{code:10021,msg:"Discard responses failed"},10022:{code:10022,msg:"Audio playback failed"},10023:{code:10023,msg:"Unable to render latex"},10024:{code:10024,msg:"Failed loading external resource"},10025:{code:10025,msg:"Failed resuming activity, network connectivity error"},10026:{code:10026,msg:"Cannot set response metadata on empty response"},10027:{code:10027,msg:"Failed pushing offline data to server"},10028:{code:10028,msg:"Called needsPushing with incorrect parameters"},10029:{code:10029,msg:"Asset could not be uploaded"},10030:{code:10030,msg:"Widget instance can not be updated"},10031:{code:10031,msg:"Public method called with invalid arguments"},10032:{code:10032,msg:"Public method was called on an app stub that was initialized without an activity object"}};function log(){console.error.apply?console.error.apply(console,arguments):l.default.each(arguments,(function(t){console.error(t)}))}i.default={setErrorListener:function setErrorListener(t){h=t},exception:function exception(t,i){var u=l.default.extend({},g[t.code],t),v=u.i18n,y=v?v.labels:{};switch(delete u.i18n,LearnosityApp.errors=LearnosityApp.errors||[],LearnosityApp.errors.push(u),log("".concat(u.code,": ").concat(u.msg," ").concat(u.detail?"(Detail: "+u.detail+").":"."," View this error on LearnosityApp.errors[").concat(LearnosityApp.errors.length-1,"]")),u.errorUI){case"button":default:break;case"question":(0,d.default)("#"+u.response_id).removeClass("lrn_qr").addClass("learnosity-error").html(y.uierrorfeedback);break;case"global":var S=10015===u.code?y.unsupportedBrowser:10018===u.code?y.unsupportedCompatibilityMode:y.uierrorfeedback;(0,d.default)(".learnosity-response, .lrn_qr").removeClass("lrn_qr").addClass("learnosity-error").html(S)}setTimeout((function(){(0,p.triggerEvent)({app:window.LearnosityApp._internal.config.appContext,name:"error",error:u})}),3e3),i?i(u):h?l.default.defer((function(){l.default.isFunction(h)&&h(l.default.clone(u))})):alert(u.msg+"\n\nPlease contact your administrator if you require further assistance.")},reset:function reset(){LearnosityApp.errors=[],h=null},log:log,warning:function warning(){l.default.isFunction(console.warn)&&console.warn.apply(console,arguments)}}},60415:function(t){"use strict";t.exports={addData:"Add Data",audioplaybackerror:"Unable to play audio asset. Click to try again in a moment.",audioPlayer:"Audio Player",audioRecorder:"Audio Recorder",audioretrievalretry:"Trying to retrieve audio",audioPlayRecording:"Play",audioStopPlayback:"Stop playback",audioPausePlayback:"Pause",audioContinuePlayback:"Continue",audioStopRecording:"Stop recording",audioStartRecording:"Start recording",audioPauseRecording:"Pause",audioContinueRecording:"Continue recording",audioAdjustVolume:"Adjust Volume",audioSoundWaves:"Sound waves",simpleChartNoData:"No Data Available. Please add a new bar.",simpleChartNewBarDefaultName:"New Bar",calculator:"Calculator",calculatorControls:"Calculator controls",cancel:"Cancel",characterMapCharacters:["¡","¿","Ç","Ñ","ç","ñ","ß","ý","ÿ","á","â","ã","ä","å","æ","À","Á","Â","Ã","Ä","Å","Æ","à","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ò","Ó","Ô","Õ","Ö","Ø","Œ","ð","ò","ó","ô","õ","ö","œ","Ù","Ú","Û","Ü","ù","ú","û","ü"],characterMapIcon:"á",characterMapMathCharacters:["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","⁺","⁻","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","₊","₋","½","⅓","⅔","¼","¾","⅕","⅖","⅗","⅘","⅙","⅚","√","∞","≤","≥","±","μ","σ","∫","Δ","∪","∩","≡","Σ","°"],characterMapMathIcon:"Σ",characterMapTitle:"Special Characters",characterMathMapTitle:"Math Characters",checkAnswer:"Check Answer",checkAnswers:"Check Answers",clear:"Clear",clickToRecord:"Click on record to start",clickToStartPlayback:"Click on play to start playback",closeThisWindow:"Close this window",color:"color",colorPicker:"Color Picker",confirmrecordoverwrite:"A previous audio recording exists. If you continue it will be replaced.",confirmVideoOverwrite:"A previous video recording exists. If you continue it will be replaced.",continuelabel:"Continue",copy:"Copy",correctAnswer:"Correct answer",correctAnswers:"Correct answers",counterTemplate:"Beginning in {num} seconds...",cut:"Cut",distractorRationale:{incorrectTitle:"Incorrect",correctTitle:"Correct"},downloadAudio:"Download",downloadVideo:"Download video file",draggableItem:"Movable item",editorBoldIcon:"B",editorBoldTitle:"Bold",editorBulletdListTitle:"Bulleted list",editorItalicsIcon:"I",editorItalicsTitle:"Italics",editorNumberedListTitle:"Numbered list",editorRemoveFormatTitle:"Clear formatting",editorSubscriptTitle:"Subscript",editorSuperscriptTitle:"Superscript",editorUnderlineIcon:"U",editorUnderlineTitle:"Underline",error:"Error",fileUpload:{deleteFileMode:"Delete File Mode",fileDescriptionMode:"File Description Mode",fileLimit:"File Limit",characterLimit:"character limit",characterLimitReachedAriaLabel:"{{maxCharacters}} character limit has been reached.",fileFormatsSupported:"Supported file formats",fileDescriptionLabel:"Press {{icon}} to enter descriptions for the uploaded files ({{maxCharacters}} characters max).",fileDescriptionAriaLabel:"Tap to enter descriptions for the uploaded files ({{maxCharacters}} characters max).",fileDeleteDisclaimer:"File deletion cannot be undone. Any supporting descriptions will be lost.",notification:{couldNotUpload:"could not be uploaded. Please try again.",invalidFileType:"has an invalid file type. Allowed file extensions are:",maxFilesReached:"The maximum number of files have been selected.",tooLarge:"is too large. Please select files less than",tooManyFilesSelected:"Too many files selected, the maximum allowed is",alreadySelected:" has already been selected."},uploadFiles:"Upload files",uploadFailed:"upload failed",photoCapture:{launch:"Capture photo",accessToCamera:{title:"Waiting for camera access",description:"Before capturing, we will ask for access to the camera.",denied:"No camera found. Please check your browser settings or refresh the page to try again."},countdownCapturingIn:"Capturing in...",chooseName:"Name your photo",defaultFileName:"photo",confirmDelete:"Delete current image?",capture:"Capture",retake:"Retake",accept:"Accept",save:"Save",cancel:"Cancel",delete:"Delete",close:"Close"}},graphingTools:{move:"Move",point:"Point",line:"Line",ray:"Ray",segment:"Segment",vector:"Vector",circle:"Circle",parabola:"Parabola",sine:"Sine",polygon:"Polygon",delete:"Delete",label:"Label"},graphPlotter:{instructions1:"Use left and right arrows to navigate the toolbar. Space or Enter to select the tool.",instructions2:"Use Tab and Shift+Tab to navigate between the toolbar and graph plane.",instructions3:"Use arrow keys to navigate around the graph plane.",instructions4:"Use Space or Enter to execute the selected action.",instructionsButton:"Keyboard Instructions"},imageUpload:{deleteMode:"Delete Mode",addAnnotation:"Add Annotation",rotateImage:"Rotate Image",configureImage:"Configure Image",uploadNewImage:"Upload a new image",replaceImage:"Replace current image",uploadImage:"Upload an image",enterAnnotation:"Enter an annotation",noResponse:"No content entered",removeAllAnnotations:"Remove all annotations when uploading the image"},imageTool:"Image Tool",imageValidationArea:"Image validation area",incorrectAnswer:"Incorrect answer",incorrectAnswers:"Incorrect answers",itemPositionTemplate:"Item {num} of {length}",lineChartNewPointDefaultName:"New Point",lineReader:"Line Reader",lineReaderDragHandler:"Move line reader. Select to move line reader around screen",lineReaderClose:"Close Line Reader",lineReaderResizeMask:"Resize line reader. Select to resize line reader window and mask.",lineReaderResizeWindow:"Resize line reader window. Select to resize line reader window.",lineReaderDescription:"Show or hide the Line Reader, a visual assistive tool for showing one line of text and masking surrounding text.",lineReaderDragHandlerGrabbed:"Line reader grabbed. Use arrow keys to move around the screen. Enter key to drop, Escape key to cancel",lineReaderResizeWindowGrabbed:"Resize line reader window grabbed. Use up and down arrow keys to resize window vertically. Enter key to drop, Escape key to cancel",lineReaderResizeMaskGrabbed:"Resize line reader grabbed. Use left and right arrow keys to resize window horizontally and use up and down arrow keys to resize mask vertically. Enter key to drop, Escape key to cancel",lineReaderDragHandlerDropped:"Line reader dropped",lineReaderResizeWindowDropped:"Line reader resized",lineReaderResizeMaskDropped:"Line reader resized",listen:"Listen",loading:"Loading",loadingInfo:"<div class='lrn_spinner'><div class='lrn_bounce1'></div><div class='lrn_bounce2'></div><div class='lrn_bounce3'></div></div>",longTextV2:{invalidExternalImageWarning:"Invalid pasted image. Images can be inserted using the uploader in the toolbar.",invalidExternalMathWarning:"[Invalid pasted math]"},next:"Next",previous:"Previous",maxPlayAttempts:"You reached the playback limit",maxRecordAttempts:"You used all your recording attempts",maxResponseMessage:"Only 1 answer is allowed.",maxResponsesMessage:"Only {{maxSelection}} answers are allowed.",microphoneDeviceMissing:"Microphone device missing error.",microphoneDeviceNoAuth:"Microphone not authorised",minResponseMessage:"This question requires at least 1 answer.",minResponsesMessage:"This question requires at least {{minSelection}} answers.",noAudio:"No audio to playback",noCorrectAnswersSet:"No correct answers set",ok:"OK",onbeforeunload:"You have unsaved responses. If you continue you will lose these responses.",orderListChangeTemplate:"Item {start} moved to position {end}.",paste:"Paste",pause:"Pause",play:"Play",silenceDetected:"Recording stopped due to silence detected",paginationCountOf:"of",playback:"Playback",playbackPaused:"Playback paused",playbackUnavailable:"Playback unavailable",playconversation:"Play Conversation",playConversationTitle:"Playing Question ",playPrevious:"Play previous",playNext:"Play next",playing:"Playing",progress:"Progress",ratingInfoIcon:"i",ready:"Ready",record:"Record",camera:"Camera",flip:"Flip",recordAudioStatusLine:"Click to change microphone access settings.",recordAudioStatusTitle:"Audio Status",recordAuthRememberTitle:"Microphone permission",recordAuthRememberHtml:"Select <strong>remember</strong> before clicking <strong>allow</strong>. This will allow you to record audio and stop this pop-up box being shown again.",recordAuthRememberTroubleLink:'Having trouble? <a target="_blank" href="https://www.learnosity.com/guide/audioTroubleshooting.php">Click here</a>.',recordChromeAuthTitle:"Additional browser permissions",recordChromeAuth1st:"Click <strong>allow</strong> above, in the top right of your browser window:",recordChromeAuth1stB:"Click the <strong>allow</strong> button to enable microphone permissions.",recordChromeAuth2nd:"<strong>Close</strong> this window",recordChromeAuthTroubleLink:"If the button is not displayed, refer to <a target='_blank' href='https://www.learnosity.com/guide/audioTroubleshooting.php'>this guide</a>.",recordMobileTroubleLink:"If you're using a mobile device, refer to <a target='_blank' href='https://www.learnosity.com/guide/audioTroubleshooting.php'>this guide</a>.",recording:"Recording",recordingComplete:"Recording complete",recordingCounterPreload:"Recording starts in ...",recordingPaused:"Recording paused",recordingTooLong:"Recording too long. The maximum recording length is {maxLength} seconds.",recordingUnavailable:"Recording unavailable",recordSwfErrorLine1:"We've been unable to access flash. Please ensure a blocker",recordSwfErrorLine2:"is not enabled and that you have the latest version of flash.",redo:"Redo",replay:"Replay",reset:"Reset",resume:"Resume",delete:"Delete",givenResponses:"Given responses",response:"Response",responseArea:"Response input area",responseAreaDescription:"Enter key to drop response here.",retry:"Retry",rightClickAudioDownload:"Click to save audio file.",saveButtonLabel:"Save Answers",saveComplete:"Saved",saveInProgress:"Saving...",seekTo:"Skip to",showAllResponses:"Show all responses",source:"Source",stimulus:"Stimulus",stop:"Stop",stopconversation:"Stop Conversation",submitButtonLabel:"Submit Answers",submitComplete:"Submitted",submitInProgress:"Submitting...",tapToStartPlayback:"Tap to start playback",target:"Target",uierrorfeedback:"A problem occurred. Please try again later. If the problem persists contact your administrator.",unableToPlayAsset:"Unable to play, asset not available.",unavailable:"Unavailable",undo:"Undo",unsupportedBrowser:"Sorry, this item cannot be displayed because your browser is not supported.",unsupportedCompatibilityMode:"Sorry, this item cannot be displayed because your browser is in an unsupported compatibility view.",videoplayerTextAlternativeCaption:"Captions",videoOptimizing:"Optimizing your video",videoOptimizingSubheader:"You can continue authoring during this process.",videoNotReady:"Video playback is not yet ready",videoNotReadySubheader:"Save your work and refresh your browser, or come back later.",videoPlaybackError:"Playback error",videoFormatUnsupported:"Your browser does not support this video format.",videoBrightcoveEmbeddedDataRequired:"Brightcove Embedded Data is required!",video:{recordingInstructionsBefore:"Before recording, access to the camera and microphone may be requested.",recordingInstructionsAgain:'Then select the "Take Video" option',recordingInstructionsCameraStart:"Press the camera button to start",recordingInstructionsStart:"Press record to start",timeWarningLimit:"limit is almost up!",maxDuration:"Maximum duration",startingCamera:"Starting your camera..."},volume:"volume",word:"Word(s)",wordLength:"Word Limit",characterLimitExceeded:"{{num}} characters over",fontSizeTitle:"Font Size",fontSize:{small:"Small",normal:"Normal",large:"Large",xlarge:"Extra large",xxlarge:"Huge"},editor:{toolbar:{bold:"Bold",italic:"Italic",underline:"Underline",removeFormat:"Clear formatting",codeInline:"Code Inline",codeEditor:"Code Editor",orderedList:"Numbered list",unorderedList:"Bullet list",alignLeft:"Align left",alignCenter:"Align center",alignRight:"Align right",alignJustify:"Align justify",indentIncrease:"Increase indent",indentDecrease:"Decrease indent",insertHorizontalRule:"Insert horizontal rule",subscript:"Subscript",superscript:"Superscript",textDirectionLtr:"Text direction left to right",textDirectionRtl:"Text direction right to left",charactermap:"Character map",specialCharacterMap:"Special characters",mathCharacterMap:"Math characters",table:"Table",image:"Image (12 image limit)",blockquote:"Block quote",undo:"Undo",redo:"Redo",editImage:"Edit image",previewImage:"View image",deleteImage:"Delete image",selectFontSize:"Select text size. {{title}} selected.",selectColor:"Select color"},modals:{tableTitle:"Table",editTableTitle:"Edit table",apply:"Apply",upload:"Upload",cancel:"Cancel",close:"Close",columns:"Columns",rows:"Rows",insertColumnBefore:"Insert before",insertColumnAfter:"Insert after",insertRowAbove:"Insert above",insertRowBelow:"Insert below",deleteTable:"Delete table",deleteColumn:"Delete column",deleteRow:"Delete row",imageTitle:"Image",uploadText:"Click to add image",imageReplace:"Replace",imageRotate:"Rotate",imagePreviewText:"Image size: {{width}}px × {{height}}px",imageSize:{title:"Image display size",small:"Small - {{width}} × {{height}}",medium:"Medium - {{width}} × {{height}}",large:"Large - {{width}} × {{height}}",fullSize:"Full size - {{width}} × {{height}}"},zoomIn:"Zoom in",zoomOut:"Zoom out",openImageURL:"Open in a new tab"},messages:{failedLoadingImage:"Error processing image. Try again or contact your system administrator.",imageHasBeenOptimized:"Image has been optimized for size."},inputAriaLabel:"Enter your response to the question here",editTable:"Edit table"},drawing:{toolbar:{straightedge:"Line",scribble:"Scribble",compass:"Compass",text:"Text",eraser:"Eraser",clear:"Clear",undo:"Undo",redo:"Redo"},textEditor:{placeholder:"Enter text here...",addTextButton:"Add Text"}},mathKeyboardSymbols:{empty:"",x:"x",y:"y",z:"z",a:"a",b:"b",c:"c",d:"d",f:"f",abc:"abc",prime:"Prime/Arcminute",doubleprime:"Double Prime/Arcsecond",dollars:"Dollars",cents:"Cents",plus:"Plus",minus:"Minus",times:"Multiply",div:"Divide",pm:"Plus or minus",equals:"Equals",greater:"Greater than",less:"Less than",ge:"Greater than or equal to",le:"Less than or equal to",geqq:"Greater than or equal to",leqq:"Less than or equal to",ne:"Not equal to",approx:"Approximately equal to",perp:"Perpendicular to",nsim:"Not similar to",ncong:"Not congruent to",circ:"Composition",propto:"Proportional to",mid:"Vertical line",ngtr:"Not greater than",nless:"Not less than",parentheses:"Group in parentheses",brackets:"Group in brackets",curlybraces:"Group in curly braces",leftbraces:"Group in odd braces",rightbraces:"Group in odd braces",leftbracket:"Left square bracket",rightbracket:"Right square bracket",angledbracket:"Grouped in angled brackets",exponent:"Exponent",square:"Square",subscript:"Subscript",frac:"Fraction using previous expression as numerator",fraction:"Fraction",ratio:"Ratio",percentage:"Percentage",questionmark:"Question mark",abs:"Absolute value",sqrt:"Square root",cube:"Cube root",nthroot:"Nth root",int:"Integral",doubleint:"Double Integral",tripleint:"Triple Integral",binomCoefficient:"Binomial Coefficient",sum:"Summation",because:"Because",nabla:"Nabla",isimpliedby:"Is implied by",muchlesserthan:"Much lesser than",muchgreaterthan:"Much greater than",standardbasisK:"Standard basis K",standardbasisJ:"Standard basis J",standardbasisI:"Standard basis I",partial:"Partial Derivative",limit:"Limit x to",vector:"Vector",mathbb:"Real number set",mathbbq:"Q",mathbbn:"N",mathbbz:"Z",mathbbi:"I",mathbbc:"C",imaginary:"Imaginary Number",euler:"Euler Number",alpha:"Alpha",beta:"Beta",gamma:"Gamma",delta:"Delta",epsilon:"Epsilon",zeta:"Zeta",eta:"Eta",theta:"Theta",iota:"Iota",kappa:"Kappa",lambda:"Lambda",mu:"Mu",nu:"Nu",xi:"Xi",omicron:"Omicron",pi:"Pi",rho:"Rho",sigma:"Sigma",tau:"Tau",upsilon:"Upsilon",phi:"Phi",chi:"Chi",psi:"Psi",omega:"Omega",ALPHA:"Alpha (uppercase)",BETA:"Beta (uppercase)",GAMMA:"Gamma (uppercase)",DELTA:"Delta (uppercase)",EPSILON:"Epsilon (uppercase)",ZETA:"Zeta (uppercase)",ETA:"Eta (uppercase)",THETA:"Theta (uppercase)",IOTA:"Iota (uppercase)",KAPPA:"Kappa (uppercase)",LAMBDA:"Lambda (uppercase)",MU:"Mu (uppercase)",NU:"Nu (uppercase)",XI:"Xi (uppercase)",OMICRON:"Omicron (uppercase)",PI:"Pi (uppercase)",RHO:"Rho (uppercase)",SIGMA:"Sigma (uppercase)",TAU:"Tau (uppercase)",UPI:"Upsilon (uppercase)",PHI:"Phi (uppercase)",CHI:"Chi (uppercase)",PSI:"Psi (uppercase)",OMEGA:"Omega (uppercase)",sin:"Sine",cos:"Cosine",tan:"Tangent",arcsin:"Inverse sine",arccos:"Inverse cosine",arctan:"Inverse tangent",cap:"Intersection",union:"Union",in:"Member of",notin:"Not member of",ni:"Contains",subseteq:"Subset",supseteq:"Superset",subset:"Subset (strict)",supset:"Superset (strict)",notsubset:"Not subset (strict)",notsupset:"Not superset (strict)",notsubseteq:"Not subset",notsupseteq:"Not superset",notni:"Does not contain",backslash:"Backslash",slash:"Forward slash",factorial:"Factorial",angle:"Angle",measuredangle:"Measure of angle",parallel:"Parallel to",nparallel:"Not parallel to",sim:"Similar to",cong:"Congruent to",degree:"Degree symbol",triangle:"Triangle",circledot:"Circle",parallelogram:"Parallelogram",overarc:"Arc",leftarrow:"Leftwards arrow",rightarrow:"Rightwards arrow",leftrightarrow:"Left/right arrow",longleftrightarrow:"Long left/right arrow",rightdoublearrow:"Implies equivalence",leftrightdoublearrow:"Material equivalence",overrightarrow:"Ray",overleftarrow:"Left ray",overleftrightarrow:"Line",overline:"Line segment",dot:"Recurring Decimal",longdiv:"Long division",overset:"Oxidation",therefore:"Therefore",infty:"Infinity",matrix:"Matrix",pmatrix:"Matrix bounded by parentheses",bmatrix:"2 x 2 Matrix bounded by brackets",threebmatrix:"3 x 3 Matrix bounded by brackets",inequalities:"System of equations/inequalities",singlebmatrix:"Single Matrix bounded by brackets",Bmatrix:"Matrix bounded by braces",vmatrix:"Matrix bounded by vertical lines",Vmatrix:"Matrix bounded by double vertical lines",ldots:"Horizontal dots (baseline)",cdots:"Horizontal dots (centered)",ddots:"Diagonal dots",vdots:"Vertical dots",cdot:"Dot multiplier",cdotp:"Center dot (punctuation)",response:"Editable {{response}} area",addmatrixcol:"Insert column",addmatrixrow:"Insert row",gram:"Gram",cg:"Centigram",kg:"Kilogram",mg:"Milligram",ng:"Nanogram",meter:"Meter",cm:"Centimeter",km:"Kilometer",mm:"Millimeter",nm:"Nanometer",second:"Second",cs:"Centisecond",ks:"Kilosecond",ms:"Millisecond",ns:"Nanosecond",liter:"Liter",ml:"Millitliter",ug:"Microgram",inch:"Inch",ft:"Foot",mi:"Mile",fl:"Fluid Ounce",cup:"Cup",pt:"Pint",qt:"Quart",gal:"Gallon",oz:"Ounce",lb:"Pound",mug:"Microgram",mus:"Microsecond",mum:"Micrometer",mul:"Microlitre",mol:"Mole",atomic:"Atomic symbol",polyatomic:"Polyatomic ion",superscript:"Superscript",molar:"Molar mass",rightleftharpoons:"Right / left harpoons",leftrightharpoons:"Left / right harpoons",singlebond:"Single bond",doublebond:"Double bond",triplebond:"Triple bond",threedotbond:"Three dot bond",fourdotbond:"Four dot bond",rightarrowbond:"Right arrow bond",leftarrowbond:"Left arrow bond",xrightarrow:"Arrow with superscript and subscript",lfloor:"Left floor",rfloor:"Right floor",lceil:"Left ceiling",rceil:"Right ceiling",uparrow:"Up arrow",downarrow:"Down arrow",equiv:"Equivalence",and:"And",not:"Not",or:"Or",exist:"Exist",exists:"Exists",forall:"Forall",oplus:"Circled plus",zero:"Zero",one:"One",two:"Two",three:"Three",four:"Four",five:"Five",six:"Six",seven:"Seven",eight:"Eight",nine:"Nine",divide:"Divided by",multiply:"Multiplied by",decimal:"Decimal",comma:"Comma",left:"Move cursor left",right:"Move cursor right",backspace:"Backspace",responseContainerIcon:"Response Container"},mathKeyboardHelp:{title:"Keyboard Shortcuts",columnTitles:{symbol:"Symbol",name:"Name",shortcut:"Shortcut"},shortcuts:"You can always use ctrl + \\ (backslash) to reopen the Math Keyboard.",disclaimer:"Keyboard shortcut combinations may differ from one region to another. These were created using an English: United States keyboard.",close:"Close"},mathKeyboardTitle:{qwerty:"Keyboard",basic:"Basic",basic_junior:"Basic Junior",basic_author:"Basic",algebra:"Algebra",comparison:"Comparison",geometry:"Geometry",matrices:"Matrices",trigonometry:"Trigonometry",sets:"Sets",units_si:"Units (SI)",units_us:"Units (US Customary)",greek:"Greek letters",chemistry:"Chemistry",chemistry_author:"Chemistry",grouping:"Grouping Symbols",calculus:"Calculus",misc:"Miscellaneous",discrete:"Discrete",general:"General"},mathImageCapture:{capture:"Capture",captureImageToConvert:"Capture image to convert",waitingForCameraAccess:"Waiting for camera access",waitingForCameraAccessExplanation:"Before capturing, we will ask for access to the camera",mirrorImage:"Mirror image",convertedAnswerFromImage:"Converted answer from image",retake:"Retake",accept:"Accept",cancel:"Cancel",unableToConvertImage:"Unable to convert image",unableToConvertImageAdviceGeneric:"Check image quality or your Internet connection and try capturing again",unableToConvertImageNoLatex:"Check your image only contains math and try capturing again",cameraAccessDenied:"Camera access denied or not available.",errorAccessingCamera:"Error accessing camera:",imageCapturedAlt:"image captured from webcam"},ariaLabel:{stemEnumerationItem:"Item {{index}}",classification:{cell:"Drop response in row {{row}} of column {{column}}",instructions:"Put responses in the correct input to answer the question. Select a response, navigate to the desired input and insert the response. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can also be moved by dragging with a mouse."},bowtie:{cell:'Response area, "{{column}}"',instructions:"Put responses in the correct input to answer the question. Select a response, navigate to the desired input and insert the response. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can also be moved by dragging with a mouse."},association:{dropzoneAriaLabel:"{{responseArea}}, {{dropzoneNumber}} out of {{totalDropzones}}. Connected to {{dropzoneLabel}}.",responseArea:"Response input area",draggableItemContainer:"Container for movable item",draggableItem:"Movable item. {{item}}",instructions:"Put responses in the correct response input area to answer the question. Select a response, navigate to the desired input area and insert the response. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can also be moved by dragging with a mouse."},audioAdv:{transcriptContent:"Transcript: {{transcript}}"},clozeAssociation:{dropzoneAriaLabel:"{{responseArea}}, {{dropzoneNumber}} out of {{totalDropzones}}.",dropzone:"Response input area",instructions:"Put responses in the correct response input area to answer the question. Select a response, navigate to the desired input area and insert the response. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can also be moved by dragging with a mouse."},drawing:{highlight:"To highlight the image, hold space and use your arrow keys.",keyboardPaintable:"Use the arrow keys to move the cursor and hold down the space or enter key to draw.",textEditorMove:"Use the arrow keys to move the text editor."},orderList:{instructions:"Arrange responses in the correct order to answer the question. Select a response, navigate to the desired position and insert response at that position. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can be moved using the up and down arrow keys or by dragging with a mouse."},longTextV2:{toolbar:"Text controls"},mathKeyboard:{title:"Formula keypad",help:"Formula keypad help",close:"Close Formula keypad",symbolGroupRole:"Dropdown",selectSymbolGroup:"Select the symbol group to use",currentSymbolGroup:"The current symbol groups is {{title}}. You can use this dropdown to select a new symbol group or continue to navigate the keyboard using arrow keys"},fileUpload:{title:"File upload question type"},graphPlotting:{title:"Graph Plotting Question",keyboardInstructionsButton:"Keyboard Instructions, press enter or space to display instructions on how to navigate the graph.",keyboardInstructionsCloseButton:"Keyboard instructions, close button",graph:"You have entered the graph.",toolbar:"You are in a toolbar, press tab to enter it and then use the arrows to move around the tools.",point:"Point with coordinates {{point}}",circle:"Circle with origin on {{origin}} and passing through {{point}}",segment:"Segment from {{startPoint}} to {{endPoint}}",vector:"Vector from {{startPoint}} to {{endPoint}}",line:"Line passing through {{pointA}} and {{pointB}}",sine:"Sine passing through {{pointA}} and {{pointB}}",ray:"Ray starting on {{pointA}} passing through {{pointB}}",parabola:"Parabola with vertex on {{vertex}} and passing through {{point}}",polygon:"Polygon with coordinates: {{points}}",labelled:"labelled: {{label}}",axisHeading:"Initial graph state",horizontalAxisInfo:"The horizontal axis goes from {{min}} to {{max}} with ticks spaced every {{step}} unit(s).",verticalAxisInfo:"The vertical axis goes from {{min}} to {{max}} with ticks spaced every {{step}} unit(s).",questionResponseShapesHeading:"Created graph shapes"},griddedText:{decimalPointInput:"Enter a decimal point",rangeInput:"enter a value between {{range1}} and {{range2}} .",disclaimer:"Enter either plus or minus for positive or negative value",decimal:"decimal point"},imageUpload:{title:"Image upload question type",toolbar:"Image upload toolbar"},numberLinePlot:{title:"Number Line Plot question",point:"Point",cross:"Cross",segment:"Segment",segmentOpenOnLeft:"Segment open on left",segmentOpenOnRight:"Segment open on right",segmentOpenOnBottom:"Segment open on bottom",segmentOpenOnTop:"Segment open on top",openSegment:"Open segment",leftwardRay:"Leftward ray",rightwardRay:"Rightward ray",leftwardOpenRay:"Leftward open ray",rightwardOpenRay:"Rightward open ray",downwardRay:"Downward ray",upwardRay:"Upward ray",downwardOpenRay:"Downward open ray",upwardOpenRay:"Upward open ray",delete:"Delete",correctAnswers:"Correct answers:",infinity:"infinity",negativeInfinity:"negative infinity",screenReader:{overallDescriptionSingular:"Numberline plot from {{firstPosition}} to {{lastPosition}} with {{responseCount}} response.",overallDescriptionPlural:"Numberline plot from {{firstPosition}} to {{lastPosition}} with {{responseCount}} responses.",numberlineDescriptionSingular:"Numberline from {{firstPosition}} to {{lastPosition}} with {{responseCount}} response.",numberlineDescriptionPlural:"Numberline from {{firstPosition}} to {{lastPosition}} with {{responseCount}} responses.",numberlineInstructionElementToolActive:"Press Enter or Space key to plot {{tool}} element.",numberlineInstructionRemoveToolActive:"Press Tab key to focus sequentially through responses, and then Enter or Space key to remove them.",numberlineInstructionNoToolActive:"Press Enter or Space key to move. Press Tab key to focus sequentially through responses.",reachedMaximumResponses:"You have reached the maximum responses allowed. You can delete previous responses to make adjustments.",toolDescription:"Select to plot {{tool}} on the line.",toolSelectedDescription:"{{tool}} is selected.",toolUnselectedDescription:"{{tool}} is unselected.",deleteToolDescription:"Press enter or space to activate, and then select a response to remove.",elementFocusedDeleteModeNotice:"Press enter or space to remove.",plottingInstructions:"Use arrow keys to move, Press Enter or Space key to plot {{tool}}, Escape key to cancel.",afterPlotMessageDefault:"{{tool}} plotted on the line, at position {{firstPosition}}.",afterPlotMessageSegment:"{{tool}} plotted on the line, from position {{firstPosition}} to position {{lastPosition}}.",elementResponsePoint:"{{validationAriaLabel}} Response, {{type}}, at {{firstPosition}}.",elementResponsePointShort:"{{validationAriaLabel}} {{type}} at {{firstPosition}}.",elementResponseRayOrSegment:"{{validationAriaLabel}} Response, {{type}}, from {{firstPosition}} to {{lastPosition}}, whole segment is focused.",elementResponseRayOrSegmentShort:"{{validationAriaLabel}} {{type}} from {{firstPosition}} to {{lastPosition}}.",elementResponseSegmentPoint:"{{validationAriaLabel}} Response, {{type}}, from {{firstPosition}} to {{lastPosition}}, point {{focusedPosition}} is focused.",elementActivated:"grabbed, Use arrow keys to move {{focusedElement}}, Press Enter or Space key to plot, Escape key to cancel.",elementDeactivated:"{{focusedElement}} plotted.",elementRemoved:"{{focusedElement}} removed.",pointMoved:"The element in position {{oldPosition}} has been moved to position {{newPosition}}.",segmentMoved:"The segment in from {{oldLeftPosition}}, {{oldRightPosition}} has been moved to {{newLeftPosition}}, {{newRightPosition}}.",newPointerPositionLabel:"The pointer is in position {{screenReaderPointerPos}}.",correctResponse:"Response correct.",incorrectResponse:"Response incorrect.",expected:"Expected",correct:"Correct",incorrect:"Incorrect"}},multiStepMath:{lineResponseAreaLabel:"Step {{stepNumber}}, response area",createANewLine:"Create a new line",newLine:"New line",screenReader:{lineValidatedCorrectAndComplete:"Step {{stepNumber}} validated as correct and complete",lineValidatedCorrect:"Step {{stepNumber}} validated as correct",lineValidatedIncorrect:"Step {{stepNumber}} validated as incorrect",stepThatIsIncorrect:"Step {{stepNumber}} of {{stepCount}} incorrect.",finalStepIncomplete:"Final step is incomplete."}},plainText:{answer:"Answer for {{stimulus}}"},popUp:{popUpScreenReaderHeading:"Pop-up content",popUpButton:{title:"Click to view pop-up content"},popUpClose:{title:"Click to close pop-up content",description:"Click to close pop-up content"}},simpleChart:{title:"Simple Chart question"},simpleShading:{title:"Simple Shading Question - Press tab to enter question",cell:"Cell: row {{row}}, column {{column}}"},sortList:{instructions:"To answer, arrange responses in the correct order. Select a response, navigate to the desired position and insert response at that position. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can also be moved by dragging or by using the up and down arrow keys.",draggableItemContainer:"Container for movable item",draggableItem:"Movable item. {{item}}",direction:{toSource:"Move selected option to highest {{source}} position",toTarget:"Move selected option to highest {{target}} position",moveUpInTarget:"Move selected option up one position",moveDownInTarget:"Move selected option down one position"}},textHighlight:{title:"Text Highlight question"},calculator:{instructions:"To use calculator navigate to its toolbar with tab and then use left, right, up and down arrows to navigate inside it.",calculatorHeading:"Calculator",closeButton:"Close calculator",moveButton:"Move calculator",moveInstructions:"Select to move button with arrow keys",moveDropped:"Calculator dropped",moveGrabbed:"Calculator grabbed. Use arrow keys to move around the screen, press enter when finished.",inputLabel:"Calculator",toggleUnit:"Angle unit is {{currentUnit}}, click to change to {{newUnit}}",clearEntireInput:"C (Clear the entire input)",clearLastSymbol:"CE (Clear the last symbol entered)",percent:"Percent",squareRoot:"Square root",division:"Division",multiplication:"Multiplication",subtraction:"Subtraction",decimalPoint:"Decimal point",evaluate:"Equals",addition:"Addition",memoryClear:"MC (Memory Clear)",recallValue:"MR (Recall the value from the calculator's memory)",addToMemory:"M+ (Add the current value to memory)",substractFromMemory:"M- (Subtract the current value from the value in memory)",pi:"Pi",plusOrMinus:"Plus or Minus",leftParenthesis:"Left parenthesis",rightParenthesis:"Right parenthesis",showAdvanced:"Show advanced trigonometric functions",reciprocal:"Reciprocal (1 over x)",exponent:"Exponent (x to the y)",square:"Square (x squared)",naturalLogarithm:"Natural logarithm (logn)",cubicRoot:"Cubic root",nthRoot:"Nth root",eulersNumber:"e (Euler's number)",sine:"Sine",inverseSine:"Inverse sine",cosine:"Cosine",inverseCosine:"Inverse cosine",tangent:"Tangent",inverseTangent:"Inverse Tangent",permutations:"nPr (Permutations)",combinations:"nCr (Combinations)",hyperbolicSine:"Hyperbolic sine",hyperbolicInverseSine:"Hyperbolic inverse sine",hyperbolicCosine:"Hyperbolic cosine",hyperbolicInverseCosine:"Hyperbolic inverse cosine",hyperbolicTangent:"Hyperbolic tangent",hyperbolicInverseTangent:"Hyperbolic inverse tangent",factorial:"Factorial",randomNumber:"Random number"},compass:{moveCenter:"Use the arrow keys to move the compass center",adjustRadius:"Use the arrow keys to adjust radius size",rotateRadius:"Use the arrow keys to rotate the radius arm",draw:"Hold down the space bar and use the arrow keys to draw"},distractorRationale:{distractorRationale:"distractor rationale",perQuestion:"distractor rationale per question",perResponseIncorrect:"distractor rationale per response incorrect",perResponseCorrect:"distractor rationale per response correct"},imagecloze:{text:"Add your responses in the text fields to answer the question. Navigate to the desired text input and type in your response.",dropdown:"Select responses from the drop down fields to answer the question. Navigate to the desired drop down and select your response.",dropdownSelectionOption:"Please select an option - "},imageclozeassociationV2:{dropZonesContainer:"Response input area"},mcq:{responses:"Responses"},dragDrop:{overlayNotificationlabel:"Expand response area.",dropzoneNameLabel:"{{dropzoneLabel}} {{dropzoneNumber}} out of {{totalDropzones}}.",overlayNotificationDescription:"Enter key to see list of responses, for response input area {{dropzoneNumber}} out of {{totalDropzones}}.",responseDescription:"Select to move response to a response input area.",possibleResponses:"Possible responses",instructions:"Put responses in the correct response input area to answer the question. Select a response, navigate to the desired input area and insert the response. Responses can be selected and inserted using the space bar, enter key, left mouse button or touchpad. Responses can also be moved by dragging with a mouse.",responseZone:"Select a response to begin moving the response to the desired drop area or drop your response here to return it to the possible responses pool."},clozeDropdown:{selectOption:"Please select an option - "}},ariaLiveText:{correctResponse:"response - correct",incorrectResponse:"response - incorrect",numberOfCorrectAnswers:"{{number}} correct answers: ",oneCorrectAnswer:"correct answer: ",numberOfIncorrectAnswers:"{{number}} incorrect answers: ",oneIncorrectAnswer:"incorrect answer: ",numberOfExpectedAnswers:"{{number}} expected answers: ",oneExpectedAnswer:"expected answer: ",correct:"{{prefix}}correct",incorrect:"{{prefix}}incorrect",selected:"selected",missed:"{{prefix}}not selected, this is the correct answer",noResponseGiven:"{{prefix}}no response given",minResponseMessage:"{{prefix}} this question requires at least 1 answer",minResponsesMessage:"{{prefix}} this question requires at least {{minSelection}} answers",maxResponseMessage:"{{prefix}} only 1 answer is allowed",maxResponsesMessage:"{{prefix}} only {{maxSelection}} answers are allowed",choiceMatrix:{correctResponse:"Correct response",incorrectResponse:"Incorrect response",expectedResponse:"Expected response",group:"Group: {{group}} - ",noResponse:"no response given. "},classification:{row:"Row {{number}}",col:"Column {{number}}",correct:"correct",incorrect:"incorrect"},graphPlotting:{positionUpdated:"x {{x}}, y {{y}}, is your current position",movingPoint:"You are moving the point at x={{x}}, y={{y}}",pointMoved:"The point {{point}} has been moved to x={{x}}, y={{y}}",plotted:"You have plotted {{shape}}",removed:"You have removed {{shape}}",reset:"The graph has been reset"},imageclozeassociationV2:{correctAnswer:"correct answer",incorrectAnswer:"incorrect answer",expectedAnswer:"expected answer",dropTarget:"Drop target: {{target}}. "},orderList:{itemValidity:"Item {{index}}: {{response}} - {{validity}}. ",correctAnswer:"Correct answer for item {{index}}: {{text}}. "},tokenHighlight:{highlighted:"Highlighted: {{content}}",notHighlighted:"Not highlighted: {{content}}",correctAnswers:"correct answers: {{answers}} ",incorrectAnswers:"incorrect answers: {{answers}} ",expectedAnswers:"expected answers: {{answers}} ",explanation:"To interact with this question use tab to move through the text tokens. Use space or enter to select or deselect the relevant tokens"},clozeAssociation:{activatedResponse:"{{response}} selected. Use tab or arrow keys to drop response to a response input area. Enter key to drop, Escape key to cancel selection.",activatedResponseInDropzone:"{{response}} selected. Use tab or arrow keys to drop response to another response input area or back to possible responses pool. Enter key to drop, Escape key to cancel selection.",deactivatedResponse:"{{response}} has been deselected.",deactivatedResponseInDropzone:"{{response}} has been deselected.",droppedResponseInDropzone:'The option "{{response}}" ({{responseNumber}} of {{totalResponses}}) has been inserted in position {{dropzoneNumber}} of {{totalDropzones}}.',droppedResponseBackInList:'The option "{{response}}" ({{responseNumber}} of {{totalResponses}}) has been inserted back into the option list.'},association:{activatedResponse:"{{response}} selected. Use tab or arrow keys to drop response to a response input area. Enter key to drop, Escape key to cancel selection.",activatedResponseInDropzone:"{{response}} selected. Use tab or arrow keys to drop response to another response input area or back to possible responses pool. Enter key to drop, Escape key to cancel selection.",deactivatedResponse:"{{response}} has been deselected.",deactivatedResponseInDropzone:"{{response}} has been deselected.",droppedResponseInDropzone:'The option "{{response}}" ({{responseNumber}} of {{totalResponses}}) has been inserted in position {{dropzoneNumber}} of {{totalDropzones}}.',droppedResponseBackInList:'The option "{{response}}" ({{responseNumber}} of {{totalResponses}}) has been inserted back into the option list.'},mathKeyboard:{mathKeyboardOpened:"Formula keypad has been opened. Press TAB to use it and then navigate using the arrows.",mathKeyboardClosed:"Formula keypad has been closed. Press Control + Backslash to open it again."},bowtie:{activatedResponse:'The option "{{response}}" has been selected. Press tab or shift tab to choose a response area, and spacebar to insert it. Press escape to cancel.',droppedResponse:'The option "{{response}}" has been inserted in {{responseAreaLabel}}.'}},ariaRoleDescription:{clozeAssociation:{dropzone:"Enter key to drop response here.",dropzoneWithResponse:"Currently contains {{response}}.",dropzoneReadOnly:"Empty response in position {{dropzoneNumber}} of {{totalDropzones}}.",dropzoneReadOnlyWithResponse:'Option "{{response}}" ({{responseNumber}} of {{totalResponses}}) in position {{dropzoneNumber}} of {{totalDropzones}}.'},association:{dropzone:"Enter key to drop response here.",dropzoneWithResponse:"Currently contains {{response}}.",dropzoneReadOnly:'Empty response in "{{dropzoneLabel}}".',dropzoneReadOnlyWithResponse:'Option "{{response}}" in "{{dropzoneLabel}}".'},bowtie:{dropzone:"Insert option in position {{dropzonePosition}} of {{totalDropzones}}",dropzoneWithResponse:'Insert option in position {{dropzonePosition}} of {{totalDropzones}}, which currently contains the option "{{response}}'}},masking:{ariaLabelMask:"Mask",ariaLabelUnmask:"Unmask"}}},66314:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=_interopRequireDefault(u(42165)),h=_interopRequireDefault(u(60415));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var g=["recordAuthRememberHtml","recordAuthRememberTroubleLink"];function sanitise(t){l.default.each(t,(function(i,u){l.default.isString(i)||l.default.isNumber(i)?l.default.contains(g,u)?t[u]=p.default.sanitizeHTML(i):t[u]=l.default.escape((0,d.default)("<div>").append(i).text()):(d.default.isPlainObject(i)||l.default.isArray(i))&&sanitise(i)}))}i.default=function exportLabels(t){sanitise(t=t||{}),this.labels=l.default.deepExtend({},h.default,t),this.sameLabels=function(t){return l.default.isEqual(this.labels,t)}}},41939:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(52959));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=d.default.extend({initialize:function initialize(){d.default.prototype.initialize.call(this),this.responsesToSet={},this.has("responses")&&(this.responsesToSet=this.get("responses"))},validateActivity:function validateActivity(){if(d.default.prototype.validateActivity.call(this),this.has("responses")&&this.get("state")!==this.STATE.RESUME&&this.get("state")!==this.STATE.REVIEW)throw new this.ValidationError('"responses" attribute can only be provided if "type" is "'+this.STATE.RESUME+'" or "'+this.STATE.REVIEW+'"');if(this.has("responses")&&!this.get("hasQuestions"))throw new this.ValidationError('"responses" attribute can only be provided if "questions" are provided');l.default.each(this.get("responses"),(function(t,i){var u=l.default.find(this.get("questions"),(function(t){return i===t.response_id}));if(l.default.isUndefined(u))throw new this.ValidationError('The response object provided for "response_id": '+i+" has no matching question object")}),this)},hasToLoadResponsesIntoQuestionResponses:function hasToLoadResponsesIntoQuestionResponses(){return(this.get("state")===this.STATE.RESUME||this.get("state")===this.STATE.REVIEW)&&!l.default.isEmpty(this.responsesToSet)},loadResponsesIntoQuestionResponses:function loadResponsesIntoQuestionResponses(t){l.default.isEmpty(this.responsesToSet)||l.default.each(this.responsesToSet,(function(t,i){this.get("questionResponses").find((function(t){return i===t.get("response_id")})).update({response:t}),delete this.responsesToSet[i]}),this),t()},append:function append(t){t&&l.default.isObject(t.responses)&&l.default.extend(this.responsesToSet,t.responses),d.default.prototype.append.call(this,t)},captureQuestionResponses:function captureQuestionResponses(){throw new Error("captureQuestionResponses function not supported for Local Practice activities")},save:function save(){throw new Error("save function not supported for Local Practice activities")},discard:function discard(){throw new Error("discard function not supported for Local Practice activities")}})},91923:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=_interopRequireDefault(u(52959)),h=_interopRequireDefault(u(4309)),g=_interopRequireDefault(u(86542)),v=_interopRequireDefault(u(74691)),y=_interopRequireDefault(u(69952)),S=_interopRequireDefault(u(70034));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=p.default.extend({initialize:function initialize(){p.default.prototype.initialize.call(this),this.saving=!1,this.cachedSaveCallArguments=null,this.retrievedQuestionResponsesCache={}},validateActivity:function validateActivity(){p.default.prototype.validateActivity.call(this);try{g.default.init()}catch(t){throw new this.ValidationError("initialising an offline_app type but indexed db is not supported in this browser")}if(this.has("session_id")&&!y.default.check.test(this.get("session_id").toLowerCase()))throw new this.ValidationError('"session_id" attribute is not a valid UUID');if(this.get("renderSubmitButton")&&0===(0,d.default)(".learnosity-submit-button").length)throw new this.ValidationError('"renderSubmitButton" attribute is true, but no DOM element was found to render');if(this.get("renderSaveButton")&&0===(0,d.default)(".learnosity-save-button").length)throw new this.ValidationError('"renderSaveButton" attribute is true, but no DOM element was found to render');if(this.has("responses"))throw new this.ValidationError('"responses" attribute found in Activity, but not supported for type: '+this.get("type"))},initialiseQuestionResponses:function initialiseQuestionResponses(t,i){if(this.get("state")===this.STATE.RESUME||this.get("state")===this.STATE.REVIEW){var u=this,d=l.default.map(t,(function(t){return h.default.prototype.getIdForResponseId(t.response_id,this.get("user_id"),this.get("consumer").get("id"))}),this);g.default.getQuestionResponses(d).then((function(p){return l.default.each(p,(function(t){u.retrievedQuestionResponsesCache[t.id]=t})),!u.has("session_id")&&p.length>0&&l.default.isString(p[0].session_id)&&u.set({session_id:p[0].session_id},{silent:!0}),l.default.map(d,(function(d,h){var g=t[h],v=l.default.findWhere(p,{id:d}),y=1===l.default.keys(g).length;return v?(y||"raw"!==u.get("questionSource"))&&(g=v.question):i||u.get("captureOnResumeError")&&!y||(g.error=10005),g}))}),(function(i){return u.get("captureOnResumeError")||l.default.each(t,(function(t){t.error=10005})),v.default.log(i),t})).then((function(t){p.default.prototype.initialiseQuestionResponses.call(u,t,i)}))}else p.default.prototype.initialiseQuestionResponses.call(this,t,i)},hasToLoadResponsesIntoQuestionResponses:function hasToLoadResponsesIntoQuestionResponses(){return this.get("state")===this.STATE.RESUME||this.get("state")===this.STATE.REVIEW},loadResponsesIntoQuestionResponses:function loadResponsesIntoQuestionResponses(t){l.default.each(this.retrievedQuestionResponsesCache,(function(t){if(l.default.isObject(t)){var i=this.get("questionResponses").get(t.id);this.retrievedQuestionResponsesCache[t.id]=!0,i.update({creation_date:t.creation_date,response:t.response,saved:!0})}}),this),t()},save:function save(t){if(this.saving)this.cacheSaveCall(Array.prototype.slice.call(arguments));else{this.saving=!0,this.trigger(this.EVENT.SAVE);var i,u=this.get("questionResponses").getInvalidQuestionResponses();if(u.length>0)return this.saving=!1,void this.saveFailedInvalidQuestions(t,u);var l=this.get("questionResponses").getQuestionResponsesModificationTimes(),d=this;t.submit&&!this.has("session_id")?(this.set({session_id:y.default.v4()},{silent:!0}),i=this.get("questionResponses").models):i=this.get("questionResponses").filter((function(t){return t.toBeSaved()})),g.default.saveQuestionResponses(i,this.get("session_id"),this.get("consumer").get("key")).then((function(){return d.saveSession(t,d.get("questionResponses").pluck("id"))})).then((function(){d.saving=!1,d.saveComplete(t,i,l)}),(function(i){d.saving=!1,d.saveFailed(t,i)})).then((function(){d.callCachedSaveCall()})),t.submit&&this.get("validateOnSubmit")&&this.validateQuestionsResponses()}},saveSession:function saveSession(t,i){if(t&&t.progress&&t.progress({state:"saving",percentage:90,bytesTotal:0,bytesUploaded:0}),!this.has("session_id")||!this.get("consumer").get("dashboardEnabled"))return S.default.resolve();if(!l.default.isString(this.get("id"))||this.get("id").length>36)return S.default.reject('must initialise with an "id" attribute that doesn\'t exceed 36 characters in length');if(!l.default.isString(this.get("name")))return S.default.reject('must initialise with a "name" attribute');if(this.has("description")&&(!l.default.isString(this.get("description"))||this.get("description").length>800))return S.default.reject('initialised with a "description" attribute that is not a valid string of less than 801 characters');var u={session_id:this.get("session_id"),user_id:this.get("user_id"),activity_id:this.get("id"),activity_name:this.get("name"),course_id:this.get("course_id"),consumer_key:this.get("consumer").get("key"),questions:i};return t.submit&&(u.submit=!0),this.has("description")&&(u.activity_description=this.get("description")),this.has("product_id")&&(u.product_id=this.get("product_id")),l.default.isObject(this.get("metadata"))||l.default.isObject(t.metadata)?u.metadata=l.default.extend({},this.get("metadata"),t.metadata):u.metadata={},u.metadata.user_agent=window.navigator.userAgent,g.default.saveSession(u)},saveComplete:function saveComplete(t,i,u){l.default.each(i,(function(t){t.getLastModifiedTime()===u[t.id]&&t.setAsSaved()})),t&&t.progress&&t.progress({state:"saving",percentage:100,bytesTotal:0,bytesUploaded:0}),t&&(t.submit?this.trigger(this.EVENT.SUBMITTED):this.trigger(this.EVENT.SAVED),t.success&&t.success(l.default.map(i,(function(t){return t.get("response_id")}))))},saveFailed:function saveFailed(t,i){var u={i18n:this.get("i18n")};l.default.isString(i)&&-1!==i.indexOf("ConstraintError")?(u.code=10002,u.detail="At least one of the response_id has been previously provided"):(u.code=10004,u.detail="Save responses failed"+(i?": "+i.toString():"")),v.default.exception(u,t?t.error:null)},saveFailedInvalidQuestions:function saveFailedInvalidQuestions(t,i){var u=[],d=[];l.default.each(i,(function(t){u.push('Question "'+t.get("response_id")+'" of type "'+t.get("type")+'" has an invalid response'),d.push(t.get("response_id"))})),v.default.exception({code:10013,detail:u.join(", "),response_id:d,i18n:this.get("i18n")},t?t.error:null)},discard:function discard(t){throw new Error('"discard" public method is not supported on type: offline_app')},callCachedSaveCall:function callCachedSaveCall(){if(l.default.isArray(this.cachedSaveCallArguments)){var t=this.cachedSaveCallArguments;this.clearCachedSaveCall(),this.save.apply(this,t)}},cacheSaveCall:function cacheSaveCall(t){this.cachedSaveCallArguments=t},clearCachedSaveCall:function clearCachedSaveCall(){this.cachedSaveCallArguments=null}})},8536:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=_interopRequireDefault(u(79128)),h=_interopRequireDefault(u(74691)),g=_interopRequireDefault(u(52959)),v=_interopRequireDefault(u(4309)),y=_interopRequireDefault(u(69952)),S=_interopRequireDefault(u(17160));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=g.default.extend({initialize:function initialize(){g.default.prototype.initialize.call(this),this.questionsBeingCaptured={},this.questionsToCaptureIfResumeFailed={},this.questionResponseIdsToFetch={},this.fetchedQuestionResponses={},this.saving=!1,this.cachedSaveCallArguments=null,this.on(this.EVENT.READY,(function(){this.get("state")!==this.STATE.INITIAL&&this.get("state")!==this.STATE.RESUME||this.captureQuestionResponses()}),this),this.has("consumer")&&this.get("consumer").has("syncMsgFrequencyOnSave")&&(this.throttlingSessionDataSync=!0,this.lastSessionDataSyncTimeMs=0)},validateActivity:function validateActivity(){if(g.default.prototype.validateActivity.call(this),this.get("consumer").get("dashboardEnabled")){if(!l.default.isString(this.get("id")))throw new this.ValidationError('Valid "id" attribute missing from Activity');if(this.get("id").length>36)throw new this.ValidationError('"id" attribute should not exceed 36 characters');if(this.get("user_id").length>50)throw new this.ValidationError('"user_id" attribute should not exceed 50 characters');if(!l.default.isString(this.get("name")))throw new this.ValidationError('Valid "name" attribute missing from Activity');if(!l.default.isString(this.get("course_id")))throw new this.ValidationError('Valid "course_id" attribute missing from Activity');if(this.has("description")&&(!l.default.isString(this.get("description"))||this.get("description").length>800))throw new this.ValidationError('Provided "description" attribute is not a valid string of less than 801 characters');if(this.has("session_id")&&!y.default.check.test(this.get("session_id").toLowerCase()))throw new this.ValidationError('"session_id" attribute is not a valid UUID')}if(this.get("renderSubmitButton")&&0===(0,d.default)(".learnosity-submit-button").length)throw new this.ValidationError('"renderSubmitButton" attribute is true, but no DOM element was found to render');if(this.get("renderSaveButton")&&0===(0,d.default)(".learnosity-save-button").length)throw new this.ValidationError('"renderSaveButton" attribute is true, but no DOM element was found to render');if(this.has("responses"))throw new this.ValidationError('"responses" attribute found in Activity, but not supported for type: '+this.get("type"))},initialiseQuestionResponses:function initialiseQuestionResponses(t,i){var u=this,d=this.makeQuestionResponseIds(l.default.pluck(t,"response_id")),p=this.haveToFetchQuestionResponses(),h=p&&("raw"!==this.get("questionSource")||l.default.some(t,(function(t){return 1===l.default.keys(t).length})));l.default.each(d,(function(t){p&&(u.questionResponseIdsToFetch[t]=!0),(i||p&&u.get("captureOnResumeError"))&&(u.questionsToCaptureIfResumeFailed[t]=!0)})),h?this.getQuestionResponses(d,(function(){var d=[];l.default.each(u.fetchedQuestionResponses,(function(i){if(l.default.isObject(i)){if(!i.hasOwnProperty("question")){var p=v.default.prototype.getResponseId(i.id,u.get("user_id"),u.get("consumer").get("id")),h=l.default.findWhere(t,{response_id:p});10005===i.error&&u.questionsToCaptureIfResumeFailed[i.id]&&l.default.isObject(h)&&l.default.keys(h).length>1?i.question=h:i.question={response_id:p,error:i.error}}d.push(i.question)}})),g.default.prototype.initialiseQuestionResponses.call(u,d,i)})):g.default.prototype.initialiseQuestionResponses.call(this,t,i)},makeQuestionResponseIds:function makeQuestionResponseIds(t){return l.default.map(t,(function(t){return v.default.prototype.getIdForResponseId(t,this.get("user_id"),this.get("consumer").get("id"))}),this)},hasToLoadResponsesIntoQuestionResponses:function hasToLoadResponsesIntoQuestionResponses(){return l.default.some(this.questionResponseIdsToFetch)&&this.haveToFetchQuestionResponses()},loadResponsesIntoQuestionResponses:function loadResponsesIntoQuestionResponses(t){var i=this.get("questionResponses").filter((function(t){return l.default.isUndefined(this.fetchedQuestionResponses[t.get("id")])}),this);if(i.length){var u=l.default.pluck(i,"id");this.getQuestionResponses(u,l.default.bind((function(){this.setResponsesFromQuestionResponsesCache(),t()}),this))}else this.setResponsesFromQuestionResponsesCache(),t()},haveToFetchQuestionResponses:function haveToFetchQuestionResponses(){return this.get("state")===this.STATE.RESUME||this.get("state")===this.STATE.REVIEW},setResponsesFromQuestionResponsesCache:function setResponsesFromQuestionResponsesCache(){l.default.each(this.fetchedQuestionResponses,(function(t){if(l.default.isObject(t)){var i=this.get("questionResponses").get(t.id);this.fetchedQuestionResponses[t.id]=!0,this.questionResponseIdsToFetch[t.id]=!1,i.has("question")&&(delete t.question,delete t.type),10005===t.error&&this.questionsToCaptureIfResumeFailed[t.id]&&i.has("question")&&delete t.error,i.update(t)}}),this)},isCapturingQuestions:function isCapturingQuestions(){return!l.default.isEmpty(this.questionsBeingCaptured)},allQuestionsCaptured:function allQuestionsCaptured(){return this.get("questionResponses").every((function(t){return t.isCaptured()}))},captureQuestionResponses:function captureQuestionResponses(){if(this.questionResponsesReady){var t=this.get("questionResponses").getToBeCapturedQuestionResponseJson();if(0!==(t=l.default.filter(t,(function(t){return!this.questionsBeingCaptured[t.id]}),this)).length){var i=this;l.default.each(t,(function(t){this.questionsBeingCaptured[t.id]=!0}),this);var u=function clearCapturingQuestions(){l.default.each(t,(function(t){delete i.questionsBeingCaptured[t.id]}))};p.default.request({url:"/questionresponses",action:p.default.ACTION.SET,security:this.get("security").getRequestParameters(),analytics:{sessionId:this.get("session_id"),authTimestamp:this.get("authTimestamp")},data:{questionResponses:t},success:function success(t){i.get("questionResponses").markAsCaptured(t.response.data),u(),i.callCachedSaveCall()},failure:function failure(t){var d,p;l.default.isArray(i.cachedSaveCallArguments)&&i.cachedSaveCallArguments.length>0&&l.default.isFunction(i.cachedSaveCallArguments[0].error)&&(p=i.cachedSaveCallArguments[0].error),u(),i.clearCachedSaveCall(),t&&409===t.status?d={code:10002,detail:"At least one of the response_id has been previously provided",i18n:i.get("i18n")}:(d={code:10016,detail:"There was an error trying to capture the questions",i18n:i.get("i18n")},t&&(d.detail+=": "+t.status+" - ",l.default.isObject(t.response)&&t.response.meta?d.detail+=t.response.meta.message:d.detail+=t.response),i.get("uiErrorOnCaptureFailure")||(d.errorUI="none")),h.default.exception(d,p)}})}}},getQuestionResponses:function getQuestionResponses(t,i){var u=this;l.default.each(t,(function(t){this.fetchedQuestionResponses[t]=!0}),this),p.default.request({url:"/questionresponses",action:p.default.ACTION.GET,security:this.get("security").getRequestParameters(),analytics:{sessionId:this.get("session_id"),authTimestamp:this.get("authTimestamp")},data:{questionResponseIds:t,questionSource:this.get("questionSource")},success:function success(t){l.default.each(t.response.data,(function(t){u.fetchedQuestionResponses[t.id]=t})),i()},failure:function failure(t){h.default.exception({code:10025,detail:"Status: "+t.status+(-1===t.status?", "+t.response:""),i18n:u.get("i18n")})}})},persistQuestionResponses:function persistQuestionResponses(t,i){var u=this,d={},g=function savedSuccessfully(l){var d=u.EVENT,p={state:"saving",percentage:100,bytesTotal:i.totalBytes,bytesUploaded:i.bytesUploaded};if(t&&t.progress&&t.progress(p),u.trigger(d.SAVE_PROGRESSING,p),t){var h=t.submit;h?u.trigger(d.SUBMITTED,{responseIds:l,submit:h}):u.trigger(d.SAVED,{responseIds:l,submit:h}),t.success&&t.success(l)}u.callCachedSaveCall()},v=this.shouldSendSessionDataToSync(t);if(v&&(d.submit=t.submit,d.state=this.get("state"),d.user_id=this.get("user_id"),d.activity_id=this.get("id"),d.activity_name=this.get("name"),this.has("description")&&(d.activity_description=this.get("description")),d.course_id=this.get("course_id"),this.has("product_id")&&(d.product_id=this.get("product_id")),this.has("session_id")&&(d.session_id=this.get("session_id")),l.default.isObject(this.get("metadata"))||l.default.isObject(t.metadata)?d.metadata=l.default.extend({},this.get("metadata"),t.metadata):d.metadata={},d.metadata.user_agent=window.navigator.userAgent,d.init_metadata=this.get("initMetadata")),d.questionResponses=this.get("questionResponses").getToBeSavedQuestionResponseJson(),d.submit&&(d.questionResponseIdsForReScore=this.get("questionResponses").getQuestionResponseIdsForReScore()),d.questionResponses.length>0||v){var y=this.get("questionResponses").getQuestionResponsesModificationTimes();p.default.request({url:"/questionresponses",action:p.default.ACTION.UPDATE,security:this.get("security").getRequestParameters(),analytics:{sessionId:this.get("session_id"),authTimestamp:this.get("authTimestamp"),submit:t.submit},data:d,success:function success(t){var i=t.response.data;u.saving=!1,u.get("questionResponses").markAsSavedIfModified(i,y),v&&u.throttlingSessionDataSync&&(u.lastSessionDataSyncTimeMs=Date.now()),g(u.get("questionResponses").getResponseIds(i))},failure:function failure(i){u.saving=!1;var d=t?t.error:void 0,p={code:10004,detail:"Save responses failed",i18n:u.get("i18n")};i&&(p.detail+=": "+i.status,l.default.isObject(i.response)&&i.response.meta?p.detail+=" - "+i.response.meta.message:p.detail+=" - "+i.response),h.default.exception(p,d),u.callCachedSaveCall()}})}else u.saving=!1,g([])},shouldSendSessionDataToSync:function shouldSendSessionDataToSync(t){if(t.submit)return!0;if(this.has("session_id")){if(!this.throttlingSessionDataSync)return!0;if((Date.now()-this.lastSessionDataSyncTimeMs)/1e3>=this.get("consumer").get("syncMsgFrequencyOnSave"))return!0}return!1},checkSaveProgressThenPersistQuestionResponses:function checkSaveProgressThenPersistQuestionResponses(t){var i=this.EVENT.SAVE_PROGRESSING,u=!0,d=0,p=0;if(l.default.each(this.hooks.saveProgress,(function(t){if(l.default.isFunction(t)){var i=t();u=u&&i.uploadComplete,d+=i.bytesUploaded,p+=i.totalBytes}})),u){var h={state:"saving",percentage:90,bytesTotal:p,bytesUploaded:d};t.progress&&t.progress(h),this.trigger(i,h),this.persistQuestionResponses(t,{totalBytes:p,bytesUploaded:d})}else{var g=Math.round(d/p*85),v={state:p===d?"saving":"uploading",percentage:g,bytesTotal:p,bytesUploaded:d};t.progress&&t.progress(v),this.trigger(i,v),l.default.delay(l.default.bind(this.checkSaveProgressThenPersistQuestionResponses,this),500,t)}},save:function save(t){if(this.isCapturingQuestions()||this.saving)this.cacheSaveCall(Array.prototype.slice.call(arguments));else if(this.allQuestionsCaptured()){this.saving=!0,this.trigger(this.EVENT.SAVE,{submit:t.submit});var i=this.get("questionResponses").getInvalidQuestionResponses();if(i.length){this.saving=!1;var u=t?t.error:void 0,d=[],p=[];l.default.each(i,(function(t){d.push('Question "'+t.get("response_id")+'" of type "'+t.get("type")+'" has an invalid response'),p.push(t.get("response_id"))})),h.default.exception({code:10013,detail:d.join(", "),response_id:p},u)}else this.checkSaveProgressThenPersistQuestionResponses(t),t.submit&&this.get("validateOnSubmit")&&this.validateQuestionsResponses()}else this.cacheSaveCall(Array.prototype.slice.call(arguments)),this.captureQuestionResponses()},discard:function discard(t){var i=this;p.default.request({url:"/questionresponses",action:p.default.ACTION.DELETE,security:this.get("security").getRequestParameters(),analytics:{sessionId:this.get("session_id"),authTimestamp:this.get("authTimestamp")},data:{activity_id:this.get("id"),activity_name:this.get("name"),course_id:this.get("course_id"),session_id:this.get("session_id")},success:function success(u){l.default.isFunction(t.success)&&t.success(u),i.trigger(i.EVENT.DISCARDED)},failure:function failure(u){var d=t?t.error:void 0,p={code:10021,detail:"Discard responses failed",i18n:i.get("i18n")};u&&(p.detail+=": "+u.status,l.default.isObject(u.response)&&u.response.meta?p.detail+=" - "+u.response.meta.message:p.detail+=" - "+u.response),h.default.exception(p,d)}})},callCachedSaveCall:function callCachedSaveCall(){if(l.default.isArray(this.cachedSaveCallArguments)){var t=this.cachedSaveCallArguments;this.clearCachedSaveCall(),this.save.apply(this,t)}},cacheSaveCall:function cacheSaveCall(t){this.cachedSaveCallArguments=t},clearCachedSaveCall:function clearCachedSaveCall(){this.cachedSaveCallArguments=null},validateQuestionsJson:function validateQuestionsJson(t){var i=this.get("questionResponses").RESPONSE_ID_MAX_CHAR;g.default.prototype.validateQuestionsJson.call(this,t),t.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.response_id&&t.response_id.length>i)throw new S.default("At least one of the response_id is invalid")}))},sendFeatureMetrics:function sendFeatureMetrics(t){l.default.isArray(t)&&!l.default.isEmpty(t)&&p.default.request({url:"/features",action:p.default.ACTION.SET,security:this.get("security").getRequestParameters(),data:{features:t},success:function success(t){},failure:function failure(t){console.log("features process failed")}})}})},52959:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(34651)),h=_interopRequireDefault(u(41507)),g=_interopRequireDefault(u(74691)),v=_interopRequireDefault(u(76629)),y=_interopRequireDefault(u(99907)),S=_interopRequireDefault(u(4309)),w=_interopRequireDefault(u(61952)),E=_interopRequireDefault(u(4074)),R=_interopRequireDefault(u(18417)),A=_interopRequireDefault(u(42627)),T=_interopRequireDefault(u(42165)),x=_interopRequireDefault(u(69952)),C=_interopRequireDefault(u(17160)),M=u(72233);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.Model.extend({TYPE:{LOCAL_PRACTICE:"local_practice",OFFLINE_APP:"offline_app",SUBMIT_PRACTICE:"submit_practice",TEST:"test"},STATE:{INITIAL:"initial",RESUME:"resume",REVIEW:"review",PREVIEW:"preview"},EVENT:{READY:"ready",SAVE:"save",SAVE_PROGRESSING:"save:progressing",SAVED:"saved",SUBMITTED:"submitted",DISCARDED:"discarded"},ValidationError:C.default,defaults:{domain:h.default.domain,type:"local_practice",state:"initial",beta_flags:{}},initialize:function initialize(){var t={id:x.default.v4()};d.default.isNumber(this.get("initTime"))?(t.time=this.get("initTime"),t.deviceTime=!1):(t.time=Math.floor(Date.now()/1e3),t.deviceTime=!0),this.questionResponsesReady=!1,this.featuresReady=!1,this.set({initMetadata:t,questionResponses:new y.default([]),featureModels:new w.default([]),hasQuestions:d.default.isArray(this.get("questions"))&&this.get("questions").length>0,hasFeatures:d.default.isArray(this.get("features"))&&this.get("features").length>0},{silent:!0}),this.qrGroupFeatureViewsMap={validation_group:A.default},this.qrGroupFeatures=[],this.hooks={reset:[],unload:[],saveProgress:[]}},init:function init(){var t=this.get("hasQuestions"),i=this.get("hasFeatures");try{this.validateActivity(),t&&this.validateQuestionsJson(this.get("questions")),i&&this.validateFeaturesJson(this.get("features")),this.has("description")&&this.set({description:T.default.sanitizeHTML(this.get("description"))},{silent:!0}),t?(this.initialiseQuestionResponses(this.get("questions")),this.unset("questions",{silent:!0})):this.initialisationCompleted("questionResponses"),i?(this.intialiseFeatures(this.get("features")),this.unset("features",{silent:!0})):this.initialisationCompleted("features")}catch(t){if(!(t instanceof C.default))throw t;g.default.log({code:10001,detail:"Activity JSON Poorly formed. "+t})}},loadFeatureBundles:function loadFeatureBundles(t,i){var u=v.default.getBundleOptions(this.get("beta_flags"));return v.default.requireBundlesForFeatureTypes(t,i,u)},validateActivity:function validateActivity(){if(!d.default.include(this.TYPE,this.get("type")))throw new C.default('Invalid "type" attribute provided: '+this.get("type"));if(!d.default.include(this.STATE,this.get("state")))throw new C.default('Invalid "state" attribute provided: '+this.get("state"));var t=this.get("show_distractor_rationale");if(d.default.isObject(t)){var i=t.per_question,u=t.per_response;if(!d.default.isUndefined(i)&&!(0,M.isValidShowDistractorRationalePerQuestion)(i))throw new C.default('Invalid show_distractor_rationale.per_question value provided. Must be one of: "'+M.ALLOWED_PER_QUESTION_VALUES.join('", "')+'".');if(!d.default.isUndefined(u)&&!(0,M.isValidShowDistractorRationalePerResponse)(u))throw new C.default('Invalid show_distractor_rationale.per_response value provided. Must be one of: "'+M.ALLOWED_PER_RESPONSE_VALUES.join('", "')+'".')}else if(!d.default.isUndefined(t)&&!d.default.isBoolean(t))throw new C.default("Invalid show_distractor_rationale value provided. Must be a boolean or object.")},validateQuestionsJson:function validateQuestionsJson(t){for(var i=0;i<t.length;i++){var u=t[i]||{};if(!u.hasOwnProperty("response_id"))throw new C.default("The question object at index "+i+' is missing the "response_id" attribute');if(!S.default.prototype.VALID_RESPONSE_ID_RE.test(u.response_id))throw new C.default("The question object at index "+i+' has a "response_id" attribute with invalid characters: '+u.response_id);if(0===(0,p.default)(".learnosity-response.question-"+u.response_id).length)throw new C.default("The question object at index "+i+' with "response_id": '+u.response_id+" has no matching DOM element");if(d.default.keys(u).length>1){if(!u.hasOwnProperty("type")&&this.get("consumer").get("requireQuestionType"))throw new C.default("The question object at index "+i+' is missing the "type" attribute');if(u.hasOwnProperty("type")||(u.type=S.default.prototype.TYPE.AUDIOADV),!d.default.include(S.default.prototype.TYPE,u.type))throw new C.default("The question object at index "+i+' has an invalid "type" attribute: '+u.type)}else if(this.get("state")!==this.STATE.RESUME&&this.get("state")!==this.STATE.REVIEW)throw new C.default("The question object at index "+i+' has no attributes, but the activity "state" is not "resume" or "review"')}},validateFeaturesJson:function validateFeaturesJson(t){for(var i=0;i<t.length;i++){var u=t[i]||{};if(!u.hasOwnProperty("feature_id"))throw new C.default("The feature object at index "+i+' is missing the "feature_id" attribute');if(0===(0,p.default)(".learnosity-feature.feature-"+u.feature_id).length)throw new C.default("The feature object at index "+i+' with "feature_id": '+u.feature_id+" has no matching DOM element");if(!u.hasOwnProperty("type")||!d.default.include(E.default.prototype.TYPE,u.type))throw new C.default("The feature object at index "+i+' has an invalid "type" attribute: '+u.type)}},initialiseQuestionResponses:function initialiseQuestionResponses(t,i){var u=this,l=[],p=v.default.getBundleOptions(this.get("beta_flags"));d.default.each(t,(function(t){t.type===S.default.prototype.TYPE.UNKNOWN||d.default.include(l,t.type)||l.push(t.type)})),v.default.requireBundlesForQuestionTypes(l,(function processLoadedBundles(i){if(d.default.isEmpty(i))g.default.log("No bundles were loaded for the required Question types: "+l.join(", "));else{u.initQuestionResponseModels(i,t);var p=u.get("questionResponses").getModelsValidState();p.valid?(u.initQuestionGroupFeatures(i),u.hasToLoadResponsesIntoQuestionResponses()?u.loadResponsesIntoQuestionResponses(d.default.bind((function(){this.initialisationCompleted("questionResponses")}),u)):u.initialisationCompleted("questionResponses")):g.default.log({code:10001,detail:"Activity JSON Poorly formed. "+p.errors.join(" |\n")})}}),p)},initQuestionResponseModels:function initQuestionResponseModels(t,i){var u=this,l=[];d.default.each(i,(function(i){var p={id:S.default.prototype.getIdForResponseId(i.response_id,this.get("user_id"),this.get("consumer").get("id")),response_id:i.response_id,user_id:this.get("user_id")};i.error&&(p.error=i.error,i.type||(i.type=S.default.prototype.TYPE.UNKNOWN)),p.question=i,p.type=i.type;var h=t[i.type],v=new h.Model(p,{state:u.get("state"),type:u.get("type"),attribute_overrides:u.attributes.attribute_overrides});v.setApiVersion(this.get("apiVersion")),h.hasOwnProperty("View")?v.viewClass=h.View:d.default.isFunction(h.getViewFor)?v.viewClass=h.getViewFor(i):g.default.log("Bundle for question: "+i.type+" does not contain View attribute or getViewFor function"),v.setActivity(this),l.push(v)}),this),this.get("questionResponses").add(l)},initQuestionGroupFeatures:function initQuestionGroupFeatures(t){d.default.each(t,(function(t){t.hasOwnProperty("featureViewsMapEntry")&&(this.qrGroupFeatureViewsMap[t.featureViewsMapEntry.jsonAttribute]=t.featureViewsMapEntry.viewClass)}),this),this.get("questionResponses").each((function(t){var i=t.getGroupJsonAttributes();d.default.each(i,(function(i){var u=d.default.find(this.qrGroupFeatures,(function(t){return t.jsonAttribute===i.name&&t.groupId===i.value}));d.default.isUndefined(u)&&(u=new R.default(null,{jsonAttribute:i.name,groupId:i.value,viewClass:this.qrGroupFeatureViewsMap[i.name]}),this.qrGroupFeatures.push(u)),u.add(t)}),this)}),this)},hasToLoadResponsesIntoQuestionResponses:function hasToLoadResponsesIntoQuestionResponses(){return!1},loadResponsesIntoQuestionResponses:function loadResponsesIntoQuestionResponses(t){t()},intialiseFeatures:function intialiseFeatures(t){var i=[];d.default.each(t,(function(t){t.type===E.default.prototype.TYPE.UNKNOWN||d.default.include(i,t.type)||i.push(t.type)})),this.loadFeatureBundles(i,d.default.bind((function(u){if(d.default.isEmpty(u))g.default.log("No bundles were loaded for the required Feature types:"+i.join(", "));else{var l=[],p=this;d.default.each(t,(function(t){var i=d.default.first(p.get("featureModels").where({feature_id:t.feature_id}));if(i)i.trigger(i.EVENT.RE_INIT);else{var h=u[t.type],v=new h.Model(t);h.hasOwnProperty("View")?v.viewClass=h.View:d.default.isFunction(h.getViewFor)?v.viewClass=h.getViewFor(t):g.default.log("Bundle for feature: "+t.type+" does not contain View attribute or getViewFor function"),v.activity=p,l.push(v)}})),this.get("featureModels").add(l),this.initialisationCompleted("features"),"submit_practice"===this.get("type")&&this.sendFeatureMetrics(l)}}),this))},initialisationCompleted:function initialisationCompleted(t){if("questionResponses"===t){var i=this.get("questionResponses").models;this.questionResponsesReady=!0,i&&d.default.each(i,(function(t){return t.trigger(t.EVENT.READY)}))}else"features"===t&&(this.featuresReady=!0);this.questionResponsesReady&&this.featuresReady&&this.trigger(this.EVENT.READY)},append:function append(t){var i,u;try{if(!d.default.isObject(t))throw new C.default("First parameter must be an object");if(i=d.default.isArray(t.questions)&&t.questions.length>0,u=d.default.isArray(t.features)&&t.features.length>0,!i&&!u)throw new C.default("Either questions or features must be provided");i&&(this.validateQuestionsJson(t.questions),this.questionResponsesReady=!1),u&&(this.validateFeaturesJson(t.features),this.featuresReady=!1),i&&this.initialiseQuestionResponses(t.questions,!0),u&&this.intialiseFeatures(t.features)}catch(t){if(!(t instanceof C.default))throw t;g.default.log({code:10020,detail:t.message})}},showQuestionNumbers:function showQuestionNumbers(){return this.get("number_questions")&&this.get("questionResponses").length>1},captureQuestionResponses:function captureQuestionResponses(){},save:function save(t){},discard:function discard(t){},getAttemptedResponseIds:function getAttemptedResponseIds(){return this.get("questionResponses").getAttemptedResponseIds()},safeToUnload:function safeToUnload(){if(this.get("type")!==this.TYPE.LOCAL_PRACTICE){if(this.has("questionResponses")&&this.get("questionResponses").areThereQuestionsModified())return!1;var safeToUnload=!d.default.any(this.hooks.unload,(function(t){return!t()}));return safeToUnload&&!this.saving}return!0},validateQuestionsResponses:function validateQuestionsResponses(t){t=t||{},this.get("questionResponses").each((function(i){d.default.isFunction(i.callValidate)&&i.callValidate(t)}))},getValidResponseIds:function getValidResponseIds(){return this.get("questionResponses").getValidResponseIds()}})},68750:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.Model.extend({initialize:function initialize(){this.set({requireQuestionType:!d.default.contains(["0003","0005","0006","0007","0044","0045"],this.get("id"))})},hasPermissions:function hasPermissions(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this.get("featureFlags")||{},u=i.video_student,l=i.math_image_capture,p=!1;switch(t){case"fileupload_video":p=!!this.get("processVideo");break;case"video_student":p=d.default.isBoolean(u)&&u;break;case"math_image_capture":p=d.default.isBoolean(l)&&l}return p}})},4074:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(42165)),h=u(51273),g=_interopRequireDefault(u(72895));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}i.default=l.default.Model.extend({TYPE:h.FEATURE_TYPES,EVENT:{RE_INIT:"reinit"},FONTSIZE_PREFIX:"lrn_font_size_",FONTSIZE:{SMALL:"small",NORMAL:"normal",LARGE:"large",XLARGE:"xlarge",XXLARGE:"xxlarge"},assetSourceAttributes:[],richTextAttributes:[],initialize:function initialize(){this.sanitizeRichText(),this.appendMediaVaultTokens()},appendMediaVaultTokens:function appendMediaVaultTokens(){var t=this;[].concat(_toConsumableArray(this.assetSourceAttributes),_toConsumableArray(this.richTextAttributes)).forEach((function(i){d.default.deepSet(t.attributes,i,g.default.appendTokensToString)}))},sanitizeRichText:function sanitizeRichText(){var t=this;this.richTextAttributes.forEach((function(i){d.default.deepSet(t.attributes,i,(function(t){return p.default.sanitizeHTML(t)}))}))},getFontClass:function getFontClass(){var t="";return d.default.isUndefined(this.activity)||d.default.isUndefined(this.activity.get("fontsize"))||(t=this.FONTSIZE[this.activity.get("fontsize").toUpperCase()]||""),t&&(t=this.FONTSIZE_PREFIX+t),t},getFeatureJsonForClient:function getFeatureJsonForClient(){return d.default.deepClone(this.toJSON())}})},86542:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(79128)),p=_interopRequireDefault(u(67908)),h=_interopRequireDefault(u(70034));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var g="questionresponses",v="sessions";i.default={init:function init(){if(!this.storage)try{this.storage=new p.default({name:"LrnQuestionsApi",version:1,stores:[{name:g,optionalParameters:{keyPath:"id"},indices:[{name:"needs_pushing",keyPath:"needs_pushing"},{name:"session_id",keyPath:"session_id"}]},{name:v,optionalParameters:{keyPath:"session_id"},indices:[{name:"needs_pushing",keyPath:"needs_pushing"}]}]})}catch(t){this.initError=t}if(this.initError)throw this.initError;return this},formatQuestionResponses:function formatQuestionResponses(t,i){var u=l.default.filter(t,(function(t){return t.consumer_key===i.consumer_key&&t.user_id===i.user_id}));return{qrsData:l.default.map(u,(function(t){var i,u,d,p;if(t.pushed_once)i={id:t.id,response:t.response,pushed_once:t.pushed_once};else{var h=(i=t).question.metadata;h&&h.prepackaged_question&&delete i.question.metadata.prepackaged_question}return u=l.default.getNested(t.question.metadata,"offline.assets"),i.question&&u&&(delete i.question.metadata.offline,d=JSON.stringify(i.question),l.default.map(u,(function(t){return d=d.replace(new RegExp(t.replacement,"g"),t.url)})),i.question=JSON.parse(d)),i.response&&u&&(p=JSON.stringify(i.response),l.default.map(u,(function(t){return p=p.replace(new RegExp(t.replacement,"g"),t.url)})),i.response=JSON.parse(p)),i})),toBePushed:u,security:i}},getQuestionResponses:function getQuestionResponses(t){return this.storage?this.storage.getAll(g,t):h.default.reject(this.initError?this.initError:"Offline storage not initialised")},saveQuestionResponses:function saveQuestionResponses(t,i,u){if(!this.storage)return h.default.reject(this.initError?this.initError:"Offline storage not initialised");var d=this,p=[],v=[],y=[],S=(new Date).getTime(),w=this.getDateString();return l.default.each(t,(function(t,l){var d;t.isCaptured()?(d={id:t.get("id"),response:t.get("response"),mod_date:w,needs_pushing:"true"},i&&(d.session_id=i),y.push(d)):(d={id:t.get("id"),type:t.get("type"),response_id:t.get("response_id"),user_id:t.get("user_id"),question:t.get("question"),response:t.get("response"),creation_date:w,consumer_key:u,order:S+"_"+l,mod_date:w,needs_pushing:"true",pushed_once:!1},i&&(d.session_id=i),v.push(d),p.push(t))})),this.storage.addAll(g,v).then((function(){return l.default.each(p,(function(t){t.set({creation_date:w},{silent:!0}),t.setAsCaptured()})),d.storage.updateAll(g,y)}))},getSession:function getSession(t){var i=this;return this.validateStorage().then((function(){return i.storage.get(v,t)}))},saveSession:function saveSession(t){if(!this.storage)return h.default.reject(this.initError?this.initError:"Offline storage not initialised");var i=this;return this.storage.get(v,t.session_id).then((function(u){return u&&("true"===u.needs_pushing&&(t.questions=l.default.union(u.questions,t.questions)),t=l.default.deepExtend({},u,t)),t.mod_date=i.getDateString(),t.needs_pushing="true",i.storage.set(v,t)}))},submitQuestionResponses:function submitQuestionResponses(t){var i=t.qrsData,u=t.toBePushed,p=t.security,v=this;return 0===i.length?h.default.resolve():new h.default((function(t,u){d.default.request({url:"/push/questionresponses",action:d.default.ACTION.UPDATE,security:p,data:{questionResponses:i},success:function success(i){t()},failure:function failure(t){var i="Failed pushing sessions: "+(t.status>0?t.status+" - ":"");l.default.isObject(t.response)&&t.response.meta?i+=t.response.meta.message:i+=t.response,u(i)}})})).then((function(){var t=l.default.map(u,(function(t){return{id:t.id,mod_date:t.mod_date,needs_pushing:"false"}}));return v.storage.updateAll(g,t,null,"mod_date")})).then((function(){var t=[];if(l.default.each(u,(function(i){i.pushed_once||t.push({id:i.id,pushed_once:!0})})),t.length>0)return v.storage.updateAll(g,t)}))},needsPushing:function needsPushing(t){return h.default.all([this.storage.getAllByIndexWithValue(v,"needs_pushing","true"),this.storage.getAllByIndexWithValue(g,"needs_pushing","true")]).then((function(i){return{sessions:l.default.pluck(l.default.filter(i[0],(function(i){return i.consumer_key===t.consumer_key&&i.user_id===t.user_id})),"session_id"),questions:l.default.pluck(l.default.filter(i[1],(function(i){return i.consumer_key===t.consumer_key&&i.user_id===t.user_id})),"response_id")}}))},pushBySessionId:function pushBySessionId(t,i){var u=this;return this.validateStorage().then((function(){return u.pushQuestionResponses(t,"session_id",i)})).then((function(){return u.pushSession(t,i)}))},pushAll:function pushAll(t){var i=this;return this.validateStorage().then((function(){return i.pushQuestionResponses(t)})).then((function(){return i.pushSessions(t)}))},pushQuestionResponses:function pushQuestionResponses(t){var i=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"needs_pushing",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";return this.storage.getAllByIndexWithValue(g,u,l).then((function(u){return i.formatQuestionResponses(u,t)})).then((function(t){return i.submitQuestionResponses(t)}))},requestToPushSession:function requestToPushSession(t,i){var u=this,p=l.default.filter(i,(function(i){return i.consumer_key===t.consumer_key&&i.user_id===t.user_id}));return 0===p.length?h.default.resolve():new h.default((function(i,u){d.default.request({url:"/push/sessions",action:d.default.ACTION.UPDATE,security:t,data:{sessions:p},success:function success(t){i()},failure:function failure(t){var i="Failed pushing sessions: "+(t.status>0?t.status+" - ":"");l.default.isObject(t.response)&&t.response.meta?i+=t.response.meta.message:i+=t.response,u(i)}})})).then((function(){var t=l.default.map(p,(function(t){return{session_id:t.session_id,mod_date:t.mod_date,needs_pushing:"false"}}));return u.storage.updateAll(v,t,null,"mod_date")}))},pushSession:function pushSession(t,i){var u=this;return this.storage.getWithValue(v,i).then((function(i){return u.requestToPushSession(t,[i])}))},pushSessions:function pushSessions(t){var i=this;return this.storage.getAllByIndexWithValue(v,"needs_pushing","true").then((function(u){return i.requestToPushSession(t,u)}))},getDateString:function getDateString(){var t,i=new Date;return t=i.getUTCFullYear(),t+="-"+(i.getUTCMonth()+1<10?"0":"")+(i.getUTCMonth()+1),t+="-"+(i.getUTCDate()<10?"0":"")+i.getUTCDate(),t+=" "+(i.getUTCHours()<10?"0":"")+i.getUTCHours(),t+=":"+(i.getUTCMinutes()<10?"0":"")+i.getUTCMinutes(),t+=":"+(i.getUTCSeconds()<10?"0":"")+i.getUTCSeconds()},validateStorage:function validateStorage(){return this.storage?h.default.resolve():h.default.reject(this.initError?this.initError:"Offline storage not initialised")}}},4309:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(42165)),h=_interopRequireDefault(u(74691)),g=u(51273),v=_interopRequireDefault(u(64783)),y=_interopRequireDefault(u(32136)),S=u(37306),w=u(52619),E=_interopRequireDefault(u(72895));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}var R=/v(\d+).(\d+).(\d+)/;i.default=l.default.Model.extend({VALID_RESPONSE_ID_RE:/^[\w\-]+$/,STATE:{INITIAL:"initial",MODIFIED:"modified",SAVED:"saved"},TYPE:g.QUESTION_TYPES,RESPONSE_TYPE:{ARRAY:"array",AUDIO:"audio",AUDIOPNG:"audio+png",BOOLEAN:"boolean",IMAGE:"image",NUMERIC:"numeric",OBJECT:"object",STRING:"string",VIDEO:"video"},EVENT:{MODIFIED:"modified",CALLVALIDATE:"callValidate",MASKED:"masked",READY:"ready"},FONTSIZE_PREFIX:"lrn_font_size_",FONTSIZE:S.FONTSIZE,FONTSIZE_MAP:S.FONTSIZE_MAP,VALID_OVERRIDDEN_ATTRIBUTES_LIST:["spellcheck","instant_feedback"],BASE_RICH_TEXT_ATTRIBUTES:["description","instructor_stimulus","metadata.acknowledgements","metadata.distractor_rationale","metadata.sample_answer","stimulus","stimulus.content","stimulus_review"],assetSourceAttributes:[],richTextAttributes:[],RESET_STATE:{RESET:"reset",ATTEMPTED_AFTER_RESET:"attemptedAfterReset"},initialize:function initialize(t){var i=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.validState={valid:!0,errors:[]},this.state=this.STATE.INITIAL,this.lastModified=(new Date).getTime(),this.captured=!1,this.viewClass=null,this.activity=null,this.asyncScoring=!1,this.scoringBusyPromise=Promise.resolve(),this.once(this.EVENT.READY,(function(){i.ready=!0})),this.activityOptions=u,this.setOriginalQuestion(this.get("question")),d.default.isEmpty(this.activityOptions.attribute_overrides)||this.overrideQuestionAttributes(),this.appendMediaVaultTokens()},overrideQuestionAttributes:function overrideQuestionAttributes(){var t=this;d.default.each(t.VALID_OVERRIDDEN_ATTRIBUTES_LIST,(function(i){var u=d.default.getNested(t.activityOptions.attribute_overrides,i);t.get("question")[i]!==u&&(t.get("question")[i]=u)}))},setOriginalQuestion:function setOriginalQuestion(t){var i=this.activityOptions;this.set({originalQuestion:d.default.deepClone(t),question:d.default.deepClone(t)},{silent:!0}),this.dynamicContentService&&(this.set("isDynamicContent",!1),this.dynamicContentService.reset(),delete this.dynamicContentService),y.default.isDynamicContentModel(this)?(this.dynamicContentService=new y.default(this,i),this.set("isDynamicContent",!0)):this.validateStartup()},validateStartup:function validateStartup(){var t=this.get("question"),i=this.sanitizeValue.bind(this);d.default.uniq([].concat(_toConsumableArray(this.BASE_RICH_TEXT_ATTRIBUTES),_toConsumableArray(this.richTextAttributes))).forEach((function(u){d.default.deepSet(t,u,i)}))},appendMediaVaultTokens:function appendMediaVaultTokens(){var t=this.get("question");d.default.uniq([].concat(_toConsumableArray(this.assetSourceAttributes),_toConsumableArray(this.BASE_RICH_TEXT_ATTRIBUTES),_toConsumableArray(this.richTextAttributes))).forEach((function(i){d.default.deepSet(t,i,E.default.appendTokensToString)}))},getApiVersion:function getApiVersion(){return this.apiVersion},setApiVersion:function setApiVersion(t){this.apiVersion=t},getResponseApiVersion:function getResponseApiVersion(){return this.hasResponse()?this.get("response").hasOwnProperty("apiVersion")?this.get("response").apiVersion:"v1.19.6":null},isHigherApiVersion:function isHigherApiVersion(t,i){if("latest"===t)return t!==i;var u=t.match(R).splice(1),l=i.match(R).splice(1);return u[0]>l[0]||u[0]===l[0]&&u[1]>l[1]||u[0]===l[0]&&u[1]===l[1]&&u[2]>l[2]},update:function update(t){this.set(t,{silent:!0}),this.has("creation_date")&&this.setAsCaptured(),this.get("saved")&&this.setAsSaved()},hasResponse:function hasResponse(){return this.has("response")&&!d.default.isEmpty(this.get("response"))},hasResponseValue:function hasResponseValue(){return this.hasResponse()&&!d.default.isNull(this.get("response").value)},clearResponse:function clearResponse(){this.hasResponse()&&(this.unset("response"),this.state=this.STATE.INITIAL,this.lastModified=(new Date).getTime(),this.trigger(this.EVENT.MODIFIED))},getResponseMetadata:function getResponseMetadata(){return this.hasResponse()?d.default.deepClone(this.get("response").metadata):void 0},setActivity:function setActivity(t){return this.activity=t,this.processActivityFlags(),this},processActivityFlags:function processActivityFlags(){},setResponseMetadata:function setResponseMetadata(t){return this.hasResponse()?(this.get("response").metadata=t,this.setAsModified(),!0):(h.default.exception({code:10026,detail:"Cannot set response metadata; question with response ID "+this.get("response_id")+" has no response"}),!1)},getResponseValue:function getResponseValue(){return this.hasResponse()?this.get("response").value:void 0},updateResponseValue:function updateResponseValue(t,i){this.processResponseValue(t),i&&!1===i.setAsModified||this.setResponseMandatoryInformation()},processResponseValue:function processResponseValue(t){throw new Error("Unimplemented function processResponseValue for question type:"+this.get("type"))},hasAllowedResponse:function hasAllowedResponse(){return!0},hasStimulus:function hasStimulus(){return d.default.isString(this.get("question").stimulus)},hasStimulusObject:function hasStimulusObject(){return d.default.isObject(this.get("question").stimulus)},hasStimulusReview:function hasStimulusReview(){return d.default.isString(this.get("question").stimulus_review)||d.default.isString(this.get("question").description)},getStimulus:function getStimulus(){return this.hasStimulus()?this.get("question").stimulus:this.hasStimulusObject()&&this.get("question").stimulus.content?this.get("question").stimulus.content:""},getStimulusReview:function getStimulusReview(){return d.default.isString(this.get("question").stimulus_review)?this.get("question").stimulus_review:d.default.isString(this.get("question").description)?this.get("question").description:""},getInstructorStimulus:function getInstructorStimulus(){return d.default.isString(this.get("question").instructor_stimulus)?this.get("question").instructor_stimulus:""},hasReachedMinLimit:function hasReachedMinLimit(){var t=this.getResponseValue(),i=d.default.getNested(this.get("question"),"min_selection");return i?!!t&&i<=t.length:null},isType:function isType(t){return this.get("type")===t},isAttempted:function isAttempted(){return this.hasResponse()&&!this.hasBeenReset()},isCaptured:function isCaptured(){return this.captured},isModified:function isModified(){return this.state===this.STATE.MODIFIED},isSaved:function isSaved(){return this.state===this.STATE.SAVED},toBeSaved:function toBeSaved(){return this.state!==this.STATE.SAVED},setAsCaptured:function setAsCaptured(){this.captured=!0},setAsModified:function setAsModified(){if(this.state!==this.STATE.MODIFIED){this.state=this.STATE.MODIFIED;var t=this.get("response");d.default.isObject(t)&&(d.default.isNumber(t.revision)?t.revision+=1:t.revision=1)}this.lastModified=(new Date).getTime(),this.trigger(this.EVENT.MODIFIED)},setAsSaved:function setAsSaved(){this.state=this.STATE.SAVED,this.lastModified=(new Date).getTime()},getLastModifiedTime:function getLastModifiedTime(){return this.lastModified},resetResponse:function resetResponse(){this.hasResponse()&&(this.updateResponseToResetValue(),this.setAsModified())},updateResponseToResetValue:function updateResponseToResetValue(){var t=this.get("response");t.resetState=w.RESET_STATE.RESET,t.value=null},updateResetResponseState:function updateResetResponseState(t){this.hasResponse()&&(this.get("response").resetState=t)},hasBeenReset:function hasBeenReset(){return this.getResetState()===w.RESET_STATE.RESET},getResetState:function getResetState(){return this.hasResponse()&&this.get("response").resetState||null},getScorerClassDefaultOptions:function getScorerClassDefaultOptions(){return{}},getScorer:function getScorer(){if(!this.scorer){var t=this.getScorerClass(),i=this.getScorerClassDefaultOptions();0,this.scorer=new t(i)}if(this._prevModifiedForScorer!==this.lastModified||!this.lastModified){this._prevModifiedForScorer=this.lastModified;var u=d.default.deepClone(this.attributes),l=this.scorer.executeScoring(u);this.asyncScoring&&(this.scoringBusyPromise=this.scoringBusyPromise.then((function(){return l})))}return this.scorer},getScorerClass:function getScorerClass(){return v.default},executeScoring:function executeScoring(){var t=this;return Promise.resolve().then((function(){return t.getScorer()})).then((function(){return t.scoringBusyPromise}))},getScore:function getScore(){var t=this.getScorer();return d.default.isNumber(t.maxScore())?{max_score:t.maxScore(),score:t.score()}:null},getResponseId:function getResponseId(t,i,u){var l=new RegExp(u+"_"+i+"_([\\w\\-]+)").exec(t);return l?l[1]:null},getIdForResponseId:function getIdForResponseId(t,i,u){return u+"_"+i+"_"+t},getJsonToCapture:function getJsonToCapture(){return{id:this.get("id"),type:this.get("type"),response_id:this.get("response_id"),user_id:this.get("user_id"),question:this.get("originalQuestion")}},getJsonToSave:function getJsonToSave(){var t={id:this.id};return this.isModified()&&(t.response=this.get("response")),t},getResponseJsonForClient:function getResponseJsonForClient(){return this.hasResponse()?d.default.deepClone(this.get("response")):null},getQuestionJsonForClient:function getQuestionJsonForClient(){return d.default.deepClone(this.get("originalQuestion"))},getMetadataForClient:function getMetadataForClient(){return d.default.deepClone(this.getMetadata())},getMetadata:function getMetadata(){return this.get("question").metadata},getGroupJsonAttributes:function getGroupJsonAttributes(){var t=[],i=this.get("question");return i.hasOwnProperty("validation_group")&&t.push({name:"validation_group",value:i.validation_group}),t},getFontClass:function getFontClass(){var t=this.get("question"),i="";return d.default.isUndefined(this.activity.get("fontsize"))||(i=this.FONTSIZE[this.activity.get("fontsize").toUpperCase()]||""),d.default.hasProperty(t,"ui_style.fontsize")&&d.default.contains(this.FONTSIZE,t.ui_style.fontsize)&&(i=this.FONTSIZE[t.ui_style.fontsize.toUpperCase()]||""),i&&(i=this.FONTSIZE_PREFIX+i),i},getFontSize:function getFontSize(){return this.FONTSIZE_MAP[this.getFontClass().replace(new RegExp(this.FONTSIZE_PREFIX),"")]||this.FONTSIZE_MAP[this.FONTSIZE.NORMAL]},mapValidationMetadata:function mapValidationMetadata(){return!1},sanitizeValue:function sanitizeValue(t){var i=this;return d.default.isEmpty(t)||(d.default.isString(t)?t=p.default.sanitizeHTML(t):d.default.isArray(t)&&(t=d.default.map(t,(function(t){return i.sanitizeValue(t)})))),t},setResponseMandatoryInformation:function setResponseMandatoryInformation(){var t=this.get("response");t&&(t.apiVersion=this.getApiVersion(),d.default.isUndefined(t.resetState)||(t.resetState=w.RESET_STATE.ATTEMPTED_AFTER_RESET),this.setAsModified())}})},93692:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(41507));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.Model.extend({defaults:{domain:d.default.domain},getRequestParameters:function getRequestParameters(){var t={consumer_key:this.get("consumer_key"),domain:this.get("domain"),timestamp:this.get("timestamp"),user_id:this.get("user_id"),signature:this.get("signature")};return this.has("expires")&&(t.expires=this.get("expires")),t},getTimestamp:function getTimestamp(){var t=this.get("timestamp");return Date.UTC(t.substr(0,4),parseInt(t.substr(4,2),10)-1,t.substr(6,2))}})},32136:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(18145));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}i.default=function(){function DynamicContentService(t){var i=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,DynamicContentService);var l=u.state;this.model=t,this.activityState=l,this.addModelDynamicContentFacade(),t.once(t.EVENT.READY,(function(){i.initialize()}))}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(DynamicContentService,[{key:"initialize",value:function initialize(){var t,i=this,u=this.model,d=u.get("response")||{},p=d.value,h=d.dynamic||{},g=h.attempts,v=h.id;if("review"===this.activityState&&!l.default.isEmpty(g)&&v){var y=l.default.findWhere(g,{id:v});y?y.value=p:g.push({id:v,value:p})}this.originalQuestion=u.get("originalQuestion"),t=this.getStoredResponseRowId()||this.getDefaultRowId(),this._isInitializing=!0,delete this._rowId,this.setModelDataWithRowId(t),this._isInitializing=!1,"review"!==this.activityState&&u.on(u.EVENT.MODIFIED,(function(){var t=u.get("response").value;i.setResponseDynamicData(i._rowId,t)}))}},{key:"addModelDynamicContentFacade",value:function addModelDynamicContentFacade(){var t=this;this.model.dynamic={nextAttempt:function nextAttempt(){var i=t.getPotentialRowId(!0);return t.setModelDataWithRowId(i)},previousAttempt:function previousAttempt(){var i=t.getPotentialRowId(!1);return t.setModelDataWithRowId(i)},totalAttempts:function totalAttempts(){var i=t.getRows();return l.default.isArray(i)?i.length:0},currentAttemptIndex:function currentAttemptIndex(){var i=t.getRowById(t._rowId),u=t.getRows();return l.default.indexOf(u,i)}}}},{key:"setResponseDynamicData",value:function setResponseDynamicData(t,i){if("review"!==this.activityState&&!l.default.isUndefined(i)){var u,d=this.model,p=d.get("response")||{},h=this.getStoredResponseRowId()||this.getDefaultRowId(),g=p.dynamic||{};g.id=t,g.attempts=g.attempts||[],(u=l.default.findWhere(g.attempts,{id:h}))||(u={},g.attempts.push(u)),u.id=h,u.value=l.default.deepClone(i),p.dynamic=g,d.set({response:p},{silent:!0})}}},{key:"setModelDataWithRowId",value:function setModelDataWithRowId(t){if(!l.default.isUndefined(t)){var i=this.model,u=this.getTransformedQuestion(t),d=i.get("response"),p=d&&d.value||null;if(i.set("question",u,{silent:!0}),i.validateStartup(),i.set("dynamicContentRowId",t),i.trigger("dynamicContent:changed",t),!this._isInitializing)if("review"===this.activityState){var h=this.getResponseValueByRowId(t),g=l.default.isUndefined(h)?null:h;i.updateResponseValue(g,{setAsModified:!1}),i.getScorer().executeScoring(l.default.deepClone(i.attributes))}else i.updateResponseValue(null),this.setResponseDynamicData(t,p);return this._rowId=t,u}}},{key:"getResponseValueByRowId",value:function getResponseValueByRowId(t){var i=(this.model.get("response")||{}).dynamic||{},u=l.default.findWhere(i.attempts,{id:t});return u&&u.value}},{key:"getPotentialRowId",value:function getPotentialRowId(t){var i=this.getStoredResponseRowId()||this.getDefaultRowId(),u=this.getRowById(i),d=this.getRows(),p=l.default.indexOf(d,u);return d[t?p+1<=d.length-1?p+1:0:p-1>=0?p-1:d.length-1].id}},{key:"getRowById",value:function getRowById(t){var i=(this.originalQuestion||{}).dynamic;return l.default.findWhere(i&&i.rows,{id:t})}},{key:"getStoredResponseRowId",value:function getStoredResponseRowId(){if("review"===this.activityState&&!l.default.isUndefined(this._rowId))return this._rowId;var t=this.model.get("response")||{},i=l.default.getNested(t,"dynamic.id");return l.default.isString(i)?i:this._rowId}},{key:"getDefaultRowId",value:function getDefaultRowId(){var t=this.getRows();if(t)return t[0].id}},{key:"getRows",value:function getRows(){var t=(this.originalQuestion||{}).dynamic;if(!l.default.isEmpty(t.rows))return t.rows}},{key:"getTransformedQuestion",value:function getTransformedQuestion(t){return d.default.getFormattedQuestion(this.originalQuestion,t)}},{key:"reset",value:function reset(){var t=this.model;t.shuffleService?t.shuffleService.reInitialize():t.shuffleServices&&l.default.each(t.shuffleServices,(function(t){return t.reInitialize()}))}}],[{key:"isDynamicContentModel",value:function isDynamicContentModel(t){var i=t.get("question"),u=i.dynamic,p=i.type;return d.default.isWhiteListed(p)&&!(!u||l.default.isEmpty(u.rows)||l.default.isEmpty(u.cols))}}]),DynamicContentService}()},18087:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(4309));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=d.default.extend({initialize:function initialize(){return this.scorer=null,d.default.prototype.initialize.apply(this,arguments)},updateFeedbackAttemptsCount:function updateFeedbackAttemptsCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.get("response");i&&(i.feedbackAttemptsCount=t)},processActivityFlags:function processActivityFlags(){this._updateQuestionBasedOnActivity(this.get("question"))},_updateQuestionBasedOnActivity:function _updateQuestionBasedOnActivity(t){var i=this.activity.get("allow_negative_scores");return!l.default.isEmpty(t.validation)&&l.default.isBoolean(i)&&(t.validation.allow_negative_scores=i),t},getJsonToCapture:function getJsonToCapture(){var t=d.default.prototype.getJsonToCapture.apply(this,arguments);return t.question=this._updateQuestionBasedOnActivity(t.question),t},getScorerClass:function getScorerClass(){throw new Error("getScorerClass method not implemented")},canValidateResponse:function canValidateResponse(){return this.getScorer().canValidateResponse(this.get("question"))},isResponseValid:function isResponseValid(){return this.getScorer().isValid()},getResponseValidDetailed:function getResponseValidDetailed(){var t={correct:this.isResponseValid()},i=this.getPartialValidation();return l.default.isNull(i)||(t.partial=i),t},getPartialValidation:function getPartialValidation(){var t=this.getScorer();return l.default.isFunction(t.validateIndividualResponses)?t.validateIndividualResponses():null},getPartialScoring:function getPartialScoring(){var t=this.get("question");return!l.default.isObject(t.validation)||!l.default.isBoolean(t.validation.partial_scoring)||t.validation.partial_scoring},getShowPartialValidationUI:function getShowPartialValidationUI(){var t=this.get("question").validation||{};return!!t.scoring_type||(t.show_partial_ui?t.show_partial_ui:void 0)},getShowGlobalValidationUi:function getShowGlobalValidationUi(){var t=this.get("question").validation||{};return t.scoring_type?"exactMatch"===t.scoring_type&&this.showsGlobalValUiForExactMatch():!this.getPartialScoring()},getMappableResponses:function getMappableResponses(){return this.getResponseValue()},getMappableValidation:function getMappableValidation(){return this.getResponseValidDetailed().partial},mapValidationMetadata:function mapValidationMetadata(t){var i,u=this.getMetadata()&&this.getMetadata()[t],d=this.getMappableValidation(),p=this.getMappableResponses(),h=l.default.isArray(u),g=l.default.isArray(p),v=l.default.isArray(d);return!!(h&&g&&v)&&(i={correct:[],incorrect:[],unattempted:[]},l.default.each(l.default.keys(i),(function(t){i[t]=this.mapValidationMetadataToResponseState({targetState:t,metadata:u})}),this),i)},mapValidationMetadataToResponseState:function mapValidationMetadataToResponseState(t){var i=this.getMappableValidation(),u=this.getMappableResponses(),d=[];return l.default.each(u,(function(u,p){(function isTargetResponse(u,d){var p;return"unattempted"===t.targetState?l.default.isNull(u):(p="correct"===t.targetState,l.default.exists(u)&&i[d]===p)})(u,p)&&d.push({value:u,metadata:t.metadata[p],index:p})})),d},showsGlobalValUiForExactMatch:function showsGlobalValUiForExactMatch(){var t=!l.default.contains(["shorttext","formula","formulaV2"],this.get("type"));return"mcq"===this.get("type")&&(t=!!this.get("question").multiple_responses),t},callValidate:function callValidate(t){this.canValidateResponse()&&this.trigger(this.EVENT.CALLVALIDATE,t)},getValidResponse:function getValidResponse(){var t,i,u,d,p;return this.canValidateResponse()&&((d=(i=this.get("question")).valid_responses||i.validation.valid_responses)?t=(p=l.default.map(d,l.default.first)).length&&p[0]?{value:p}:{value:l.default.pluck(d,"value")}:((u=this.getScorer()).suggestedResponse&&(t=u.suggestedResponse()),!t&&i.validation.valid_response&&((t=i.validation.valid_response).value||(t={value:t})))),t||{}}})},51273:function(t){"use strict";t.exports={QUESTION_TYPES:{ASSOCIATION:"association",AUDIO:"audio",AUDIOADV:"audioadv",BOOLEAN:"boolean",BOWTIE:"bowtie",CHEMISTRY:"chemistry",CHOICEMATRIX:"choicematrix",CLASSIFICATION:"classification",CLOZEASSOCIATION:"clozeassociation",CLOZEDROPDOWN:"clozedropdown",CLOZEFORMULA:"clozeformula",CLOZEFORMULAV2:"clozeformulaV2",CLOZEINLINETEXT:"clozeinlinetext",CLOZETEXT:"clozetext",CLOZECHEMISTRY:"clozechemistry",CUSTOM:"custom",DRAWING:"drawing",FILEUPLOAD:"fileupload",FILLSHAPE:"fillshape",FORMULA:"formula",FORMULA_DEV:"formula_dev",FORMULAESSAY:"formulaessay",FORMULAESSAYV2:"formulaessayV2",CHEMISTRYESSAY:"chemistryessay",CHEMISTRYESSAYV2:"chemistryessayV2",FORMULAV2:"formulaV2",GRAPHPLOTTING:"graphplotting",GRIDDED:"gridded",HIGHLIGHT:"highlight",HOTSPOT:"hotspot",IMAGECLOZEASSOCIATION:"imageclozeassociation",IMAGECLOZEASSOCIATIONV2:"imageclozeassociationV2",IMAGECLOZEDROPDOWN:"imageclozedropdown",IMAGECLOZEFORMULA:"imageclozeformula",IMAGECLOZEFORMULAV2:"imageclozeformulaV2",IMAGECLOZECHEMISTRY:"imageclozechemistry",IMAGECLOZETEXT:"imageclozetext",IMAGEUPLOAD:"imageupload",LONGTEXT:"longtext",LONGTEXTV2:"longtextV2",MCQ:"mcq",MULTISTEPMATH:"multistepmath",NUMBERLINE:"numberline",NUMBERLINEPLOT:"numberlineplot",ORDERLIST:"orderlist",PLAINTEXT:"plaintext",RATING:"rating",SCORE:"score",SHORTTEXT:"shorttext",SIMPLECHART:"simplechart",SIMPLESHADING:"simpleshading",SORTLIST:"sortlist",TEXTHIGHLIGHT:"texthighlight",TOKENHIGHLIGHT:"tokenhighlight",VIDEO:"video",UNKNOWN:"unknown"},FEATURE_TYPES:{AUDIO_PLAYER:"audioplayer",CALCULATOR:"calculator",COUNTER:"counter",FORMULAINPUT:"formulainput",IMAGE_TOOL:"imagetool",LINE_READER:"linereader",POP_UP:"popup",SCROLLABLE_PASSAGE:"scrollablepassage",SHARED_PASSAGE:"sharedpassage",UNKNOWN:"unknown",VIDEO_PLAYER:"videoplayer",CUSTOM_FEATURE:"customfeature"}}},11686:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function getOfflineFacade(){return{getSession:function getSession(t,i){return initOfflineStorage(t).then((function(){return d.default.getSession(i)}))},push:function push(t,i){return initOfflineStorage(t).then((function(){return d.default.pushBySessionId(t,i)}))}}};var l=_interopRequireDefault(u(41507)),d=_interopRequireDefault(u(86542));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function initOfflineStorage(t){return new Promise((function(i,u){if(t){t.domain=l.default.domain;try{d.default.init(),i()}catch(t){u({event:{code:10027,detail:t.toString()}})}}else u({event:{code:10027,detail:"Missing security object"}})}))}},53327:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=_interopRequireDefault(u(76629)),h=_interopRequireDefault(u(74691)),g=_interopRequireDefault(u(4074)),v=_interopRequireDefault(u(9814)),y=_interopRequireDefault(u(70034)),S=_interopRequireDefault(u(69952));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _slicedToArray(t,i){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,i){var u=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=u){var l,d,p,h,g=[],v=!0,y=!1;try{if(p=(u=u.call(t)).next,0===i){if(Object(u)!==u)return;v=!1}else for(;!(v=(l=p.call(u)).done)&&(g.push(l.value),g.length!==i);v=!0);}catch(t){y=!0,d=t}finally{try{if(!v&&null!=u.return&&(h=u.return(),Object(h)!==h))return}finally{if(y)throw d}}return g}}(t,i)||_unsupportedIterableToArray(t,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?_arrayLikeToArray(t,i):void 0}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}var w=[],E=/^data\-(.+)$/;var R=function SimpleFeaturesRenderer(){this.initCalled=!1};l.default.extend(R.prototype,{i18n:null,init:function init(t){this.features=[],this.simpleFeatureFacades={},this.i18n=t,this.initCalled=!0,v.default.init()},getSimpleFeatureNodes:function getSimpleFeatureNodes(t){return(0,d.default)(".learnosity-feature",t.$scope).not((function(){return this.className.match(/(^|\s)feature-/)||t.excludeWidgets&&(0,d.default)(this).closest(".lrn_widget").length})).get()},hasInitBeenCalled:function hasInitBeenCalled(){return this.initCalled},render:function render(t){var i=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSimpleFeatureNodes({excludeWidgets:!0}),d=arguments.length>2?arguments[2]:void 0,v=this;t=t||{};var R=new y.default((function(h,y){var R=(u=(0,l.default)(u).difference(w)).length;if(R){var A=function prepareFeatures(t){var i,u=[],d=(0,l.default)(g.default.prototype.TYPE).without(g.default.prototype.TYPE.UNKNOWN),p=(0,l.default)(t).map((function(t){var i,p,h=t.getAttribute("data-type");return(0,l.default)(d).contains(h)?u.push(h):h=g.default.prototype.TYPE.UNKNOWN,{domNode:t,type:h,dataAttributes:(i=t,p={},l.default.each(i.attributes,(function(t){if(E.test(t.nodeName)){var i=t.nodeName.match(E)[1];p[i]=t.nodeValue}})),l.default.isUndefined(p.simplefeature_id)&&(p.simplefeature_id=S.default.v4()),p)}}));return(i=w).push.apply(i,_toConsumableArray(t)),[p,(0,l.default)(u).uniq()]}(u),T=_slicedToArray(A,2),x=T[0],C=T[1],M={},O=p.default.getBundleOptions(t);p.default.requireBundlesForFeatureTypes(C,(function(t){l.default.isEmpty(t)?y("No bundles were loaded for the required Feature types: "+C.join(", ")):(0,l.default)(x).each((function(u){var p=t[u.type],g=new p.View({model:new p.Model(u.dataAttributes),activity:d,el:u.domNode,i18n:i.i18n,initialisationCallback:function initialisationCallback(){--R||(w=(0,l.default)(w).without(u.domNode),h(M))},services:{renderViewSimpleFeatures:l.default.debounce((function(){g&&g.renderSimpleFeatures(v)}),10)}});i.registerFacade(g,M),i.features.push(g)}))}),O)}else h()}));return R.catch(h.default.log),R},registerFacade:function registerFacade(t,i){var u=t.model.get("simplefeature_id");u&&(this.simpleFeatureFacades[u]=i[u]=t.getFacade())},reset:function reset(){(0,l.default)(this.features).invoke("reset"),this.features=[],this.simpleFeatureFacades={},this.initCalled=!1,v.default.reset()},setScrollablePassagesContextHeight:function setScrollablePassagesContextHeight(t){l.default.each(this.features,(function(i){"scrollablepassage"===i.model.get("type")&&i.setContextHeight(t)}))},onAppReady:function onAppReady(){(0,l.default)(this.features).invoke("postAppReady")},stopHideAll:function stopHideAll(){l.default.each(this.features,(function(t){var i=t.getFacade();i.stop(),i.toggle(!1)}))},unregisterFacades:function unregisterFacades(t){var i=this;l.default.chain(t).keys().each((function(t){delete i.simpleFeatureFacades[t]}))}});i.default=R},58874:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781)),d=u(52619);var p={QUESTION_UPDATE_RESPONSE_VALUE:"question:updateResponseValue",QUESTION_TOGGLE_DISABLED:"question:toggleDisabled",QUESTION_RENDER_MATH_IF_REQUIRED:"question:renderMathIfRequired",QUESTION_SET_MASKING_STATE:"question:toggleMaskingMode",QUESTION_TOGGLE_COMPONENT_MASK:"question:toggleComponentMask",QUESTION_NOTIFY_MATH_RENDERED:"question:notifyMathRendered",QUESTION_NOTIFY_RENDERED:"question:notifyRendered",QUESTION_CACHE_RENDERED_MATH:"question:cacheRenderedMath",QUESTION_UPDATE_RESPONSE_RESET_STATE:"question:updateResponseResetState",QUESTION_LEGACY_BEGIN_RESPONSE:"question:legacy:beginResponse",SET_LEGACY_ATTRIBUTES:"question:legacy:setAttributes"};function renderMathIfRequired(t){return function(i,u,d){d.mathService.renderIfRequired().then((function(i){i&&t&&l.default.isFunction(t.success)&&t.success()})),i({type:p.QUESTION_RENDER_MATH_IF_REQUIRED})}}function renderSimpleFeatures(){return function(t,i,u){u.simpleFeatureService.render()}}function notifyRendered(){return{type:p.QUESTION_NOTIFY_RENDERED}}function legacyBeginResponse(){return{type:p.QUESTION_LEGACY_BEGIN_RESPONSE}}function triggerEvent(t,i){return function(u,l,d){d.dataService.triggerQuestionFacadeEvent(t,i)}}i.default={actionTypes:p,updateResponseValue:function updateResponseValue(t){return function(i,u,l){i({type:p.QUESTION_UPDATE_RESPONSE_VALUE,payload:{value:t}}),u().base.resetState===d.RESET_STATE.RESET&&i({type:p.QUESTION_UPDATE_RESPONSE_RESET_STATE,payload:{resetState:d.RESET_STATE.ATTEMPTED_AFTER_RESET}}),l.dataService.updateResponseValue(t)}},setDisabled:function setDisabled(t){return{type:p.QUESTION_TOGGLE_DISABLED,payload:{disabled:t}}},setLegacyAttributes:function setLegacyAttributes(t){return{type:p.SET_LEGACY_ATTRIBUTES,payload:{attributes:t}}},setMaskingState:function setMaskingState(t){return function(i,u){var l=u().base,d=l.isReviewState,h=l.isPreviewState;d||h||i({type:p.QUESTION_SET_MASKING_STATE,payload:{inMaskingState:t}})}},toggleComponentMask:function toggleComponentMask(t){return function(i,u,d){i({type:p.QUESTION_TOGGLE_COMPONENT_MASK,payload:{maskId:t}});var h=d.dataService.triggerQuestionFacadeEvent,g=u().base,v=g.responseId,y=g.maskIds;l.default.contains(y,t)&&h("masked",v)}},renderMathIfRequired:renderMathIfRequired,renderSimpleFeatures:renderSimpleFeatures,notifyRendered:notifyRendered,notifyRenderComplete:function notifyRenderComplete(){return function(t,i,u){i().base.isRendered||(t(notifyRendered()),t(renderMathIfRequired()),t((function(t,i,u){u.simpleFeatureService.render()})),t(triggerEvent("rendered")))}},notifyMathRendered:function notifyMathRendered(t){return function(i){i({type:p.QUESTION_NOTIFY_MATH_RENDERED,payload:t}),i((function(t,i,u){u.simpleFeatureService.render()}))}},cacheRenderedMath:function cacheRenderedMath(t){return{type:p.QUESTION_CACHE_RENDERED_MATH,payload:t}},triggerEvent:triggerEvent,resetResponse:function resetResponse(){return function(t,i,u){u.dataService.resetResponse(),t({type:p.QUESTION_UPDATE_RESPONSE_RESET_STATE,payload:{resetState:d.RESET_STATE.RESET}})}},legacyRenderEmbeddedFeature:function legacyRenderEmbeddedFeature(t){var i=t.el,u=t.feature,l=t.isLastFeature,d=t.removeOnComplete,p=u.type;return function(t,h,g){var v=h().base.i18n,y=g.dataService,S=y.get("legacyFeatures",[]);y.loadFeatureBundles([p],(function(g){var y=g[p],w=y.View,E=new(0,y.Model)(u),R=new w({el:i,model:E,i18n:v});S.push(R),l&&function handleLegacyEvents(t,i,u){var l=i().base,d=l.stimulus,p=l.isReviewState,h=d.legacyEvents,g=u.getFacade(),v=h.begin_response_on;p||("last-feature-begin"===v?g.on("begin",(function(){t(legacyBeginResponse)})):v&&"last-feature-complete"!==v||g.on("complete",(function(){t(legacyBeginResponse)})))}(t,h,R),d&&function removeViewOnComplete(t,i){t.getFacade().on("complete",(function(){var u=t.$el.parent();i.splice(i.indexOf(t),1),t.model.destroy(),t.remove(),u.children().length||u.remove()}))}(R,S)}))}},legacyBeginEmbeddedFeatures:function legacyBeginEmbeddedFeatures(){return function(t,i,u){var d=l.default.map(u.dataService.get("legacyFeatures"),(function(t){return t.getFacade()})),p=function beginNextFacade(){h++,d[h]&&d[h].begin()},h=-1;l.default.each(d,(function(t){t.off("complete",p),t.once("complete",p)})),p()}},legacyTriggerEmbeddedFeaturesAction:function legacyTriggerEmbeddedFeaturesAction(t){return function(i,u,d){var p=d.dataService.get("legacyFeatures");l.default.each(p,(function(i){var u=i.getFacade();u&&l.default.isFunction(u[t])&&u[t]()}))}}}},41610:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781));function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var d=50,p=0,h=0,g=2,v=70,y=30;function getElementLayoutData(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=t.type,S=d,w=v,E=y,R=p,A=h,T=g,x=t.width;l.default.isNumber(x)?x<E?x=E:x>w&&(x=w):x=S;var C=t.padding_left;l.default.isNumber(C)||(C=R),C*=x/100;var M=t.padding_right;return l.default.isNumber(M)||(M=i?T:A),{type:u,width:x,paddingLeft:C,paddingRight:M*=x/100}}var S=function(){function BaseDataService(t,i){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,BaseDataService),this.model=t,this.questionFacade=i,this.initialise()}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(BaseDataService,[{key:"initialise",value:function initialise(){this.activity=this.model.activity,this.question=this.model.get("question"),this.data={},this.attributes={}}},{key:"prepare",value:function prepare(t){t(this)}},{key:"getInitialState",value:function getInitialState(){this.initialise();var t=this.activity,i=this.question,u=this.isReviewState,d=this.isResumeState,p=this.isPreviewState,h=!!l.default.getNested(t.get("render_optimization"),"defer_render");return{base:{isRenderDeferred:h,isResumeState:d,isReviewState:u,isPreviewState:p,isLocalPractice:t.get("type")===t.TYPE.LOCAL_PRACTICE,responseId:i.response_id,modelId:this.model.id,questionType:i.type,i18n:t.get("i18n"),state:t.get("state"),readOnly:this.readOnly,isMath:this.isMath,isRendered:!h,cacheRenderedMath:null,stimulus:this.stimulus,stimulusReview:this.stimulusReview,stimulusInstructor:this.stimulusInstructor,widgetLayout:this.widgetLayout,fontSizeClass:this.fontClass,disabled:!1,isAttempted:u||this.isAttempted,extraClassNames:this.extraClassNames,disableSpokenmathDistractors:t.get("disable_spokenmath_distractors"),disableSpokenmathUserInputs:t.get("disable_spokenmath_user_inputs"),resetState:this.resetState}}}},{key:"getFacade",value:function getFacade(){var t=this;return this._facade||(this._facade={},this.EXPOSED_METHODS.forEach((function(i){t._facade[i]=t[i].bind(t)}))),this._facade}},{key:"get",value:function get(t,i){return this.attributes[t]||l.default.isUndefined(i)||this.set(t,i),this.attributes[t]}},{key:"set",value:function set(t,i){var u=this.attributes;l.default.isObject(t)?l.default.each(t,(function(t,i){u[i]=t})):l.default.isString(t)&&(this.attributes[t]=i)}},{key:"loadFeatureBundles",value:function loadFeatureBundles(t,i){return this.activity.loadFeatureBundles(t,i)}},{key:"updateResponseValue",value:function updateResponseValue(t){return this.model.updateResponseValue(t)}},{key:"getResponse",value:function getResponse(){return this.model.get("response")}},{key:"canValidateResponse",value:function canValidateResponse(){return this.model.canValidateResponse()}},{key:"validateResponse",value:function validateResponse(){return this.model.validateResponse()}},{key:"isResponseValid",value:function isResponseValid(){return this.model.isResponseValid()}},{key:"isAsyncScoring",value:function isAsyncScoring(){return!!this.model.asyncScoring}},{key:"asyncExcuteScoring",value:function asyncExcuteScoring(){return this.model.executeScoring()}},{key:"hasNewResponse",value:function hasNewResponse(){var t=this.getResponse();if(!t)return!1;var i=!l.default.isEqual(t.value,this.get("prevResponseValue"));return this.set("prevResponseValue",l.default.deepClone(t.value)),i}},{key:"triggerQuestionFacadeEvent",value:function triggerQuestionFacadeEvent(){var t;(t=this.questionFacade).trigger.apply(t,arguments)}},{key:"isReviewState",get:function get(){var t=this.data,i=this.activity;return l.default.isUndefined(t.isReviewState)&&(t.isReviewState=i.get("state")===i.STATE.REVIEW),t.isReviewState}},{key:"isResumeState",get:function get(){var t=this.data,i=this.activity;return l.default.isUndefined(t.isResumeState)&&(t.isResumeState=i.get("state")===i.STATE.RESUME),t.isResumeState}},{key:"isPreviewState",get:function get(){var t=this.data,i=this.activity;return l.default.isUndefined(t.isPreviewState)&&(t.isPreviewState=i.get("state")===i.STATE.PREVIEW),t.isPreviewState}},{key:"isMath",get:function get(){return!!this.question.is_math}},{key:"isAttempted",get:function get(){return this.model.isAttempted()}},{key:"stimulus",get:function get(){var t=this.data;if(l.default.isUndefined(t.stimulus)){var i=this.question.stimulus;if(l.default.isObject(i))t.stimulus=function legacyGetStimulusObject(t){var i,u=t.features,d=l.default.last(u),p=t.content,h=l.default.filter(u,(function(t){return"overlay"===t.position})),g=l.default.filter(u,(function(t){return"vertical"===t.position||l.default.isUndefined(t.position)})),v=(i={},l.default.each(t,(function(t,u){"content"!==u&&"features"!==u&&(i[u]=t)})),i);return d&&(d._last=!0),{visible:!0,content:p,legacyVerticalFeatures:g,legacyOverlayFeatures:h,legacyEvents:v}}(i);else{var u,d=!1;l.default.isString(i)&&(d=!0,u=i),t.stimulus={visible:d,content:u}}}return t.stimulus}},{key:"stimulusReview",get:function get(){var t=this.data;if(l.default.isUndefined(t.stimulusReview)){var i,u=this.question,d=!1;l.default.isString(u.stimulus_review)?(d=!0,i=u.stimulus_review):l.default.isString(u.description)&&(d=!0,i=u.description),t.stimulusReview={visible:d,content:i}}return t.stimulusReview}},{key:"stimulusInstructor",get:function get(){var t=this.data;if(l.default.isUndefined(t.stimulusInstructor)){var i,u,d=this.activity,p=this.question.instructor_stimulus;l.default.isString(p)&&(i=!(!d.get("showInstructorStimulus")||!p.length),u=p),t.stimulusInstructor={visible:i,content:u}}return t.stimulusInstructor}},{key:"fontsize",get:function get(){var t=this.activity.get("fontsize"),i=l.default.getNested(this.question,"ui_style.fontsize");return l.default.isUndefined(t)?i||void 0:t}},{key:"fontClass",get:function get(){var t=this.data;if(l.default.isUndefined(t.fontClass)){var i,u=this.model,d=this.fontsize;d&&(i=u.FONTSIZE[d.toUpperCase()]),i=i?u.FONTSIZE_PREFIX+i:"",t.fontClass=i}return t.fontClass}},{key:"readOnly",get:function get(){if(l.default.isUndefined(this.data.readOnly)){var t=this.activity,i=t.get("state");this.data.readOnly=i===t.STATE.REVIEW||i===t.STATE.PREVIEW}return this.data.readOnly}},{key:"widgetLayout",get:function get(){var t=this.data;if(l.default.isUndefined(t.widgetLayout)){var i=this.question.widget_layout,u=!!(i&&l.default.isArray(i.elements)&&this.stimulus.visible),d={enabled:u};u&&(d.elements=function getProcessedWidgetLayoutElements(t){var i=[];return l.default.each(t,(function(t){var u=t.type;l.default.isString(u)&&u.length&&!l.default.findWhere(i,{type:u})&&i.push(t)})),l.default.each(["stimulus","interaction"],(function(t){l.default.findWhere(i,{type:t})||i.push(getElementLayoutData({type:t}))})),l.default.map(i,(function(t,u){return getElementLayoutData(t,u===i.length-1)}))}(i.elements)),t.widgetLayout=d}return t.widgetLayout}},{key:"extraClassNames",get:function get(){return{}}},{key:"resetResponse",value:function resetResponse(){this.model.resetResponse()}},{key:"resetState",get:function get(){return this.model.getResetState()}}]),BaseDataService}();S.prototype.EXPOSED_METHODS=["get","set","loadFeatureBundles","updateResponseValue","getResponse","hasNewResponse","canValidateResponse","triggerQuestionFacadeEvent","isResponseValid","validateResponse","resetResponse","isAsyncScoring","asyncExcuteScoring"];i.default=S},59065:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(58874)),p=_interopRequireDefault(u(68497));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperty(t,i,u){return(i=function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}var h=d.default.actionTypes,g=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},h.QUESTION_TOGGLE_DISABLED,(function(t,i){return{disabled:i.disabled}})),h.QUESTION_SET_MASKING_STATE,(function(t,i){return{inMaskingState:i.inMaskingState,maskingMode:i.maskingMode}})),h.QUESTION_TOGGLE_COMPONENT_MASK,(function(t,i){var u=i.maskId,l=t.maskIds||[],d=l.indexOf(u);return d>=0?l.splice(d,1):l.push(u),{maskIds:l}})),h.QUESTION_UPDATE_RESPONSE_VALUE,(function(){return{isAttempted:!0}})),h.QUESTION_NOTIFY_MATH_RENDERED,(function(t,i){return{cacheRenderedMath:i.cacheRenderedMath}})),h.QUESTION_NOTIFY_RENDERED,(function(t){return{isRendered:!0}})),h.QUESTION_UPDATE_RESPONSE_RESET_STATE,(function(t,i){return{resetState:i.resetState}})),h.SET_LEGACY_ATTRIBUTES,(function(t,i){var u={};return l.default.isObject(i.attributes)&&(u.__legacyAttributes=i.attributes),(0,l.default)({}).assign(t,u)}));i.default=(0,p.default)(g,{inMaskingState:!1,disabled:!1})},80833:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.legacyBeginEmbeddedFeatures=function legacyBeginEmbeddedFeatures(t){var i=t.getDataService(),u=i.isReviewState;if(!l.default.isEmpty(i.get("legacyFeatures"))&&!u)return t.getStore().dispatch(d.default.legacyBeginEmbeddedFeatures()),!0;return!1},i.legacyTriggerEmbeddedFeaturesAction=function legacyTriggerEmbeddedFeaturesAction(t,i){t.getStore().dispatch(d.default.legacyTriggerEmbeddedFeaturesAction(i))};var l=_interopRequireDefault(u(62562)),d=_interopRequireDefault(u(58874));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},53793:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(70640)),p=_interopRequireDefault(u(21328)),h=_interopRequireDefault(u(58874)),g=u(80833),v=_interopRequireDefault(u(74691));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var y=function(){function QuestionFacade(t){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,QuestionFacade);var i=t.model;this.view=t,this.model=i,t.simpleFeatureFacades=t.simpleFeatureFacades||{},i.on(i.EVENT.MODIFIED,(function(){this.facade.trigger("change changed")}),this)}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(QuestionFacade,[{key:"facade",get:function get(){var t=this;if(this._facade)return this._facade;var i=this.view,u=this.model,y=u.activity,S=y.get("type"),w=function callbackForAsync(t,i){return l.default.isFunction(t)?u.executeScoring().then((function(){return t(i())})):i()};if(this._facade={on:d.default.Events.on,off:d.default.Events.off,once:d.default.Events.once,trigger:d.default.Events.trigger,response:{getMetadata:function getMetadata(){return u.getResponseMetadata()},setMetadata:function setMetadata(t){return u.setResponseMetadata(t)}},enable:function enable(){return i.setDisabled(!1)},disable:function disable(){return i.setDisabled(!0)},isEnabled:function isEnabled(){return!i.getStore().getState().base.disabled||!1},getAttemptedStatus:function getAttemptedStatus(){return{hasReachedMinLimit:u.hasReachedMinLimit()}},getMetadata:function getMetadata(){return u.getMetadataForClient()},getQuestion:function getQuestion(){return u.getQuestionJsonForClient()},getResponse:function getResponse(){return u.getResponseJsonForClient()},executeScoring:function executeScoring(){return l.default.isFunction(u.executeScoring)?u.executeScoring():Promise.resolve()},getScore:function getScore(t){return w(t,(function(){return l.default.isFunction(u.getScore)?u.getScore():null}))},isAttempted:function isAttempted(){return u.isAttempted()},isValid:function isValid(t,i){return w(i,(function(){return l.default.isFunction(u.canValidateResponse)&&u.canValidateResponse()&&u.hasResponseValue()?t?u.getResponseValidDetailed():u.isResponseValid():void 0}))},validate:function validate(t,u){return w(u,(function(){return l.default.isFunction(i.callValidate)?i.callValidate.apply(i,[t]):void 0}))},mapValidationMetadata:function mapValidationMetadata(t,i){return w(i,(function(){return u.mapValidationMetadata.call(u,t)}))},checkImages:function checkImages(){if(i.imageLoader)return i.imageLoader.checkImages()},checkValidation:function checkValidation(){var t=u.canValidateResponse;return{has_validation:!!l.default.isFunction(t)&&!!t.apply(u)}},begin:function begin(){(0,g.legacyBeginEmbeddedFeatures)(i)?"begin"===u.get("question").begin_response_on&&i.beginResponse():i.beginResponse()},pause:function pause(){l.default.each(i.simpleFeatureFacades,(function(t){return t.pause&&t.pause()})),(0,g.legacyTriggerEmbeddedFeaturesAction)(i,"pause"),i.pauseResponse()},stop:function stop(){l.default.each(i.simpleFeatureFacades,(function(t){return t.stop&&t.stop()})),(0,g.legacyTriggerEmbeddedFeaturesAction)(i,"stop"),i.stopResponse()},masking:function masking(){if(this.isMaskable())return i.masking.apply(i,arguments)},isMaskable:function isMaskable(){return i.maskable||!1},render:function render(){return i.forceRender()},isRendered:function isRendered(){return i.isRendered()},resetValidationUI:function resetValidationUI(){i.getStore().dispatch(p.default.clearValidationUI())},retryLoadImages:function retryLoadImages(){i.imageLoader&&i.imageLoader.loadImages()},simpleFeatures:function simpleFeatures(){return l.default.clone(i.simpleFeatureFacades)},simpleFeature:function simpleFeature(t){return i.simpleFeatureFacades[t]},resetResponse:function resetResponse(){y.get("state")!==y.STATE.REVIEW&&this.isEnabled()&&(i.getStore().dispatch(h.default.resetResponse()),i.update())},isResponseReset:function isResponseReset(){return u.hasBeenReset()}},"local_practice"===S&&(this._facade.update=function(i){var l=u.get("question").type;if(i.type!==l)return v.default.exception({code:10030,detail:'type: "'.concat(i.type,"\" does not match current question instance's type")});i.response_id=u.get("response_id"),u.setOriginalQuestion(i),t.updateInstance(i)}),u.get("isDynamicContent")){var E=u.dynamic;this._facade.dynamic={nextAttempt:function nextAttempt(){return t.updateInstance(E.nextAttempt())},previousAttempt:function previousAttempt(){return t.updateInstance(E.previousAttempt())},currentAttemptIndex:function currentAttemptIndex(){return E.currentAttemptIndex()},totalAttempts:function totalAttempts(){return E.totalAttempts()}}}return this._facade}},{key:"updateInstance",value:function updateInstance(t){this.view.update()}}]),QuestionFacade}();i.default=y},21328:function(t,i,u){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;(function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}})(u(73781));var l=u(72233);function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return i};var t,i={},u=Object.prototype,l=u.hasOwnProperty,d=Object.defineProperty||function(t,i,u){t[i]=u.value},p="function"==typeof Symbol?Symbol:{},h=p.iterator||"@@iterator",g=p.asyncIterator||"@@asyncIterator",v=p.toStringTag||"@@toStringTag";function define(t,i,u){return Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}),t[i]}try{define({},"")}catch(t){define=function define(t,i,u){return t[i]=u}}function wrap(t,i,u,l){var p=i&&i.prototype instanceof Generator?i:Generator,h=Object.create(p.prototype),g=new Context(l||[]);return d(h,"_invoke",{value:makeInvokeMethod(t,u,g)}),h}function tryCatch(t,i,u){try{return{type:"normal",arg:t.call(i,u)}}catch(t){return{type:"throw",arg:t}}}i.wrap=wrap;var y="suspendedStart",S="suspendedYield",w="executing",E="completed",R={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var A={};define(A,h,(function(){return this}));var T=Object.getPrototypeOf,x=T&&T(T(values([])));x&&x!==u&&l.call(x,h)&&(A=x);var C=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(A);function defineIteratorMethods(t){["next","throw","return"].forEach((function(i){define(t,i,(function(t){return this._invoke(i,t)}))}))}function AsyncIterator(t,i){function invoke(u,d,p,h){var g=tryCatch(t[u],t,d);if("throw"!==g.type){var v=g.arg,y=v.value;return y&&"object"==_typeof(y)&&l.call(y,"__await")?i.resolve(y.__await).then((function(t){invoke("next",t,p,h)}),(function(t){invoke("throw",t,p,h)})):i.resolve(y).then((function(t){v.value=t,p(v)}),(function(t){return invoke("throw",t,p,h)}))}h(g.arg)}var u;d(this,"_invoke",{value:function value(t,l){function callInvokeWithMethodAndArg(){return new i((function(i,u){invoke(t,l,i,u)}))}return u=u?u.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(i,u,l){var d=y;return function(p,h){if(d===w)throw new Error("Generator is already running");if(d===E){if("throw"===p)throw h;return{value:t,done:!0}}for(l.method=p,l.arg=h;;){var g=l.delegate;if(g){var v=maybeInvokeDelegate(g,l);if(v){if(v===R)continue;return v}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(d===y)throw d=E,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);d=w;var A=tryCatch(i,u,l);if("normal"===A.type){if(d=l.done?E:S,A.arg===R)continue;return{value:A.arg,done:l.done}}"throw"===A.type&&(d=E,l.method="throw",l.arg=A.arg)}}}function maybeInvokeDelegate(i,u){var l=u.method,d=i.iterator[l];if(d===t)return u.delegate=null,"throw"===l&&i.iterator.return&&(u.method="return",u.arg=t,maybeInvokeDelegate(i,u),"throw"===u.method)||"return"!==l&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+l+"' method")),R;var p=tryCatch(d,i.iterator,u.arg);if("throw"===p.type)return u.method="throw",u.arg=p.arg,u.delegate=null,R;var h=p.arg;return h?h.done?(u[i.resultName]=h.value,u.next=i.nextLoc,"return"!==u.method&&(u.method="next",u.arg=t),u.delegate=null,R):h:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,R)}function pushTryEntry(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function resetTryEntry(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(i){if(i||""===i){var u=i[h];if(u)return u.call(i);if("function"==typeof i.next)return i;if(!isNaN(i.length)){var d=-1,p=function next(){for(;++d<i.length;)if(l.call(i,d))return next.value=i[d],next.done=!1,next;return next.value=t,next.done=!0,next};return p.next=p}}throw new TypeError(_typeof(i)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,d(C,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),d(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,v,"GeneratorFunction"),i.isGeneratorFunction=function(t){var i="function"==typeof t&&t.constructor;return!!i&&(i===GeneratorFunction||"GeneratorFunction"===(i.displayName||i.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,v,"GeneratorFunction")),t.prototype=Object.create(C),t},i.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,g,(function(){return this})),i.AsyncIterator=AsyncIterator,i.async=function(t,u,l,d,p){void 0===p&&(p=Promise);var h=new AsyncIterator(wrap(t,u,l,d),p);return i.isGeneratorFunction(u)?h:h.next().then((function(t){return t.done?t.value:h.next()}))},defineIteratorMethods(C),define(C,v,"Generator"),define(C,h,(function(){return this})),define(C,"toString",(function(){return"[object Generator]"})),i.keys=function(t){var i=Object(t),u=[];for(var l in i)u.push(l);return u.reverse(),function next(){for(;u.length;){var t=u.pop();if(t in i)return next.value=t,next.done=!1,next}return next.done=!0,next}},i.values=values,Context.prototype={constructor:Context,reset:function reset(i){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!i)for(var u in this)"t"===u.charAt(0)&&l.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(i){if(this.done)throw i;var u=this;function handle(l,d){return h.type="throw",h.arg=i,u.next=l,d&&(u.method="next",u.arg=t),!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var p=this.tryEntries[d],h=p.completion;if("root"===p.tryLoc)return handle("end");if(p.tryLoc<=this.prev){var g=l.call(p,"catchLoc"),v=l.call(p,"finallyLoc");if(g&&v){if(this.prev<p.catchLoc)return handle(p.catchLoc,!0);if(this.prev<p.finallyLoc)return handle(p.finallyLoc)}else if(g){if(this.prev<p.catchLoc)return handle(p.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return handle(p.finallyLoc)}}}},abrupt:function abrupt(t,i){for(var u=this.tryEntries.length-1;u>=0;--u){var d=this.tryEntries[u];if(d.tryLoc<=this.prev&&l.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var p=d;break}}p&&("break"===t||"continue"===t)&&p.tryLoc<=i&&i<=p.finallyLoc&&(p=null);var h=p?p.completion:{};return h.type=t,h.arg=i,p?(this.method="next",this.next=p.finallyLoc,R):this.complete(h)},complete:function complete(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),R},finish:function finish(t){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.finallyLoc===t)return this.complete(u.completion,u.afterLoc),resetTryEntry(u),R}},catch:function _catch(t){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.tryLoc===t){var l=u.completion;if("throw"===l.type){var d=l.arg;resetTryEntry(u)}return d}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(i,u,l){return this.delegate={iterator:values(i),resultName:u,nextLoc:l},"next"===this.method&&(this.arg=t),R}},i}function asyncGeneratorStep(t,i,u,l,d,p,h){try{var g=t[p](h),v=g.value}catch(t){return void u(t)}g.done?i(v):Promise.resolve(v).then(l,d)}var d={SET_LEGACY_ATTRIBUTES:"validatable:legacy:setAttributes",VALIDATABLE_CHECK_ANSWER:"validatable:checkAnswer",VALIDATABLE_SHOW_SUGGESTED_ANSWERS:"validatable:showSuggestedAnswers",VALIDATABLE_UPDATE_ARIA_LIVE_DATA:"validatable:updateAriaLiveData",VALIDATABLE_CLEAR_VALIDATION_UI:"validatable:clearValidationUI",VALIDATABLE_CLEAR_VALIDATION_ARIA_LIVE:"validatable:clearValidationAriaLive",VALIDATABLE_INCREASE_FEEDBACK_ATTEMPT_COUNT:"validatable:increaseFeedbackAttemptCount",VALIDATABLE_UPDATE_ASYNC_SCORING_LOADING_STATE:"validatable:updateAsyncScoringLoadingState"};function updateAriaLiveData(t){return{type:d.VALIDATABLE_UPDATE_ARIA_LIVE_DATA,payload:t}}i.default={actionTypes:d,checkAnswer:function checkAnswer(t){return function(){var i=function _asyncToGenerator(t){return function(){var i=this,u=arguments;return new Promise((function(l,d){var p=t.apply(i,u);function _next(t){asyncGeneratorStep(p,l,d,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(p,l,d,_next,_throw,"throw",t)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(i,u,p){var h,g,v,y,S,w,E,R,A,T,x,C,M,O,P,I,D,N;return _regeneratorRuntime().wrap((function _callee$(L){for(;;)switch(L.prev=L.next){case 0:if(h=u(),g=h.base,v=h.validatable,y=v.feedbackAttemptsLimit,S=v.feedbackAttemptsCount,w=p.dataService,E=t.canShowCorrectAnswers,R=t.canShowGlobalValidationUI,A=t.showDistractorRationale,T=void 0===A?w.getActivityShowDistractorRationale():A,x=t.skipAttemptCountLimit,t.shouldValidateUnattemptedResponse||g.isAttempted){L.next=6;break}return L.abrupt("return");case 6:if(x||0===y||!(S>=y)){L.next=8;break}return L.abrupt("return");case 8:if(g.isReviewState){L.next=12;break}if(w.triggerQuestionFacadeEvent("beforeValidate",{preventDefault:function preventDefault(){return C=!0}}),!C){L.next=12;break}return L.abrupt("return");case 12:if(!w.isAsyncScoring()){L.next=16;break}return L.next=16,w.asyncExcuteScoring();case 16:M=w.isResponseValid(),O=w.getValidatedResponses(),P=E?w.getSuggestedResponses():null,I=T.perResponse!==l.SHOW_DISTRACTOR_RATIONALE_NEVER?w.getResponseLevelDistractorRationale():null,D=u().validatable.validatedEventRequestCount,i({type:d.VALIDATABLE_CHECK_ANSWER,payload:{canShowGlobalValidationUI:R,isResponseValid:M,responseLevelDistractorRationale:I,showDistractorRationale:T,validatedResponses:O}}),N=E,i(updateAriaLiveData({message:w.getAriaLiveMessage(N),mappedValidatedResponses:w.getMappedValidatedResponsesData(O),mappedSuggestedResponses:N?w.getMappedSuggestedResponsesData(P&&P.value):null,isShowingCorrectAnswers:N})),i({type:d.VALIDATABLE_SHOW_SUGGESTED_ANSWERS,payload:{suggestedResponses:P,isShowingCorrectAnswers:N}}),!x&&w.hasNewResponse()&&(i({type:d.VALIDATABLE_INCREASE_FEEDBACK_ATTEMPT_COUNT}),p.dataService.updateFeedbackAttemptsCount(u().validatable.feedbackAttemptsCount)),u().validatable.validatedEventRequestCount!==D&&w.triggerQuestionFacadeEvent("validated");case 28:case"end":return L.stop()}}),_callee)})));return function(t,u,l){return i.apply(this,arguments)}}()},clearValidationUI:function clearValidationUI(){return{type:d.VALIDATABLE_CLEAR_VALIDATION_UI}},clearValidationAriaLive:function clearValidationAriaLive(){return{type:d.VALIDATABLE_CLEAR_VALIDATION_ARIA_LIVE}},setLegacyAttributes:function setLegacyAttributes(t){return{type:d.SET_LEGACY_ATTRIBUTES,payload:{attributes:t}}},updateAriaLiveData:updateAriaLiveData,updateAsyncScoringLoadingState:function updateAsyncScoringLoadingState(t){return{type:d.VALIDATABLE_UPDATE_ASYNC_SCORING_LOADING_STATE,payload:{isAsyncScoringLoading:t}}}}},64512:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(41610)),p=u(72233);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,_toPropertyKey(l.key),l)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,i,u){var l=function _superPropBase(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&null!==(t=_getPrototypeOf(t)););return t}(t,i);if(l){var d=Object.getOwnPropertyDescriptor(l,i);return d.get?d.get.call(arguments.length<3?t:u):d.value}},_get.apply(this,arguments)}function _setPrototypeOf(t,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,i){return t.__proto__=i,t},_setPrototypeOf(t,i)}function _createSuper(t){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var u,l=_getPrototypeOf(t);if(i){var d=_getPrototypeOf(this).constructor;u=Reflect.construct(l,arguments,d)}else u=l.apply(this,arguments);return function _possibleConstructorReturn(t,i){if(i&&("object"===_typeof(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,u)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}var h=function(t){!function _inherits(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&_setPrototypeOf(t,i)}(ValidatableDataService,t);var i=_createSuper(ValidatableDataService);function ValidatableDataService(){var t;!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,ValidatableDataService);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return function _defineProperty(t,i,u){return(i=_toPropertyKey(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}(_assertThisInitialized(t=i.call.apply(i,[this].concat(l))),"VALIDATION_STATES",{CORRECT:"correct",INCORRECT:"incorrect"}),t}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(ValidatableDataService,[{key:"getInitialState",value:function getInitialState(){var t=_get(_getPrototypeOf(ValidatableDataService.prototype),"getInitialState",this).call(this),i=this.canCheckAnswer,u=this.canShowCorrectAnswers,d=this.canShowGlobalValidationUI,h=this.feedbackAttemptsCount,g=this.feedbackAttemptsLimit,v=this.isReviewState,y=this.questionLevelDistractorRationale,S=this.validationState,w=this.validationStemNumeration,E=this.getActivityShowDistractorRationale(),R=E.perResponse!==p.SHOW_DISTRACTOR_RATIONALE_NEVER?this.getResponseLevelDistractorRationale():null;return l.default.extend({},t,{validatable:{ariaGlobal:{visible:!1},ariaLive:{visible:!1},canCheckAnswer:i,canShowCorrectAnswers:u,canShowGlobalValidationUI:d,feedbackAttemptsCount:h,feedbackAttemptsLimit:g,isShowingCorrectAnswers:v&&u,questionLevelDistractorRationale:y,responseLevelDistractorRationale:R,showDistractorRationale:E,suggestedResponses:v?this.getSuggestedResponses():null,validatedEventRequestCount:0,validatedResponses:v&&this.canValidateResponse()?this.getValidatedResponses():null,validationState:S,validationStemNumeration:w,isAsyncScoringLoading:!1,isAsyncScoring:this.isAsyncScoring()}})}},{key:"getValidatedResponses",value:function getValidatedResponses(){}},{key:"getMappedValidatedResponsesData",value:function getMappedValidatedResponsesData(t){}},{key:"getMappedSuggestedResponsesData",value:function getMappedSuggestedResponsesData(t){}},{key:"getAriaLiveMessage",value:function getAriaLiveMessage(t){}},{key:"getSuggestedResponses",value:function getSuggestedResponses(){var t,i,u,d,p=this.model;if(!this.canValidateResponse())return{};var h=this.question;return(u=h.valid_responses||l.default.getNested(h,"validation.valid_responses"))?(d=l.default.first(u))&&(t={value:d}):((i=p.getScorer()).suggestedResponse&&(t=i.suggestedResponse()),!t&&h.validation&&h.validation.valid_response&&((t=h.validation.valid_response).value||(t={value:t}))),t||{}}},{key:"getActivityShowDistractorRationale",value:function getActivityShowDistractorRationale(){var t=this.activity.get("show_distractor_rationale");return l.default.isObject(t)?(0,p.getShowDistractorRationale)({perQuestion:t.per_question,perResponse:t.per_response}):(0,p.getShowDistractorRationale)(t)}},{key:"getResponseLevelDistractorRationale",value:function getResponseLevelDistractorRationale(){var t=this.questionFacade;return t&&t.mapValidationMetadata("distractor_rationale_response_level")||null}},{key:"updateFeedbackAttemptsCount",value:function updateFeedbackAttemptsCount(t){this.model.updateFeedbackAttemptsCount(t)}},{key:"feedbackAttemptsCount",get:function get(){var t=this.model.get("response");return t&&t.feedbackAttemptsCount||0}},{key:"feedbackAttemptsLimit",get:function get(){if(l.default.isUndefined(this.data.feedbackAttempts)){var t=this.question.feedback_attempts||0;l.default.isString(t)&&(t="unlimited"===t.toLowerCase()?1/0:parseInt(t,10)),this.data.feedbackAttempts=t||1/0}return this.data.feedbackAttempts}},{key:"canCheckAnswer",get:function get(){var t=this.question,i=!!this.canValidateResponse();return!this.isReviewState&&t.instant_feedback&&!t.validation_group&&i}},{key:"canShowCorrectAnswers",get:function get(){if(l.default.isUndefined(this.data.canShowCorrectAnswers)){var t=this.activity.get("showCorrectAnswers"),i=this.canValidateResponse(),u=this.isReviewState;if(l.default.isBoolean(t))return t;this.data.canShowCorrectAnswers=!!(l.default.isUndefined(t)&&u&&i)}return this.data.canShowCorrectAnswers}},{key:"validationState",get:function get(){var t=this.isReviewState,i=this.canShowGlobalValidationUI,u=this.VALIDATION_STATES,d=u.CORRECT,p=u.INCORRECT;if(t&&i){var h=this.isResponseValid();if(l.default.isBoolean(h))return h?d:p}return null}},{key:"validationStemNumeration",get:function get(){var t=this.data;if(l.default.isUndefined(t.validationStemNumeration)){var i=this.question.validation_stem_numeration||l.default.getNested(this.question,"ui_style.validation_stem_numeration");l.default.contains(["number","lower-alpha","upper-alpha"],i)||(i="number"),t.validationStemNumeration=i}return t.validationStemNumeration}},{key:"canShowGlobalValidationUI",get:function get(){if(!this.canValidateResponse())return!1;var t=this.question,i=this.scoringType;if(i){var u=function(t){var i=!l.default.contains(["formula","formulaV2"],t.type);return"mcq"===t.type?!!t.multiple_responses:i}(t);return("exactMatch"===i||"nclexScoringByColumn"===i)&&u}return!this.model.getPartialScoring()}},{key:"scoringType",get:function get(){return(this.question.validation||{}).scoring_type}},{key:"questionLevelDistractorRationale",get:function get(){return l.default.getNested(this.question,"metadata.distractor_rationale")||null}}]),ValidatableDataService}(d.default);h.prototype.EXPOSED_METHODS=d.default.prototype.EXPOSED_METHODS.concat(["getActivityShowDistractorRationale","getAriaLiveMessage","getMappedSuggestedResponsesData","getMappedValidatedResponsesData","getResponseLevelDistractorRationale","getSuggestedResponses","getValidatedResponses","updateFeedbackAttemptsCount"]);i.default=h},33667:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(21328)),p=_interopRequireDefault(u(68497));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperty(t,i,u){return(i=function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}var h=d.default.actionTypes,g={ariaGlobal:{},ariaLive:{},isShowingCorrectAnswers:null,responseLevelDistractorRationale:null,suggestedResponses:null,validatedEventRequestCount:0,validatedResponses:null,validationState:null},v=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},h.SET_LEGACY_ATTRIBUTES,(function(t,i){var u={};return l.default.isObject(i.attributes)&&(u.__legacyAttributes=i.attributes),(0,l.default)({}).assign(t,u)})),h.VALIDATABLE_CHECK_ANSWER,(function(t,i){var u=i.isResponseValid,d=i.responseLevelDistractorRationale,p=i.showDistractorRationale,h=i.canShowGlobalValidationUI,v=i.validatedResponses,y={responseLevelDistractorRationale:d,showDistractorRationale:p,validatedEventRequestCount:(t||g).validatedEventRequestCount+1,validatedResponses:v,validationState:h&&l.default.isBoolean(u)?u?"correct":"incorrect":null};return l.default.isBoolean(u)&&(0,l.default)(y).assign({ariaGlobal:{visible:!0,label:u?"correct":"incorrect"}}),y})),h.VALIDATABLE_SHOW_SUGGESTED_ANSWERS,(function(t,i){return{suggestedResponses:i.suggestedResponses,isShowingCorrectAnswers:i.isShowingCorrectAnswers}})),h.VALIDATABLE_CLEAR_VALIDATION_UI,(function(){return g})),h.VALIDATABLE_INCREASE_FEEDBACK_ATTEMPT_COUNT,(function(t){return{feedbackAttemptsCount:t.feedbackAttemptsCount+1}})),h.VALIDATABLE_UPDATE_ARIA_LIVE_DATA,(function(t,i){var u=i.message,d=i.mappedValidatedResponses,p=i.mappedSuggestedResponses,h=i.isShowingCorrectAnswers;return{ariaLive:{visible:!0,message:u,correct:l.default.filter(d,(function(t){return!0===t.validatedValue})),incorrect:l.default.filter(d,(function(t){return!1===t.validatedValue})),suggestedResponses:!!h&&p}}})),h.VALIDATABLE_CLEAR_VALIDATION_ARIA_LIVE,(function(){return{ariaLive:{visible:!1}}})),h.VALIDATABLE_UPDATE_ASYNC_SCORING_LOADING_STATE,(function(t,i){return{isAsyncScoringLoading:i.isAsyncScoringLoading}}));i.default=(0,p.default)(v,g)},71596:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(2507)),p=_interopRequireDefault(u(26729)),h=_interopRequireDefault(u(805));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var g=function(){function MathService(t,i){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,MathService),this.type=i,this.view=t,this.model=t.model}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(MathService,[{key:"getWidgetData",value:function getWidgetData(){var t=this.type;return"question"===t?this.model.get(t):this.model.attributes}},{key:"isMath",value:function isMath(){return!!l.default.getNested(this.getWidgetData(),"is_math")}},{key:"renderIfRequired",value:function renderIfRequired(t){var i=this;return this.isMath()?new Promise((function(u){i.mathquillRendering()?(i.renderMathquill(t),u(!0)):h.default&&(h.default.once(h.default.EVENT.RENDERED,(function(){return u(!0)})),h.default.render(t))})):Promise.resolve(!1)}},{key:"mathquillRendering",value:function mathquillRendering(){var t=this.model;if(this.isMath()){var i=t.activity.get("math_renderer");return i?"mathquill"===i:"mathquill"===this.getWidgetData().math_renderer}}},{key:"renderMathquill",value:function renderMathquill(t){var i=this,u=function(){var u=t||i.view.el,l=document.body;return l.contains(u)?u:l}();return this.mathquillRenderer||(this.mathquillRenderer=new d.default(p.default.isChemistry.call(this))),this.mathquillRenderer.render(u)}}]),MathService}();i.default=g},72233:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SHOW_DISTRACTOR_RATIONALE_WHEN_INCORRECT=i.SHOW_DISTRACTOR_RATIONALE_WHEN_CORRECT=i.SHOW_DISTRACTOR_RATIONALE_NEVER=i.SHOW_DISTRACTOR_RATIONALE_ALWAYS=i.DEFAULT_DISTRACTOR_RATIONALE_ENABLED=i.DEFAULT_DISTRACTOR_RATIONALE_DISABLED=i.ALLOWED_PER_RESPONSE_VALUES=i.ALLOWED_PER_QUESTION_VALUES=void 0,i.getShowDistractorRationale=function getShowDistractorRationale(t){if(l.default.isObject(t)){var i=t.perQuestion,u=t.perResponse;return l.default.isUndefined(i)?i=w.perQuestion:isValidShowDistractorRationalePerQuestion(i)||(i=p),l.default.isUndefined(u)?u=w.perResponse:isValidShowDistractorRationalePerResponse(u)||(u=p),{perQuestion:i,perResponse:u}}if(!0===t)return w;return S},i.getVisibleResponseLevelDistractorRationale=function getVisibleResponseLevelDistractorRationale(t,i){if(!t||i===p)return[];if(i===d){var u=t.correct,h=t.incorrect;return u.concat(h).filter(isNonEmptyDistractorRationale)}return t[i].filter(isNonEmptyDistractorRationale);function isNonEmptyDistractorRationale(t){return l.default.isString(t.metadata)&&/\S/.test(t.metadata)}},i.isValidShowDistractorRationalePerQuestion=isValidShowDistractorRationalePerQuestion,i.isValidShowDistractorRationalePerResponse=isValidShowDistractorRationalePerResponse;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781));var d=i.SHOW_DISTRACTOR_RATIONALE_ALWAYS="always",p=i.SHOW_DISTRACTOR_RATIONALE_NEVER="never",h=i.SHOW_DISTRACTOR_RATIONALE_WHEN_CORRECT="correct",g=i.SHOW_DISTRACTOR_RATIONALE_WHEN_INCORRECT="incorrect",v=i.ALLOWED_PER_QUESTION_VALUES=[d,p,h,g],y=i.ALLOWED_PER_RESPONSE_VALUES=[d,p],S=i.DEFAULT_DISTRACTOR_RATIONALE_DISABLED={perQuestion:p,perResponse:p},w=i.DEFAULT_DISTRACTOR_RATIONALE_ENABLED={perQuestion:g,perResponse:d};function isValidShowDistractorRationalePerQuestion(t){return l.default.isString(t)&&l.default.contains(v,t)}function isValidShowDistractorRationalePerResponse(t){return l.default.isString(t)&&l.default.contains(y,t)}},68497:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function _default(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u="";function mergingReducer(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,p=arguments.length>1?arguments[1]:void 0,h=p.type,g=p.payload;if("UPDATE_ALL"===h)return g.data[u];var v=t[h];if(v){var y=v(d,g);return l.default.extend({},d,y)}return d}return mergingReducer.setName=function(t){return u=t},mergingReducer};var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781))},22614:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.isUnloadInProgress=function isUnloadInProgress(){if(l.default.isEmpty(p))return!1;return l.default.some(p,(function(t){return!!t.unloadInProgress}))},i.reset=function reset(){for(;p.length;){p.pop().reset()}};var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(16104));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,_toPropertyKey(l.key),l)}}function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}var p=[];i.default=function(){function UnloadHandler(){var t=this;!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,UnloadHandler),function _defineProperty(t,i,u){return(i=_toPropertyKey(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}(this,"onBeforeUnload",(function(i){if(t.unloadInProgress=!0,setTimeout((function(){setTimeout((function(){t.unloadInProgress=!1}),1e3)}),1),l.default.isFunction(t.customUnload)){var u=t.customUnload();u&&(i.returnValue=u)}else t.safeToUnload&&!t.safeToUnload()&&(i.returnValue=t.i18n.labels.onbeforeunload)}))}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(UnloadHandler,[{key:"init",value:function init(t){this.i18n=t.i18n,this.safeToUnload=t.safeToUnload,d.default.isChromeApp||(this.customUnload=t.customUnload),window.addEventListener("beforeunload",this.onBeforeUnload),d.default.isIOS&&window.addEventListener("pagehide",this.onBeforeUnload),p.push(this)}},{key:"reset",value:function reset(){window.removeEventListener("beforeunload",this.onBeforeUnload),d.default.isIOS&&window.removeEventListener("pagehide",this.onBeforeUnload);var t=p.indexOf(this);t>=0&&p.splice(t,1)}}]),UnloadHandler}()},79200:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(34651)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(87878));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var h="[data-lrn-access-review-source]",g="data-lrn-access-review-source";function elementHasClass(t,i){return t.get(0)instanceof SVGElement?function svgElementHasClass(t,i){return p.default.polygonHasClass(t.get(0),i)}(t,i):t.hasClass(i)}function findElement(t,i){return t.get(0).getElementsByClassName?t.find(i):(0,l.default)(t.get(0).querySelectorAll(".lrn-accessibility-label"))}i.default={getResponseData:function getResponseData(t,i){var u,l,p={responseIndex:void 0,responseText:void 0,responseStatus:void 0},h={VALID:"lrn_valid",CORRECT:"lrn_correct",INCORRECT:"lrn_incorrect",UNATTEMPTED:"lrn_not_attempted"},g="."+d.default.values(h).join(",."),v=findElement(t,".lrn_responseIndex");return v.length&&(p.responseIndex=v.text()),v.remove(),(l=i?i(t):this.getSourceContent(t))&&(p.responseText=l),(u=findElement(t,g)).length||(u=t),elementHasClass(u,h.CORRECT)?p.responseStatus="correct":elementHasClass(u,h.INCORRECT)?p.responseStatus="incorrect":elementHasClass(u,h.UNATTEMPTED)?p.responseStatus="no response given":elementHasClass(u,h.VALID)?p.responseStatus="no response given - missed":p.responseStatus="no response given",p},hasAttr:function hasAttr(t,i){var u=t.attr(i);return void 0!==u&&!1!==u},getSourceElement:function getSourceElement(t){var i,u=[".lrn_draggable"],l=findElement(t,h);if(this.hasAttr(t,g)&&(l=t),!l.length)for(i=0;i<u.length&&!(l=findElement(t,u[i])).length;i++);return l.length?l:t},getSourceContent:function getSourceContent(t){var i,u="",d=this;return findElement(t,"select").remove(),t.is("input")?this.getInputContent(t):findElement(t,'input:not([type="checkbox"],[type="radio"])').length?(findElement(t,"input").each((function(){u+=d.getInputContent((0,l.default)(this))})),u):null!==(i=findElement(t,".lrn-spokenmath"))&&void 0!==i&&i.length?findElement(t,".lrn-spokenmath").text():t.text()},getInputContent:function getInputContent(t){return t.is(":radio")||t.is(":checkbox")?t.prop("checked")?"selected":"":t.val()},setReviewAriaLabel:function setReviewAriaLabel(t){var i=t.$el,u=t.ariaLabel,p=t.keepChildrenVisible,h=t.onLabelClick,g=(0,l.default)('<span class="lrn-accessibility-label"></span>');i.attr("aria-label")&&i.attr("aria-label-default",i.attr("aria-label")),g.text(u),p||findElement(i,'> *:not([type="checkbox"]):not([type="radio"])').attr("aria-hidden",!0),i.attr("aria-label",u).append(g),d.default.isFunction(h)&&g.on("click",(function(t){t.stopPropagation(),h()}))},unsetReviewAriaLabel:function unsetReviewAriaLabel(t){if(t.length){var i=t.attr("aria-label-default");if(i)t.attr("aria-label",i);else{var u=t.attr("aria-label-static");u?t.attr("aria-label",u):t.removeAttr("aria-label")}var l=t.get(0);l.removeAttribute("aria-label-default"),d.default.each(l.children,(function(t){return t.removeAttribute("aria-hidden")})),findElement(t,".lrn-accessibility-label").remove()}}}},70761:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(70640));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p=function AccessibilityBaseHelper(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.view=t,this.initialize(t,i)};p.extend=d.default.View.extend,l.default.extend(p.prototype,{initialize:function initialize(t){this.$el=this.view.$el},apply:function apply(){},restore:function restore(){}});i.default=p},52165:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;_interopRequireDefault(u(73781)),_interopRequireDefault(u(70640)),_interopRequireDefault(u(34651));var l=_interopRequireDefault(u(70761)),d=_interopRequireDefault(u(79200));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.extend({SELECTORS:{RESPONSE_WRAPPER:".lrn-response-validate-wrapper"},initialize:function initialize(){this.$responseWrapper=this.view.$(this.SELECTORS.RESPONSE_WRAPPER)},apply:function apply(){d.default.setReviewAriaLabel({$el:this.$responseWrapper,ariaLabel:this.getGlobalWrapperAriaLabel(this.$responseWrapper),keepChildrenVisible:!0})},restore:function restore(){d.default.unsetReviewAriaLabel(this.$responseWrapper)},getGlobalWrapperAriaLabel:function getGlobalWrapperAriaLabel(t){var i,u=null===(i=this.view)||void 0===i||null===(i=i.options)||void 0===i||null===(i=i.activity)||void 0===i?void 0:i.get("i18n");return u?t.hasClass("lrn_correct")?u.labels.ariaLiveText.correctResponse:t.hasClass("lrn_incorrect")?u.labels.ariaLiveText.incorrectResponse:"":""}})},69685:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=(_interopRequireDefault(u(70640)),_interopRequireDefault(u(34651))),p=_interopRequireDefault(u(70761)),h=_interopRequireDefault(u(79200));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=p.default.extend({SELECTORS:{ACCESSIBILITY_DEST:"[data-lrn-access-review-dest]"},initialize:function initialize(t,i){this.getTextFn=!!l.default.isFunction(i.getSourceText)&&i.getSourceText},apply:function apply(){this.setAriaLabelsOnDest()},restore:function restore(){this.view.$(this.SELECTORS.ACCESSIBILITY_DEST).each((function(){h.default.unsetReviewAriaLabel((0,d.default)(this))}))},setAriaLabelsOnDest:function setAriaLabelsOnDest(){var t=this;this.view.$(this.SELECTORS.ACCESSIBILITY_DEST).each((function(){var i=(0,d.default)(this),u=h.default.getSourceElement(i);h.default.setReviewAriaLabel({$el:i,ariaLabel:t.getReviewAriaLabel(u,t.getTextFn),onLabelClick:function onLabelClick(){var u,l,d,p=[".lrn_draggable","input","select"];for(d=0;d<p.length&&(u=p[d],!(l=i.find(u)).length);d++);i.trigger("click"),l&&l.length?l.is("input")||l.is("select")?l.focus():l.trigger("click"):t.view.clearValidationUI()}})}))},getReviewAriaLabel:function getReviewAriaLabel(t,i){t=t.clone();var u=h.default.getResponseData(t,i);return l.default.toArray(u).filter((function(t){return t})).join(" - ")}})},15302:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=(_interopRequireDefault(u(70640)),_interopRequireDefault(u(34651))),p=_interopRequireDefault(u(70761)),h=_interopRequireDefault(u(79200));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=p.default.extend({SELECTORS:{ACCESSIBILITY_DEST:"[data-lrn-access-review-dest]"},initialize:function initialize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getTextFn=!!l.default.isFunction(t.getSourceText)&&t.getSourceText,this.ariaLiveFallbackData={overallCorrect:void 0,groups:[{correct:[],incorrect:[],expected:[]}]},this.validationReaderTimeout=-1,this.validationClearTimeout=-1,p.default.prototype.initialize.call(this)},apply:function apply(){this.updateAriaLiveRegion()},restore:function restore(){clearTimeout(this.validationReaderTimeout),clearTimeout(this.validationClearTimeout),this.$el.find(".lrn-accessibility-arialive").text("")},updateAriaLiveRegion:function updateAriaLiveRegion(t){var i=this,u=this.$el.find(".lrn-accessibility-arialive"),d=(t=t||this.setupDefaultData()).overallCorrect?t.overallCorrect+". ":"";l.default.each(t.groups,function(t){d+=this._buildAnswersString(t)}.bind(this)),u.text(""),clearTimeout(this.validationReaderTimeout),clearTimeout(this.validationClearTimeout),this.validationReaderTimeout=setTimeout((function(){u.text(d),i.validationClearTimeout=setTimeout((function(){u.text("")}),200)}),200)},_buildAnswersString:function _buildAnswersString(t){var i="",u=0===t.correct.length&&0===t.incorrect.length&&0===t.expected.length;return!u&&t.index&&(i+=" Response group "+t.index+": "),!u&&t.label&&(i+=" "+t.label+". "),t.groupCorrect&&(i+=" "+t.groupCorrect+". "),i+=this._buildStringByAnswerStatus("correct",t.correct)+this._buildStringByAnswerStatus("incorrect",t.incorrect)+this._buildStringByAnswerStatus("expected",t.expected)},_buildStringByAnswerStatus:function _buildStringByAnswerStatus(t,i){var u=i.constructor===Array;if(!u&&!i.length)return"";var l,d=u?i.length:1,p=u?i.join(", "):i;return l=1===d?t+this._pluralizeAnswers(d):d+" "+t+this._pluralizeAnswers(d),p=p.length?": "+p:"",d?l+p+". ":""},_pluralizeAnswers:function _pluralizeAnswers(t){return 1===t?" answer":" answers"},setupDefaultData:function setupDefaultData(){var t=this,i=[],u=[],l=[];this.view.$(this.SELECTORS.ACCESSIBILITY_DEST).each((function(){var p=h.default.getSourceElement((0,d.default)(this)).clone(),g=h.default.getResponseData(p,t.getTextFn),v=g.responseText;switch(g.responseStatus){case"correct":i.push(v);break;case"incorrect":u.push(v);break;case"no response given - missed":l.push(v)}}));var p=this.ariaLiveFallbackData.groups[0];return this.ariaLiveFallbackData.overallCorrect=this.$el.find(".lrn-response-validate-wrapper").attr("aria-label"),p.correct=i,p.incorrect=u,p.expected=l,this.ariaLiveFallbackData},convertAlphabeticalResponseToNumerical:function convertAlphabeticalResponseToNumerical(t,i,u){var l=String.fromCharCode(t+97),d=String.fromCharCode(t+65),p=t+1,h=function getResponseIndex(t){return i.find(".lrn_responseIndex:contains(".concat(t,")"))};return u&&"number"!==u?"lower-alpha"===u?h(l):"upper-alpha"===u?h(d):void 0:h(p)},generateRowBasedAriaGroups:function generateRowBasedAriaGroups(t,i){var u=i&&i.labelSelector||"",l=i&&i.correctAnswerSelector||".lrn_correctAnswerList",d=[],p={overallCorrect:this.$el.find(".lrn-response-validate-wrapper").attr("aria-label")},h=this.$el.find(l),g=this.view.displayLogic.validation_stem_numeration;return this.$el.find(t).each(function(t,i){this.addIndividualRowInformation(t,i,{labelSelector:u,$correctAnswers:h,stemNumeration:g,groups:d})}.bind(this)),p.groups=d,p},addIndividualRowInformation:function addIndividualRowInformation(t,i,u){var l,p,h,g,v,y;l=t,p=(y=(0,d.default)(i)).find(u.labelSelector).addBack(u.labelSelector).text(),h=y.find(".lrn_correct").addBack(".lrn_correct").find(".lrn_item").text(),g=y.find(".lrn_incorrect").addBack(".lrn_incorrect").find(".lrn_item").text(),v=this.convertAlphabeticalResponseToNumerical(t,u.$correctAnswers,u.stemNumeration).siblings(".lrn_responseText").text(),u.groups.push({index:l+1,label:p,correct:h,incorrect:g,expected:v})}})},78197:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781));var d="data-lrn-mathjax-postprocessed",p=function isQEWidget(t){var i=["mathml_ckwidget","latex_ckwidget"];return l.default.some(t.parentNode.classList,(function(t){return i.indexOf(t)>-1}))},h=function removeMathJaxA11yFeatures(t){var i=t.querySelector(".MJX_Assistive_MathML");t.removeAttribute("data-mathml"),i&&i.parentNode.removeChild(i)};i.default={postProcessMathJaxV2Nodes:function postProcessMathJaxV2Nodes(t){var i=MathJax.Hub.getAllJax(t);l.default.each(i,(function(t){if(t){var i=function findFrameNodeFor(t){return document.getElementById(t.inputID+"-Frame")}(t);if(i&&!function isFrameNodeAlreadyPostProcessed(t){return t.getAttribute(d)||p(t)}(i)){var u=function getAuthoredAriaLabelNode(t){return function getARIALabelFromWrappingSpan(t){if("span"===t.parentNode.tagName.toLowerCase())return t.parentNode.getAttribute("aria-label")}(t)?t.parentNode:function getARIALabelFromDisplayBlockParent(t){if("div"===t.parentNode.tagName.toLowerCase()&&"MathJax_Display"===t.parentNode.className)return t.parentNode.parentNode.getAttribute("aria-label")}(t)?t.parentNode.parentNode:void 0}(i);u&&function placeAriaLabel(t,i){var u=i.getAttribute("aria-label"),l=document.createElement(i.tagName);h(t),i.removeAttribute("aria-label"),l.setAttribute("aria-label",u),l.setAttribute("role","math"),i.parentNode.insertBefore(l,i),l.appendChild(i)}(i,u),function removeTabIndex(t){t.removeAttribute("tabindex")}(i),function markPostProcessed(t){t.setAttribute(d,"true")}(i)}}}))},preProcessMathJaxV2Nodes:function preProcessMathJaxV2Nodes(){var t=document.querySelectorAll(".lrn math[alttext]");l.default.each(t,(function(t){if(t.parentNode){var i=document.createElement("span"),u=t.getAttribute("alttext");i.setAttribute("aria-label",u),t.parentNode.insertBefore(i,t),i.appendChild(t),t.removeAttribute("alttext")}}))},postProcessMathJaxV3Nodes:function postProcessMathJaxV3Nodes(){document.querySelectorAll("span[aria-label]").forEach((function(t){var i=t.querySelector(":scope > mjx-container");i&&(t.removeAttribute("role"),i.setAttribute("role","math"))}))}}},49279:function(t,i){"use strict";function isChrome(){return navigator.userAgent.includes("Chrome")}function isEdge(){return navigator.userAgent.includes("Edg")}function isFirefox(){return navigator.userAgent.includes("Firefox")}Object.defineProperty(i,"__esModule",{value:!0}),i.isChrome=isChrome,i.isEdge=isEdge,i.isFirefox=isFirefox,i.isSafari=function isSafari(){return navigator.userAgent.includes("Safari")&&!isFirefox()&&!isChrome()&&!isEdge()}},38179:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(2182));i.default={loadClientCSS:function loadClientCSS(t){var i=l.default.isExternalURL(t);i?l.default.containsURLScheme(t)||(t=l.default.DEFAULT_URL_SCHEME+t):t="/stylesheets/css/clients/"+t,LearnosityApp._internal.loadCss(t,i)}}},80098:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.triggerEvent=void 0;i.triggerEvent=function triggerEvent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={detail:t};try{var u=new CustomEvent("learnosity",i);document.dispatchEvent(u)}catch(i){var l=document.createEvent("CustomEvent");l.initCustomEvent("learnosity",!1,!1,t),document.dispatchEvent(l)}}},75078:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=(_interopRequireDefault(u(34651)),_interopRequireDefault(u(33767))),p=_interopRequireDefault(u(21667));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,_toPropertyKey(l.key),l)}}function _defineProperty(t,i,u){return(i=_toPropertyKey(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}u(55689);var h=50,g=0,v=0,y=2,S=70,w=30,E=".lrn_widget",R={STIMULUS:'[data-lrn-widget-component="stimulus"]',INTERACTION:'[data-lrn-widget-component="interaction"]'},A=document;var T=function(){function WidgetLayout(t,i){var u=this;!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,WidgetLayout),_defineProperty(this,"_onOverviewSizeChange",l.default.debounce((function(){var t=u.mode,i=u.$elements,l=u.grid,d=i.$wrapper.width()*l.interaction.width/100<400,p=!d&&"stack"===t;d&&"split"===t?u._setLayoutMode("stack"):p&&u._setLayoutMode("split")}),500)),_defineProperty(this,"onRemove",(function(){A.unbindLeave(u.selector),u.resizeSensor.detach(u._onOverviewSizeChange)})),this.view=t,i&&(this.selector='[id="'.concat(t.model.get("response_id"),'"]'),this.widgetLayout=function invalidateWidgetLayout(t){var i=[];return l.default.each(t.elements,(function(t){var u=t.type;l.default.isString(u)&&u.length&&!l.default.findWhere(i,{type:u})&&i.push(t)})),l.default.each(["stimulus","interaction"],(function(t){l.default.findWhere(i,{type:t})||i.push({type:t})})),t.elements=i,t}(l.default.clone(i)),t.render=l.default.wrap(t.render,(function(i){return i.call(t),u.initialized||(u.initialized=!0,u._prepare(),u._canApplyGridLayout()&&u._applyGridLayout()),t})))}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(WidgetLayout,[{key:"getLayoutElements",value:function getLayoutElements(){return this.widgetLayout.elements}},{key:"_prepare",value:function _prepare(){var t=this.view,i=E,u=R,l=t.$el.closest(i),d=l.find(u.STIMULUS),p=l.find(u.INTERACTION);this.$elements={$wrapper:l,$components:{stimulus:d,interaction:p}}}},{key:"_canApplyGridLayout",value:function _canApplyGridLayout(){var t=this.widgetLayout,i=this.$elements.$components,u=i.stimulus,d=i.interaction;return!!(t&&l.default.isArray(t.elements)&&u.length&&d.length)}},{key:"_applyGridLayout",value:function _applyGridLayout(){var t=this,i=this.view,u=this.selector;this.resizeSensor=(0,p.default)(i.el,(function(){return new d.default(i.el,t._onOverviewSizeChange)})),this._generateLayoutGridData(),this._setGrid(),this._setLayoutMode("split"),this._onOverviewSizeChange(),A.leave(u,this.onRemove)}},{key:"_generateLayoutGridData",value:function _generateLayoutGridData(){var t={},i=this.widgetLayout.elements,u=i.length;l.default.each(i,(function(i,d){return t[i.type]=function getElementLayoutData(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=h,d=S,p=w,E=g,R=v,A=y,T=t.width;l.default.isNumber(T)?T<p?T=p:T>d&&(T=d):T=u;var x=t.padding_left;l.default.isNumber(x)||(x=E),x*=T/100;var C=t.padding_right;return l.default.isNumber(C)||(C=i?A:R),{width:T,paddingLeft:x,paddingRight:C*=T/100}}(i,d===u-1)})),this.grid=t}},{key:"_setGrid",value:function _setGrid(){var t=this.$elements,i=this.widgetLayout,u=this.grid,d=t.$components;t.$wrapper.addClass("clearfix"),l.default.each(i.elements,(function(t){var i=t.type,l=d[i],p=u[i],h=p.width,g=p.paddingLeft,v=p.paddingRight;l.css({width:"".concat(h,"%"),paddingLeft:"".concat(g,"%"),paddingRight:"".concat(v,"%"),float:"left"})}))}},{key:"_unsetGrid",value:function _unsetGrid(){var t=this.$elements,i=this.widgetLayout,u=t.$components,d=t.$wrapper;d.removeClass("clearfix"),l.default.each(i.elements,(function(t){var i=t.type;u[i].css({width:"",paddingLeft:"",paddingRight:"",float:""})}))}},{key:"_setLayoutMode",value:function _setLayoutMode(t){this.mode=t,"split"===t?this._setGrid():"stack"===t&&this._unsetGrid()}}]),WidgetLayout}();i.default=T},28748:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l,d=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(70640));l=d.default.View,d.default.View=function(t){this.options=t||{},l.apply(this,arguments),this.delegateEvents()},d.default.View.prototype=l.prototype,d.default.View.extend=l.extend;i.default=d.default},65154:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l,d=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781));function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return i};var t,i={},u=Object.prototype,l=u.hasOwnProperty,d=Object.defineProperty||function(t,i,u){t[i]=u.value},p="function"==typeof Symbol?Symbol:{},h=p.iterator||"@@iterator",g=p.asyncIterator||"@@asyncIterator",v=p.toStringTag||"@@toStringTag";function define(t,i,u){return Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}),t[i]}try{define({},"")}catch(t){define=function define(t,i,u){return t[i]=u}}function wrap(t,i,u,l){var p=i&&i.prototype instanceof Generator?i:Generator,h=Object.create(p.prototype),g=new Context(l||[]);return d(h,"_invoke",{value:makeInvokeMethod(t,u,g)}),h}function tryCatch(t,i,u){try{return{type:"normal",arg:t.call(i,u)}}catch(t){return{type:"throw",arg:t}}}i.wrap=wrap;var y="suspendedStart",S="suspendedYield",w="executing",E="completed",R={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var A={};define(A,h,(function(){return this}));var T=Object.getPrototypeOf,x=T&&T(T(values([])));x&&x!==u&&l.call(x,h)&&(A=x);var C=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(A);function defineIteratorMethods(t){["next","throw","return"].forEach((function(i){define(t,i,(function(t){return this._invoke(i,t)}))}))}function AsyncIterator(t,i){function invoke(u,d,p,h){var g=tryCatch(t[u],t,d);if("throw"!==g.type){var v=g.arg,y=v.value;return y&&"object"==_typeof(y)&&l.call(y,"__await")?i.resolve(y.__await).then((function(t){invoke("next",t,p,h)}),(function(t){invoke("throw",t,p,h)})):i.resolve(y).then((function(t){v.value=t,p(v)}),(function(t){return invoke("throw",t,p,h)}))}h(g.arg)}var u;d(this,"_invoke",{value:function value(t,l){function callInvokeWithMethodAndArg(){return new i((function(i,u){invoke(t,l,i,u)}))}return u=u?u.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(i,u,l){var d=y;return function(p,h){if(d===w)throw new Error("Generator is already running");if(d===E){if("throw"===p)throw h;return{value:t,done:!0}}for(l.method=p,l.arg=h;;){var g=l.delegate;if(g){var v=maybeInvokeDelegate(g,l);if(v){if(v===R)continue;return v}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(d===y)throw d=E,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);d=w;var A=tryCatch(i,u,l);if("normal"===A.type){if(d=l.done?E:S,A.arg===R)continue;return{value:A.arg,done:l.done}}"throw"===A.type&&(d=E,l.method="throw",l.arg=A.arg)}}}function maybeInvokeDelegate(i,u){var l=u.method,d=i.iterator[l];if(d===t)return u.delegate=null,"throw"===l&&i.iterator.return&&(u.method="return",u.arg=t,maybeInvokeDelegate(i,u),"throw"===u.method)||"return"!==l&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+l+"' method")),R;var p=tryCatch(d,i.iterator,u.arg);if("throw"===p.type)return u.method="throw",u.arg=p.arg,u.delegate=null,R;var h=p.arg;return h?h.done?(u[i.resultName]=h.value,u.next=i.nextLoc,"return"!==u.method&&(u.method="next",u.arg=t),u.delegate=null,R):h:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,R)}function pushTryEntry(t){var i={tryLoc:t[0]};1 in t&&(i.catchLoc=t[1]),2 in t&&(i.finallyLoc=t[2],i.afterLoc=t[3]),this.tryEntries.push(i)}function resetTryEntry(t){var i=t.completion||{};i.type="normal",delete i.arg,t.completion=i}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(i){if(i||""===i){var u=i[h];if(u)return u.call(i);if("function"==typeof i.next)return i;if(!isNaN(i.length)){var d=-1,p=function next(){for(;++d<i.length;)if(l.call(i,d))return next.value=i[d],next.done=!1,next;return next.value=t,next.done=!0,next};return p.next=p}}throw new TypeError(_typeof(i)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,d(C,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),d(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,v,"GeneratorFunction"),i.isGeneratorFunction=function(t){var i="function"==typeof t&&t.constructor;return!!i&&(i===GeneratorFunction||"GeneratorFunction"===(i.displayName||i.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,v,"GeneratorFunction")),t.prototype=Object.create(C),t},i.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,g,(function(){return this})),i.AsyncIterator=AsyncIterator,i.async=function(t,u,l,d,p){void 0===p&&(p=Promise);var h=new AsyncIterator(wrap(t,u,l,d),p);return i.isGeneratorFunction(u)?h:h.next().then((function(t){return t.done?t.value:h.next()}))},defineIteratorMethods(C),define(C,v,"Generator"),define(C,h,(function(){return this})),define(C,"toString",(function(){return"[object Generator]"})),i.keys=function(t){var i=Object(t),u=[];for(var l in i)u.push(l);return u.reverse(),function next(){for(;u.length;){var t=u.pop();if(t in i)return next.value=t,next.done=!1,next}return next.done=!0,next}},i.values=values,Context.prototype={constructor:Context,reset:function reset(i){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!i)for(var u in this)"t"===u.charAt(0)&&l.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(i){if(this.done)throw i;var u=this;function handle(l,d){return h.type="throw",h.arg=i,u.next=l,d&&(u.method="next",u.arg=t),!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var p=this.tryEntries[d],h=p.completion;if("root"===p.tryLoc)return handle("end");if(p.tryLoc<=this.prev){var g=l.call(p,"catchLoc"),v=l.call(p,"finallyLoc");if(g&&v){if(this.prev<p.catchLoc)return handle(p.catchLoc,!0);if(this.prev<p.finallyLoc)return handle(p.finallyLoc)}else if(g){if(this.prev<p.catchLoc)return handle(p.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return handle(p.finallyLoc)}}}},abrupt:function abrupt(t,i){for(var u=this.tryEntries.length-1;u>=0;--u){var d=this.tryEntries[u];if(d.tryLoc<=this.prev&&l.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var p=d;break}}p&&("break"===t||"continue"===t)&&p.tryLoc<=i&&i<=p.finallyLoc&&(p=null);var h=p?p.completion:{};return h.type=t,h.arg=i,p?(this.method="next",this.next=p.finallyLoc,R):this.complete(h)},complete:function complete(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),R},finish:function finish(t){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.finallyLoc===t)return this.complete(u.completion,u.afterLoc),resetTryEntry(u),R}},catch:function _catch(t){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.tryLoc===t){var l=u.completion;if("throw"===l.type){var d=l.arg;resetTryEntry(u)}return d}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(i,u,l){return this.delegate={iterator:values(i),resultName:u,nextLoc:l},"next"===this.method&&(this.arg=t),R}},i}function asyncGeneratorStep(t,i,u,l,d,p,h){try{var g=t[p](h),v=g.value}catch(t){return void u(t)}g.done?i(v):Promise.resolve(v).then(l,d)}function pad(t){var i="0000";return(i+t).slice(-4)}function getLength(t){return null==t?void 0:t.length}d.default.mixin({asyncDefer:(l=function _asyncToGenerator(t){return function(){var i=this,u=arguments;return new Promise((function(l,d){var p=t.apply(i,u);function _next(t){asyncGeneratorStep(p,l,d,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(p,l,d,_next,_throw,"throw",t)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(t){var i,u,l,d=arguments;return _regeneratorRuntime().wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:for(i=d.length,u=new Array(i>1?i-1:0),l=1;l<i;l++)u[l-1]=d[l];return p.abrupt("return",new Promise((function(i){setTimeout((function(){i(t.apply(void 0,u))}),0)})));case 2:case"end":return p.stop()}}),_callee)}))),function asyncDefer(t){return l.apply(this,arguments)}),getNested:function getNested(t,i){if(d.default.isObject(t)){var u=i.match(/(.+?)\.(.*)/);return u?this.getNested(t[u[1]],u[2]):t[i]}},cancellableThrottle:function cancellableThrottle(t,i,u){var l,d,p,h,g=i,v=0,y=0;if("function"!=typeof t)throw new TypeError("Expected a function");function invokeFunc(i){var u=l,h=d;return l=d=void 0,y=i,p=t.apply(h,u)}function shouldInvoke(t){var u=t-v;return!v||u>=i||u<0||t-y>=g}function timerExpired(){var t=Date.now();if(shouldInvoke(t))return trailingEdge(t);h=setTimeout(timerExpired,function remainingWait(t){var u=t-y,l=i-(t-v);return Math.min(l,g-u)}(t))}function trailingEdge(t){return clearTimeout(h),h=void 0,l?invokeFunc(t):(l=d=void 0,p)}function throttled(){var t=Date.now(),g=shouldInvoke(t);return l=arguments,d=this,v=t,g?void 0===h?function leadingEdge(t){return y=t,h=setTimeout(timerExpired,i),u?invokeFunc(t):p}(v):(clearTimeout(h),h=setTimeout(timerExpired,i),invokeFunc(v)):(void 0===h&&(h=setTimeout(timerExpired,i)),p)}return throttled.cancel=function cancel(){void 0!==h&&clearTimeout(h),v=y=0,l=d=h=void 0},throttled.flush=function flush(){return void 0===h?p:trailingEdge(Date.now())},throttled},deepClone:function deepClone(t){if(!t||"object"!==_typeof(t))return t;if(d.default.isString(t))return String.prototype.slice.call(t);if(d.default.isDate(t))return new Date(t.valueOf());if(d.default.isFunction(t.clone))return t.clone();var i,u;if(d.default.isArray(t))i=Array.prototype.slice.call(t);else{if(t.constructor!=={}.constructor)return t;i={}}for(u in t)t.hasOwnProperty(u)&&(i[u]=d.default.deepClone(t[u]));return i},deepExtend:function deepExtend(){var t,i,u,l,p,h,g=arguments[0]||{},v=1,y=getLength(arguments);if("object"===_typeof(g)||d.default.isFunction(g)||(g={}),1===y)return g;for(;v<y;v++)if(null!=(p=arguments[v]))for(l in p)if(p.hasOwnProperty(l)){if(t=g[l],g===(u=p[l]))continue;u&&((i=d.default.isArray(u))||d.default.isObject(u)&&!d.default.isFunction(u))?(i?(i=!1,h=[]):h=t&&d.default.isObject(t)?t:{},g[l]=d.default.deepExtend(h,u)):void 0!==u&&(g[l]=u)}return g},deepSet:function deepSet(t,i,u){var l=i.split("."),p=/[\[-\]]/g,h=/\[[0-9]+\]/,g=/\[*\]/,v=/\[[*]\]|\[[0-9]+\]/g;if(d.default.isArray(t)){var y=l.shift().match(v),S=y.shift(),w=!!S.match(h),E=!!S.match(g),R=Number(S.replace(p,""));if(w&&d.default.isUndefined(t[R]))return;d.default.isEmpty(y)||l.unshift(y.join("")),w?d.default.isEmpty(l)?t[R]=u(t[R]):d.default.deepSet(t[R],l.join("."),u):E&&(d.default.isEmpty(l)?t.forEach((function(i,l){d.default.deepSet(t,"[".concat(l,"]"),u)})):t.forEach((function(t){d.default.deepSet(t,l.join("."),u)})))}else if(d.default.isPlainObject(t)){for(;l.length>1;){var A=l.shift();if(!!A.match(v)){var T=A.match(v).join(""),x=A.replace(T,"");return l.unshift(T),void d.default.deepSet(t[x],l.join("."),u)}var C=t[A];d.default.isUndefined(C)||(t=C)}if(d.default.isPlainObject(t)){var M=l.shift();if(!!M.match(v)){var O=M.match(v).join(""),P=M.replace(O,"");d.default.deepSet(t[P],O,u)}else if(d.default.has(t,M)){var I=t[M];t[M]=u(I)}}}},isPlainObject:function isPlainObject(t){return"[object Object]"===Object.prototype.toString.call(t)},getDayOfYear:function getDayOfYear(t){var i=new Date(t.getFullYear(),0,1);return Math.ceil((new Date(t)-i)/864e5)},getISOString:function getISOString(){var t=new Date;return Date.prototype.toISOString?t.toISOString():t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},deferWithContext:function deferWithContext(t,i){return function(){var u=Array.prototype.slice.call(arguments);setTimeout((function(){t.apply(i,u)}),1)}},exists:function exists(t){return null!=t},hasProperty:function hasProperty(t,i){var u=i.indexOf(".");return""===i||"[object Object]"===Object.prototype.toString.call(t)&&(-1===u?t.hasOwnProperty(i):t.hasOwnProperty(i.substr(0,u))&&this.hasProperty(t[i.substr(0,u)],i.substring(u+1,getLength(i))))},trim:function trim(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},capitalize:function capitalize(t){return t.charAt(0).toUpperCase()+t.substring(1)},insertCharacters:function insertCharacters(t,i,u,l){var d=l-u,p=t.split("");return p.splice(u,d,i),p.join("")},conditionallyBuildString:function conditionallyBuildString(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,d.default)(t).reduce((function(t,u,l){return u?t+i+l:t}),"")},dotToNested:function dotToNested(t){var i={};for(var u in t)if(t.hasOwnProperty(u)){for(var l=u.match(/([^[.\]])+/g),d=i;l.length>1;){var p=l.shift();d=d[p]=d[p]||{}}d[l[0]]=t[u]}return i}});i.default=d.default},62050:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var u="http://www.w3.org/2000/svg",l={},d={isCanvasSupported:function isCanvasSupported(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isHtml5AudioSupported:function isHtml5AudioSupported(){return!!document.createElement("audio").canPlayType},isTouchDevice:function isTouchDevice(){return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof DocumentTouch},isTouchScalable:function isTouchScalable(){var t,i=document.querySelector('meta[name="viewport"]'),u=!1;return i&&(u="string"==typeof(t=i.getAttribute("content"))&&t.indexOf("user-scalable=no")>=0),this.isTouchDevice()&&!u},isPointerEventsSupported:function isPointerEventsSupported(){return!!window.PointerEvent},isPassiveEventListenersSupported:function isPassiveEventListenersSupported(){var t=!1;function noop(){}try{window.addEventListener("scroll",noop,{get passive(){return t=!0,!0}}),window.removeEventListener("scroll",noop)}catch(t){}return t},isSvgSupported:function isSvgSupported(){return!!document.createElementNS&&!!document.createElementNS(u,"svg").createSVGRect},isJsonStringifyBroken:function isJsonStringifyBroken(){return!window.JSON||'{"u":"ó"}'!==window.JSON.stringify({u:"ó"})},isPlaceholderSupported:function isPlaceholderSupported(){return"placeholder"in document.createElement("input")},getOs:function getOs(){var t=navigator.appVersion,i="unknown";return-1!==t.indexOf("Win")&&(i="windows"),-1!==t.indexOf("Mac")&&(i="osx"),-1!==t.indexOf("X11")&&(i="unix"),-1!==t.indexOf("Linux")&&(i="linux"),i},getRecorderMediaType:function getRecorderMediaType(t){var i;if("undefined"!=typeof MediaRecorder)for(var u=0;u<t.length;u++)if(MediaRecorder.isTypeSupported(t[u])){i=t[u];break}return i},isTextareaMaxlengthSupported:function isTextareaMaxlengthSupported(){return void 0===document.createElement("textarea").maxLength},isDropzoneSupported:function isDropzoneSupported(){var t=document.createElement("span");return"webkitdropzone"in t||"mozdropzone"in t||"msdropzone"in t||"odropzone"in t},hasLayout:function hasLayout(){return!0===(document.body.currentStyle&&document.body.currentStyle.hasLayout)},isGetUserMediaSupported:function isGetUserMediaSupported(){return"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices},isMediaCaptureSupported:function isMediaCaptureSupported(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder)}};function getSupport(t,i){return function(){var u=t;return i&&(u+=JSON.stringify(arguments)),l.hasOwnProperty(u)?l[u]:!!d[t]&&(l[u]=d[t].apply(this,arguments),l[u])}}i.default={isCanvasSupported:getSupport("isCanvasSupported"),isHtml5AudioSupported:getSupport("isHtml5AudioSupported"),isTouchDevice:getSupport("isTouchDevice"),isTouchScalable:getSupport("isTouchScalable"),isPointerEventsSupported:getSupport("isPointerEventsSupported"),isPassiveEventListenersSupported:getSupport("isPassiveEventListenersSupported"),isJsonStringifyBroken:getSupport("isJsonStringifyBroken"),isSvgSupported:getSupport("isSvgSupported"),isPlaceholderSupported:getSupport("isPlaceholderSupported"),isGetUserMediaSupported:getSupport("isGetUserMediaSupported"),isMediaCaptureSupported:getSupport("isMediaCaptureSupported"),getOs:getSupport("getOs"),isTextareaMaxlengthSupported:getSupport("isTextareaMaxlengthSupported"),isDropzoneSupported:getSupport("isDropzoneSupported"),hasLayout:getSupport("hasLayout"),getRecorderMediaType:getSupport("getRecorderMediaType",!0)}},21667:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(34651));_interopRequireDefault(u(16104));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var d=[],p="lrn-hidden-element-helper",h="lrn-hidden-element-shown";function getHiddenObject(t,i){for(var u=0;u<d.length;u++)if(d[u].el===t)return i?u:d[u]}var g=function HiddenElementHelper(t){this.$target=(0,l.default)(t)};g.prototype.makeVisible=function(){var t=[];function cacheHiddenAncestors(i,u){!i||!u&&i.clientWidth||(u&&i.classList.contains(h)&&u--,t.push(i),cacheHiddenAncestors(i.parentElement,u))}if(document.body.id||(document.body.id=p),document.body.classList.add(p),this.$target.each((function(){cacheHiddenAncestors(this,(0,l.default)(this).parents().addBack().filter("."+h).length)})),this.$hiddenElements=(0,l.default)(t),this.$hiddenElements.length){var i=this;this.$hiddenElements.each((function(){!function addHiddenObject(t,i){var u=getHiddenObject(t);u?u.instances.push(i):t&&t.classList&&(t.classList.add(h),d.push({el:t,instances:[i]}))}(this,i)}))}},g.prototype.restore=function(){var t=this;this.$hiddenElements.each((function(){!function restoreHiddenObject(t,i){var u,l=getHiddenObject(t);l&&(1===l.instances.length?(t.classList.remove(h),u=getHiddenObject(t,!0),d.splice(u,1)):(u=l.instances.indexOf(i))>-1&&l.instances.splice(u,1))}(this,t)})),document.body.id!==p||d.length||(document.body.id=""),document.body.classList.remove(p)};i.default=function makeVisibleAndDispatch(t,i){var u,l=!!i.length,d=new g(t);function restore(){d.restore()}return d.makeVisible(),l?u=i(restore):(u=i(),restore()),u}},83374:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=_interopRequireDefault(u(89094)),h=_interopRequireDefault(u(70034)),g=_interopRequireDefault(u(16104));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v="lrn-loading-image-hidden",y="lrn-image-load-error-spinner-container";function getImagePromise(t){return new h.default((function(i,u){t.onload=i,t.onerror=u}))}function loadImage(t){return new h.default((function(i,u){!function handleImageLoad(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};t.retryCount>0&&function addLoadingSpinnerOverlay(t){var i=(0,d.default)(t);i.siblings("."+y).length||i.addClass(v).after((0,p.default)())}(t.el);function removeSpinnerIfHasRetried(){t.retryCount>0&&function removeLoadingSpinnerOverlay(t){(0,d.default)(t).removeClass(v).siblings("."+y).remove()}(t.el)}t.promise.then((function(){removeSpinnerIfHasRetried(),t.retryCount=0,i(t.el)})).catch((function(){removeSpinnerIfHasRetried(),t.retryCount++,u(t.el)}))}(t,i,u)}))}function resetImage(t){if(t.retryCount>0){var i,u=t.el,l=t.originalSrc;t.el.removeAttribute("src"),i=t.el.cloneNode(!1),t.el=i,t.promise=getImagePromise(t.el),u.parentNode.replaceChild(t.el,u),g.default.isMicrosoft&&(l+="&bust="+ +new Date),t.el.setAttribute("src",l)}}i.default=function imageLoader(t,i){var u,d,p=(null==i?void 0:i.blacklist)||[];return function(){return u=u||t.getElementsByTagName("img"),u=l.default.filter(u,(function(t){return!p.some((function(i){return t.matches(i)}))})),d?(0,l.default)(d).forEach(resetImage):d=function getImageMap(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,l.default)(Array.prototype.slice.call(t)).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{el:t,originalSrc:t.src,retryCount:0,promise:getImagePromise(t)}}))}(u),new h.default((function(t,i){0!==d.length?h.default.all((0,l.default)(d).map(loadImage)).then(t).catch(i):t(d)}))}}},19491:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;_interopRequireDefault(u(70640));var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(70034)),p=_interopRequireDefault(u(83374));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}i.default=function(){function ImageLoader(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,ImageLoader),!l.default.isElement(t.element))throw new Error("The type of the element passed to ImageLoader is not HTMLDivElement");this.element=t.element,this.imageLoadPromise=null,this.loader=(0,p.default)(this.element,{blacklist:(null==t?void 0:t.blacklist)||[]})}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(ImageLoader,[{key:"addFacadeMethods",value:function addFacadeMethods(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.checkImages=l.default.bind((function(){return this.checkImages()}),this),t.retryLoadImages=l.default.bind((function(){this.loadImages()}),this)}},{key:"checkImages",value:function checkImages(){var t=this;return new d.default((function(i,u){return t.imageLoadPromise.then(i,u)}))}},{key:"loadImages",value:function loadImages(){var t=this;this.imageLoadPromise=new d.default((function(i,u){t.loader().then(i).catch((function(){u(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}))})),this.imageLoadPromise.then(null).catch((function(){}))}}]),ImageLoader}()},805:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=(_interopRequireDefault(u(62050)),_interopRequireDefault(u(41507))),h=_interopRequireDefault(u(74691)),g=_interopRequireDefault(u(78197)),v=_interopRequireDefault(u(70034)),y=_interopRequireDefault(u(34651));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var S=!1,w=[],E=!1,R=null;function isMathJaxV2(){return parseInt(window.MathJax.version)<3}i.default=d.default.extend({EVENT:{RENDERED:"rendered"},isInitialised:function isInitialised(){var t;return!d.default.isUndefined(null===(t=window.MathJax)||void 0===t?void 0:t.version)||S},init:function init(){var t=this;return new v.default((function(i,l){var g;if(d.default.isUndefined(null===(g=window.MathJax)||void 0===g?void 0:g.version)&&!S){var v=t;S=!0,d.default.isUndefined(window.MathJax)&&(window.MathJax={loader:{load:["[mml]/mml3"]},startup:{ready:function ready(){var t=window.MathJax._.input.mathml.mml3.mml3.Mml3;window.MathJax.startup.defaultReady();var i=new t(window.MathJax.startup.document),u=window.MathJax.startup.document.adaptor,l=new XSLTProcessor,d=u.parse(t.XSLT,"text/xml");l.importStylesheet(d),i.transform=function(t){var i=u.node("div",{},[u.clone(t)]),d=u.parse(u.serializeXML(i),"text/xml"),p=l.transformToDocument(d);return p?u.tags(p,"math")[0]:t};var p=window.MathJax.startup.document.inputJax[1];p.mmlFilters.items.pop(),p.mmlFilters.add(i.mmlFilter.bind(i))}},options:{enableMenu:!1,ignoreHtmlClass:"lrn_noMath"},tex:{inlineMath:[["\\(","\\)"],["$$","$$"]],displayMath:[["\\[","\\]"]],macros:{abs:["{|#1|}",1],degree:["°"],longdiv:["{\\enclose{longdiv}{#1}}",1],atomic:["{_{#1}^{#2}}",2],polyatomic:["{_{#2}{}^{#1}}",2],circledot:["{\\odot}"],parallelogram:["\\unicode{x25B1}"],ngtr:["\\unicode{x226F}"],nless:["\\unicode{x226E}"],MathQuillVarField:["#1",1],overarc:["{\\overparen{#1}}",1]}},chtml:{minScale:1,matchFontHeight:!1,fontURL:p.default.assetsHost+"/fonts/MathJax/HTML-CSS/TeX/woff"}}),u.e(1445).then(u.bind(u,13075)).then((function(){window.MathJax.startup.promise.then((function(){S=!1,v._triggerRendered(),i()}))})).catch((function(t){h.default.log("Math rendering error: "+t),S=!1,l()}))}}))},preventReRender:function preventReRender(t){var i=t.querySelectorAll('script[type="math/tex"]');d.default.each(i,(function(t){t.parentNode.removeChild(t)}))},_triggerRendered:function _triggerRendered(){isMathJaxV2()||g.default.postProcessMathJaxV3Nodes(),w.length?this._renderFromQueue():this.trigger(this.EVENT.RENDERED)},_renderFromQueue:function _renderFromQueue(){var t,i,u=this;return!1===E&&(R=new v.default((function(l){if(0!==w.length){if(t=w.shift(),E=!0,isMathJaxV2()){var d=Array.isArray(t.el)?null:t.el;window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,d],(function(){for(g.default.postProcessMathJaxV2Nodes(d),i=0;i<t.callbacks.length;i++)t.callbacks[i]()}))}else{for(i=0;i<t.callbacks.length;i++)t.callbacks[i]();window.MathJax.startup.promise.then((function(){var i;if(null!==(i=t)&&void 0!==i&&i.el){var u=Array.isArray(t.el)?t.el.map((function(t){return(0,y.default)("[data-lrn-widget-container=".concat(t,"]"))[0]})):[t.el];return window.MathJax.typesetPromise(u)}return window.MathJax.typesetPromise()}))}E=!1,u._triggerRendered(),l()}else l()}))),R},render:function render(t,i){var u;return function addTypesetCallToTheQueue(t,i){var u,l,p;for(u=0;u<w.length;u++)if(w[u].el===t){if(d.default.isFunction(i)){for(l=0;l<w[u].callbacks.length;l++)if(w[u].callbacks[l]===i)return;w[u].callbacks.push(i)}return}p={el:t,callbacks:[]},d.default.isFunction(i)&&p.callbacks.push(i),w.push(p)}(t,i),!S&&null!==(u=window.MathJax)&&void 0!==u&&u.version?this._renderFromQueue():v.default.resolve()},remove:function remove(t){var i,u;if(t&&!S&&window.MathJax&&(u=window.MathJax.Hub.getAllJax(t),d.default.isArray(u)))for(i=0;i<u.length;i++)window.MathJax.Hub.Queue(["Remove",u[i]])}},l.default.Events)},2507:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(34651)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(21667)),h=_interopRequireDefault(u(46759)),g=_interopRequireDefault(u(70034));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v=[[/(?:\$\$)(.*?)(?:\$\$)/g,"span"],[/(?:\\\()(.*?)(?:\\\))/g,"span"],[/(?:\\\[)(.*?)(?:\\\])/g,"div"]],y="lrn_widget",S="lrn_math_static",w="lrn_math_renderer_processed",E='[data-lrn-component="content"]';function MathQuillRenderer(t){this.options={disableItalics:!!t}}function prepareTextNodes(t){var i;return t.each((function(){var t,u,p,h=function getTextNodesIn(t,i){var u=[],l=/\S/;return function containsMathDelimiters(t){var i=t.textContent||t.innerText;return d.default.any(v,(function(t){return i.match(t[0])}))}(t)&&function getTextNodes(t){var d;if(3===t.nodeType)(i||l.test(t.nodeValue))&&u.push(t);else for(d=0;d<t.childNodes.length;d++)getTextNodes(t.childNodes[d])}(t),u}(this);for(p=0;p<h.length;p++)h[p]&&h[p].nodeValue&&(u=replaceText(t=d.default.escape(h[p].nodeValue)))!==t&&((0,l.default)(u).insertBefore(h[p]),h[p].parentNode.removeChild(h[p]),i=!0)})),i}function renderPrepared(t,i){var v=t.find("."+S).not("."+w);return new g.default((function(t){u.e(7173).then(u.t.bind(u,40719,23)).then((function(u){var y=[];u=u.default?u.default:u,v.each((function(){var t=(0,l.default)(this),v=t.find(E).get(0);y.push(new g.default((function(l){(0,p.default)(t,(function(){var p=u.InertMath(v,i);!function setupHiddenAriaElement(t,i,u){var l=t.parent().parent().attr("aria-label"),p=function placeLabel(i){i=d.default.escape(i),t.prepend('<span class="lrn-spokenmath">'.concat(i,"</span>")).find(E).attr("role","math").children().attr("aria-hidden","true"),u()};l?p(l):h.default.translateOrEmptyString(i,p)}(t,p.latex(),l)})),t.addClass(w)})))})),g.default.all(y).then(t)}))}))}function replaceText(t){var i,u,l=t,d=!1;for(i=0;i<v.length;i++)u=t.replace(v[i][0],(function(t,u){return"<".concat(v[i][1],' class="').concat(S,'">\n                    <').concat(v[i][1],' data-lrn-component="content">\n                        ').concat(u,"\n                    </").concat(v[i][1],">\n                </").concat(v[i][1],">")})),t!==u&&"div"===v[i][2]&&(d=!0),t=u;return l!==t&&(t=d?"<div>"+t+"</div>":"<span>"+t+"</span>"),t}d.default.extend(MathQuillRenderer.prototype,{render:function render(t,i){var u;return t?!0===i?u=(0,l.default)(t):0===(u=(0,l.default)(t).hasClass(y)?(0,l.default)(t):(0,l.default)(t).parents("."+y)).length&&(u=(0,l.default)(t).find("."+y)):u=(0,l.default)(".lrn").filter((function(){return 0===(0,l.default)(this).parents(".lrn").length})),u.length&&prepareTextNodes(u)?renderPrepared(u,this.options):new g.default((function(t){t("Nothing to render")}))}});i.default=MathQuillRenderer},22100:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(74691)),h=u(4027);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var g=!1;i.default=d.default.extend({isInitialised:function isInitialised(){return g},init:function init(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(g)t&&t();else{var i="WebAssembly"in window,u="Worker"in window;i?u?(window.mathrust=(0,h.createWorkerProcessor)("mathrust",[LearnosityApp._internal.config.assetsHost+"/dist/vendor/mathrust-mathcore/lib/pyodide.js"],t),g=!0):p.default.log("Your browser does not support Web Workers, which are required for enhanced math scoring."):p.default.log("Your browser does not support Web Assembly, which is required for enhanced math scoring.")}}},l.default.Events)},72895:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(74691)),d=_interopRequireDefault(u(73781));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperty(t,i,u){return(i=function _toPropertyKey(t){var i=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===_typeof(i)?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[i]=u,t}var p={TOKEN:"token"},h={QUERY_PARAMETERS:p,addTokenControlledAssets:_addTokenControlledAssets,appendTokensToString:appendTokensToString,getFacade:function getFacade(){return{appendTokensToString:appendTokensToString,removeTokensFromString:removeTokensFromString,get currentTokenControlledAssets(){return getTokenControlledAssets()},addTokenControlledAssets:function addTokenControlledAssets(t,i){return _addTokenControlledAssets(t,d.default.extend({},i,{wasCalledViaPublicMethod:!0}))}}},getTokenControlledAssets:getTokenControlledAssets,init:function init(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.default.isObject(t.token_controlled_assets)&&_addTokenControlledAssets(t.token_controlled_assets,{omitExistingAssets:!0});return h},removeTokensFromString:removeTokensFromString,UNSAFE_reset:function reset(){return g={},h}},g={};function _addTokenControlledAssets(t,i){var u,p=d.default.extend({omitExistingAssets:!1,wasCalledViaPublicMethod:!1},i),h=function processNewAssets(t,i){if(i.omitExistingAssets)return d.default.omit(t,d.default.keys(g));return t}(t,p),v=d.default.keys(g),y=d.default.keys(h);if(d.default.every(y,isValidUrl)||(u="Media Vault URLs must be valid URLs"),d.default.isEmpty(d.default.intersection(v,y))||(u="Media Vault URLs must be unique"),u)throw p.wasCalledViaPublicMethod?l.default.exception({detail:u,code:10031}):l.default.exception({detail:u,code:10001}),new Error(u);return g=d.default.extend({},g,h),!0}function appendTokensToString(t){if("string"!=typeof t||d.default.isEmpty(g))return t;var i=removeTokensFromString(t);return d.default.each(g,(function(t,u){var l=buildUrlWithToken(u,t),d=new RegExp(u,"g");i=i.replace(d,l)})),i}function buildUrlWithToken(t,i){var u=new URLSearchParams(_defineProperty({},p.TOKEN,i));return new URL("".concat(t,"?").concat(u)).toString()}function getTokenControlledAssets(){return d.default.clone(g)}function isValidUrl(t){var i=!0;try{new URL(t)}catch(t){i=!1}return i}function removeTokensFromString(t){if("string"!=typeof t||d.default.isEmpty(g))return t;var i=t;return d.default.forEach(g,(function(t,u){var l=buildUrlWithToken(u,t),d=u;i=i.replaceAll(l,d)})),i}i.default=h},9814:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(34651));var d=function Tab(t){this.element=(0,l.default)(t)},p=[];function eventHandler(t){var i=(0,l.default)(this),u=i.data("lrn.tab");"click"!==t.type&&0!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),u||(u=new d(this),i.data("lrn.tab",u),p.push(u)),u.show())}d.prototype.show=function(){var t,i=this.element,u=i.closest("ul:not(.dropdown-menu)"),l=i.data("tab-target");l||(l=(l=i.attr("href"))&&l.replace(/.*(?=#[^\s]*$)/,"")),t=u.next(".tab-content").find(l),this.activate(i.parent("li"),u),this.activate(t,t.parent())},d.prototype.activate=function(t,i){var u=i.find("> .active");u.find("> .dropdown-menu > .active").addBack().removeClass("active"),t.addClass("active").removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),u.removeClass("in")};i.default={init:function init(){(0,l.default)("body").on("click.lrn.tab.data-api keypress.lrn.tab.data-api",'.lrn [data-toggle="tab"], .lrn [data-toggle="pill"]',eventHandler)},reset:function reset(){for(var t=p.length-1;t>=0;t--)(0,l.default)(p[t].element).removeData("lrn.tab");p=[],(0,l.default)("body").off("click.lrn.tab.data-api")}}},70034:function(t,i){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function isFunction(t){return"[object Function]"===Object.prototype.toString.call(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,window.Promise=function _nativePromise(){var t,i=!1;return isFunction(window.Promise)&&isFunction(window.Promise.all)&&isFunction(window.Promise.resolve)&&isFunction(window.Promise.reject)&&isFunction((t=new Promise((function(t,i){t()}))).then)&&isFunction(t.catch)&&(i=!0),i}()?window.Promise:function _promisePolyfill(){var t,i,u,l=Object.prototype.toString,d="undefined"!=typeof setImmediate?function timer(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function builtInProp(t,i,u,l){return Object.defineProperty(t,i,{value:u,writable:!0,configurable:!1!==l})}}catch(i){t=function builtInProp(t,i,u){return t[i]=u,t}}function schedule(t,l){u.add(t,l),i||(i=d(u.drain))}function isThenable(t){var i,u=_typeof(t);return null===t||"object"!==u&&"function"!==u||(i=t.then),"function"==typeof i&&i}function notify(){for(var t=0;t<this.chain.length;t++)notifyIsolated(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function notifyIsolated(t,i,u){var l,d;try{!1===i?u.reject(t.msg):(l=!0===i?t.msg:i.call(void 0,t.msg))===u.promise?u.reject(new TypeError("Promise-chain cycle")):(d=isThenable(l))?d.call(l,u.resolve,u.reject):u.resolve(l)}catch(t){u.reject(t)}}function resolve(t){var i,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(i=isThenable(t))?schedule((function(){var l=new MakeDefWrapper(u);try{i.call(t,(function $resolve$(){resolve.apply(l,arguments)}),(function $reject$(){reject.apply(l,arguments)}))}catch(t){reject.call(l,t)}})):(u.msg=t,u.state=1,u.chain.length>0&&schedule(notify,u))}catch(t){reject.call(new MakeDefWrapper(u),t)}}}function reject(t){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=t,i.state=2,i.chain.length>0&&schedule(notify,i))}function iteratePromises(t,i,u,l){for(var d=0;d<i.length;d++)!function IIFE(d){t.resolve(i[d]).then((function $resolver$(t){u(d,t)}),l)}(d)}function MakeDefWrapper(t){this.def=t,this.triggered=!1}function MakeDef(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Promise(t){if("function"!=typeof t)throw new TypeError("Not a function");if(0!==this.__NPO__)throw new TypeError("Not a promise");this.__NPO__=1;var i=new MakeDef(this);this.then=function then(t,u){var l={success:"function"!=typeof t||t,failure:"function"==typeof u&&u};return l.promise=new this.constructor((function extractChain(t,i){if("function"!=typeof t||"function"!=typeof i)throw new TypeError("Not a function");l.resolve=t,l.reject=i})),i.chain.push(l),0!==i.state&&schedule(notify,i),l.promise},this.catch=function $catch$(t){return this.then(void 0,t)};try{t.call(void 0,(function publicResolve(t){resolve.call(i,t)}),(function publicReject(t){reject.call(i,t)}))}catch(t){reject.call(i,t)}}u=function Queue(){var t,u,l;function Item(t,i){this.fn=t,this.self=i,this.next=void 0}return{add:function add(i,d){l=new Item(i,d),u?u.next=l:t=l,u=l,l=void 0},drain:function drain(){var l=t;for(t=u=i=void 0;l;)l.fn.call(l.self),l=l.next}}}();var p=t({},"constructor",Promise,!1);return Promise.prototype=p,t(p,"__NPO__",0,!1),t(Promise,"resolve",(function Promise$resolve(t){return t&&"object"===_typeof(t)&&1===t.__NPO__?t:new this((function executor(i,u){if("function"!=typeof i||"function"!=typeof u)throw new TypeError("Not a function");i(t)}))})),t(Promise,"reject",(function Promise$reject(t){return new this((function executor(i,u){if("function"!=typeof i||"function"!=typeof u)throw new TypeError("Not a function");u(t)}))})),t(Promise,"all",(function Promise$all(t){var i=this;return"[object Array]"!==l.call(t)?i.reject(new TypeError("Not an array")):0===t.length?i.resolve([]):new i((function executor(u,l){if("function"!=typeof u||"function"!=typeof l)throw new TypeError("Not a function");var d=t.length,p=[],h=0;p.length=d,iteratePromises(i,t,(function resolver(t,i){p[t]=i,++h===d&&u(p)}),l)}))})),t(Promise,"race",(function Promise$race(t){var i=this;return"[object Array]"!==l.call(t)?i.reject(new TypeError("Not an array")):new i((function executor(u,l){if("function"!=typeof u||"function"!=typeof l)throw new TypeError("Not a function");iteratePromises(i,t,(function resolver(t,i){u(i)}),l)}))})),Promise}();i.default=window.Promise},37086:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781));function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var d={stagger:!1,stagger_interval:250},p=function(){function RenderOptimizationHelper(t){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,RenderOptimizationHelper),this.options=t,this.run()}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(RenderOptimizationHelper,[{key:"deferRenderOptions",get:function get(){if(!this.isRenderDeferred)return null;var t=l.default.isObject(this.renderOptimizationOptions.defer_render)?this.renderOptimizationOptions.defer_render:{};return{stagger:l.default.isBoolean(t.stagger)?t.stagger:d.stagger,stagger_interval:l.default.isNumber(t.stagger_interval)?t.stagger_interval:d.stagger_interval}}},{key:"renderOptimizationOptions",get:function get(){var t=this.options.activity.get("render_optimization");return l.default.isObject(t)?t:{}}},{key:"isRenderDeferred",get:function get(){return!!this.renderOptimizationOptions.defer_render}},{key:"isRenderStaggered",get:function get(){return!l.default.isNull(this.deferRenderOptions)&&this.deferRenderOptions.stagger}},{key:"isStaggeredRenderingRunning",get:function get(){return l.default.isNumber(this.timeoutID)}},{key:"unrenderedWidgets",get:function get(){var t=this.options.app,i=[].concat(_toConsumableArray(l.default.values(t.questions())),_toConsumableArray(l.default.values(t.features())));return l.default.reject(i,(function(t){return t.isRendered()||!l.default.isFunction(t.render)}))}},{key:"destroy",value:function destroy(){clearTimeout(this.timeoutID),delete this.timeoutID}},{key:"renderRandomWidgetInBackgroundAtInterval",value:function renderRandomWidgetInBackgroundAtInterval(){var t=this;if(this.isRenderStaggered&&!l.default.isEmpty(this.unrenderedWidgets)&&!this.isStaggeredRenderingRunning){var i=l.default.random(0,this.unrenderedWidgets.length-1),u=this.unrenderedWidgets[i];this.timeoutID=setTimeout((function(){delete t.timeoutID,u.render(),t.renderRandomWidgetInBackgroundAtInterval()}),this.deferRenderOptions.stagger_interval)}}},{key:"run",value:function run(){this.renderRandomWidgetInBackgroundAtInterval()}}]),RenderOptimizationHelper}();i.default=p},89393:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var u={RIGHT:"ArrowRight",LEFT:"ArrowLeft"};function getTextDirection(){return window.LearnosityApp._internal.config.textDirection}function isRtl(){return"rtl"===getTextDirection()||"ltr-rtl"===getTextDirection()}i.default={direction:u,isRtl:isRtl,getTextDirection:getTextDirection,getDirection:function getDirection(){return isRtl()?"rtl":"ltr"},getKeyDirection:function getKeyDirection(t){if(isRtl()){if(t===u.LEFT)return u.RIGHT;if(t===u.RIGHT)return u.LEFT}return t},getPreviousIndex:function getPreviousIndex(t,i){return isRtl()?t===i.length-1?0:t+1:t?t-1:i.length-1},getNextIndex:function getNextIndex(t,i){return isRtl()?t?t-1:i.length-1:t===i.length-1?0:t+1}}},46759:function(t,i,u){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireWildcard(t,i){if(!i&&t&&t.__esModule)return t;if(null===t||"object"!=_typeof(t)&&"function"!=typeof t)return{default:t};var u=_getRequireWildcardCache(i);if(u&&u.has(t))return u.get(t);var l={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in t)if("default"!==p&&Object.prototype.hasOwnProperty.call(t,p)){var h=d?Object.getOwnPropertyDescriptor(t,p):null;h&&(h.get||h.set)?Object.defineProperty(l,p,h):l[p]=t[p]}return l.default=t,u&&u.set(t,l),l}(u(14218));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var i=new WeakMap,u=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?u:i})(t)}function SpokenMath(){}SpokenMath.translate=l.Core.translate.bind(l.Core,null),SpokenMath.translateOrEmptyString=function(t,i){if(""===t)i("");else try{SpokenMath.translate(t,(function(t,u){i(t?u||"":u)}))}catch(t){i("")}};i.default=SpokenMath},67908:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(70034));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p=function IndexedStorage(t){if(!window.indexedDB)throw new Error("Storage Error: IndexedDB is not supported");if(l.default.isEmpty(t)||!l.default.isString(t.name)||!l.default.isNumber(t.version)||t.version<1||!l.default.isArray(t.stores)||0===t.stores.length)throw new Error("Storage Error: incorrect database configuration passed");this.name=t.name,this.version=t.version,this.storeDefinitions=t.stores,this.databasePromise=null};function doObjectStoreAction(t,i,u,d){return l.default.isUndefined(d)||l.default.isNull(d)?t[i](u):t[i](u,d)}l.default.extend(p.prototype,{get:function get(t,i){return this._execute("get",(function(u,l,d){var p=u.transaction(t,"readonly").objectStore(t).get(i);p.onsuccess=function(){l(p.result)}}))},set:function set(t,i,u){return this._execute("set",(function(l,d,p){doObjectStoreAction(l.transaction(t,"readwrite").objectStore(t),"put",i,u).onsuccess=d}))},update:function update(t,i,u,d){return this._execute("set",(function(p,h,g){var v=p.transaction(t,"readwrite").objectStore(t),y=v.get(l.default.isEmpty(u)?i[v.keyPath]:u);y.onsuccess=function(){if(!y.result&&d)return g("Storage Error running update: missing object"),void v.transaction.abort();var t,p=l.default.deepExtend({},y.result,i);l.default.isEmpty(u)||(t=u),doObjectStoreAction(v,"put",p,t).onsuccess=h}}))},add:function add(t,i,u){return this._execute("add",(function(l,d,p){doObjectStoreAction(l.transaction(t,"readwrite").objectStore(t),"add",i,u).onsuccess=d}))},remove:function remove(t,i){return this._execute("remove",(function(u,l,d){u.transaction(t,"readwrite").objectStore(t).delete(i).onsuccess=l}))},clear:function clear(t){return this._execute("clear",(function(i,u,l){i.transaction(t,"readwrite").objectStore(t).clear().onsuccess=u}))},getAll:function getAll(t,i){return this._execute("getAll",(function(u,d,p){if(0!==i.length){var h=0,g=[];i=l.default.sortBy(i),u.transaction(t,"readonly").objectStore(t).openCursor().onsuccess=function(t){var u=t.target.result;if(u){for(var l=u.key;l>i[h];)if((h+=1)===i.length)return void d(g);l===i[h]?(g.push(u.value),u.continue()):u.continue(i[h])}else d(g)}}else d([])}))},setAll:function setAll(t,i,u){return this._execute("setAll",(function(d,p,h){if(l.default.isArray(u)&&i.length!==u.length)h("Storage Error running setAll: keys array provided with different length to values array");else{var g=d.transaction(t,"readwrite").objectStore(t),v=-1;!function insertObject(){var t;(v+=1)<i.length?(l.default.isArray(u)&&(t=u[v]),doObjectStoreAction(g,"put",i[v],t).onsuccess=insertObject):p()}()}}))},addAll:function addAll(t,i,u){return this._execute("addAll",(function(d,p,h){if(l.default.isArray(u)&&i.length!==u.length)h("Storage Error running addAll: keys array provided with different length to values array");else{var g=d.transaction(t,"readwrite").objectStore(t),v=-1;!function insertObject(){var t;(v+=1)<i.length?(l.default.isArray(u)&&(t=u[v]),doObjectStoreAction(g,"add",i[v],t).onsuccess=insertObject):p()}()}}))},updateAll:function updateAll(t,i,u,d){return this._execute("setPartials",(function(p,h,g){var v,y=p.transaction(t,"readwrite").objectStore(t);l.default.isArray(u)&&i.length!==u.length?g("Storage Error running updateAll: keys array provided with different length to partialValues array"):!l.default.isArray(u)||l.default.isEmpty(y.keyPath)?l.default.isArray(u)||!l.default.isEmpty(y.keyPath)?(v=-1,function updateObject(){if((v+=1)<i.length){var t=i[v],p=l.default.isArray(u)?u[v]:t[y.keyPath],S=y.get(p);S.onsuccess=function(){if(!S.result)return g("Storage Error running updateAll: missing object for key: "+p),void y.transaction.abort();var i,h=S.result;l.default.isArray(u)&&(i=p),l.default.isString(d)&&t[d]!==h[d]?updateObject():(h=l.default.deepExtend({},h,t),doObjectStoreAction(y,"put",h,i).onsuccess=updateObject)}}else h()}()):g("Storage Error running updateAll: no keys provided and storage doesn't have keyPath"):g("Storage Error running updateAll: keys array provided but storage is defined with keyPath")}))},getAllByIndex:function getAllByIndex(t,i){return this._execute("getAllByIndex",(function(u,l,d){var p=u.transaction(t,"readonly").objectStore(t).index(i),h=[];p.openCursor().onsuccess=function(){var t=event.target.result;t?(h.push(t.value),t.continue()):l(h)}}))},getWithValue:function getWithValue(t,i){return this._execute("getWithValue",(function(u,l,d){var p=u.transaction(t,"readonly").objectStore(t).get(i);p.onsuccess=function(t){l(t.target.result)},p.onerror=function(t){d(t)}}))},getAllByIndexWithValue:function getAllByIndexWithValue(t,i,u,l){return l=l||"==",this._execute("getAllByIndexWithValue",(function(d,p,h){var g,v=d.transaction(t,"readonly").objectStore(t).index(i),y=[];switch(l){case">":g=window.IDBKeyRange.lowerBound(u,!0);break;case">=":g=window.IDBKeyRange.lowerBound(u);break;case"<":g=window.IDBKeyRange.upperBound(u,!0);break;case"<=":g=window.IDBKeyRange.upperBound(u);break;default:g=window.IDBKeyRange.only(u)}v.openCursor(g).onsuccess=function(){var t=event.target.result;t?(y.push(t.value),t.continue()):p(y)}}))},getAllByIndexBetweenValues:function getAllByIndexBetweenValues(t,i,u,l,d){return d=!!d,this._execute("getAllByIndexWithValue",(function(p,h,g){var v=p.transaction(t,"readonly").objectStore(t).index(i),y=window.IDBKeyRange.bound(u,l,d,d),S=[];v.openCursor(y).onsuccess=function(){var t=event.target.result;t?(S.push(t.value),t.continue()):h(S)}}))},_execute:function _execute(t,i){return this._openDatabase().then((function(u){return new d.default((function(l,d){u.onerror=function(i){d("Storage Error running "+t+": "+(i.target?i.target.error.name+" "+i.target.error.message:i.message))},i(u,l,d)}))}))},_openDatabase:function _openDatabase(){if(!this.databasePromise){var t=this;this.databasePromise=new d.default((function(i,u){try{var d=window.indexedDB.open(t.name,t.version);d.onerror=function(t){u("Storage Error: database open error: "+(t.target?t.target.error:t.toString()))},d.onsuccess=function(t){i(t.target.result)},d.onupgradeneeded=function(i){var d=i.target.result,p=i.target.transaction,h=l.default.difference(d.objectStoreNames,l.default.pluck(t.storeDefinitions,"name"));try{l.default.each(t.storeDefinitions,(function(t){var i,u;i=l.default.contains(d.objectStoreNames,t.name)?p.objectStore(t.name):d.createObjectStore(t.name,t.optionalParameters),u=l.default.difference(i.indexNames,l.default.pluck(t.indices,"name")),l.default.each(t.indices,(function(t){l.default.contains(i.indexNames,t.name)||i.createIndex(t.name,t.keyPath,{unique:!0===t.unique})})),l.default.each(u,(function(t){i.deleteIndex(t)}))})),l.default.each(h,(function(t){d.deleteObjectStore(t)}))}catch(t){u("Storage Error: database create/upgrade error: "+t.toString())}}}catch(t){u("Storage Error: database open error: "+t.toString())}}))}return this.databasePromise}});i.default=p},6735:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(74691)),p=_interopRequireDefault(u(70034));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var h={namespace:"lrn_",dbName:"LrnKeyedStorage",dbVersion:1},g=function LrnIndexedDB(t){this.options=l.default.extend({},h,t),this.initialised=!1},v=function handleInitIndexedDBError(t){d.default.warning("Failed to persist Application state. IndexedDB, Local Storage, or Cookies might be disabled."),d.default.warning(t)};l.default.extend(g.prototype,{get:function get(t){var i=this;return this._initIndexedDB().then((function(){return new p.default((function(u,l){i._indexedDBTransaction().then((function(d){var p=d.get(_wrapNamespace(t,i.options));p.onsuccess=function(){u(p.result)},p.onerror=function(t){l("INDEXEDDB_ERR: get error: "+(t.target?t.target.errorCode:t.message))}}))}))}))},set:function set(t,i){var u=this;return this._initIndexedDB().then((function(){return new p.default((function(l,d){u._indexedDBTransaction().then((function(p){var h=p.put(i,_wrapNamespace(t,u.options));h.onsuccess=l,h.onerror=function(t){d("INDEXEDDB_ERR: set error: "+(t.target?t.target.errorCode:t.message))}}))}))})).catch(v)},remove:function remove(t){var i=this;return this._initIndexedDB().then((function(){return new p.default((function(u,l){i._indexedDBTransaction().then((function(d){var p=d.delete(_wrapNamespace(t,i.options));p.onsuccess=u,p.onerror=function(t){l("INDEXEDDB_ERR: remove error: "+(t.target?t.target.errorCode:t.message))}}))}))})).catch(v)},clear:function clear(){var t=this;return this._initIndexedDB().then((function(){return new p.default((function(i,u){t._indexedDBTransaction().then((function(t){var l=t.clear();l.onsuccess=function(){i()},l.onerror=function(t){u("INDEXEDDB_ERR: clear error: "+(t.target?t.target.errorCode:t.message))}}))}))})).catch(v)},_initIndexedDB:function _initIndexedDB(){var t=this;return this.initialised||(this.initialised=!0,this.status=new p.default((function(i,u){t.storage=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;var l=t.storage.open(t.options.dbName,t.options.dbVersion);l.onupgradeneeded=function(t){var i=t.target.result;try{i.createObjectStore("storage")}catch(i){"ConstraintError"!==i.name&&u("INDEXEDDB_ERR: database create/upgrade error: "+(t.target?t.target.errorCode:t.message))}},l.onerror=function(t){u("INDEXEDDB_ERR: database open error: "+(t.target?t.target.errorCode:t.message))},l.onsuccess=function(u){t.database=u.target.result,i()}}))),this.status},_indexedDBTransaction:function _indexedDBTransaction(){try{var t=this.database.transaction(["storage"],"readwrite").objectStore("storage");return p.default.resolve(t)}catch(t){return p.default.reject(t)}}});var y=function LrnLocalStorage(t){this.options=l.default.extend({},h,t),this.isIndexed=!1;try{this.storage=window.localStorage||{}}catch(t){this.storage=null}};function _wrapNamespace(t,i){return(i.namespace||"")+t}l.default.extend(y.prototype,{rejectUninitializedStorage:function rejectUninitializedStorage(){return p.default.reject("LOCALSTORAGE_ERR: "+this.options.notInitialisedMessage)},get:function get(t){if(!this.storage)return p.default.resolve();var i=this.storage.getItem(_wrapNamespace(t,this.options));return p.default.resolve(function _unserialize(t){if("string"!=typeof t)return;try{return JSON.parse(t)}catch(i){return t}}(i))},set:function set(t,i){if(!this.storage)return this.rejectUninitializedStorage();var u=this,l=function setValue(l,d){u.storage.setItem(_wrapNamespace(t,u.options),function _serialize(t){return JSON.stringify(t)}(i)),l()};return new p.default(l).then(null,(function(){return u.remove(t),new p.default(l)})).then(null,(function(){return u.rejectUninitializedStorage()}))},remove:function remove(t){return this.storage?(this.storage.removeItem(_wrapNamespace(t,this.options)),p.default.resolve()):p.default.resolve()},clear:function clear(){return this.storage?(this.storage.clear(),p.default.resolve()):p.default.resolve()}});i.default=function _supportsIndexedDB(){try{var t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(t){var i=t.open(h.dbName+"_",h.dbVersion);return i.onsuccess=i.onerror=function(){t.deleteDatabase(h.dbName+"_")},!0}return!1}catch(t){return!1}}()?g:y},69952:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=u(75412);i.default={check:/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-?[a-f0-9]{12}/,v4:l.v4}},2182:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default={isValidURL:function isValidURL(t){return!!t&&new RegExp("^(http://www.|https://www.|http://|https://)?[a-z0-9]+([-.]{1}[a-z0-9]+)*.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$","g").test(t)},DEFAULT_URL_SCHEME:"//",containsURLScheme:function containsURLScheme(t){return new RegExp("[/]{2}").test(t)},isExternalURL:function isExternalURL(t){return new RegExp(".*\\/.*\\.css").test(t)}}},17160:function(t,i){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}function _createSuper(t){var i=_isNativeReflectConstruct();return function _createSuperInternal(){var u,l=_getPrototypeOf(t);if(i){var d=_getPrototypeOf(this).constructor;u=Reflect.construct(l,arguments,d)}else u=l.apply(this,arguments);return function _possibleConstructorReturn(t,i){if(i&&("object"===_typeof(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,u)}}function _wrapNativeSuper(t){var i="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(i){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,i,u){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(t,i,u){var l=[null];l.push.apply(l,i);var d=new(Function.bind.apply(t,l));return u&&_setPrototypeOf(d,u.prototype),d},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _setPrototypeOf(t,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,i){return t.__proto__=i,t},_setPrototypeOf(t,i)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function(t){!function _inherits(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&_setPrototypeOf(t,i)}(ValidationError,t);var i=_createSuper(ValidationError);function ValidationError(t){var u;return function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,ValidationError),(u=i.call(this)).name="ValidationError",u.message=t,u}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(ValidationError)}(_wrapNativeSuper(Error))},8098:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(73781));i.default={renderSimpleFeatures:function renderSimpleFeatures(t,i,u){var d=this,p=u.getSimpleFeatureNodes({$scope:t}),h=i&&i.get("beta_flags");return u.render(h,p,i).then((function(t){l.default.size(t)&&(i.hooks.reset.push((function(){u.unregisterFacades(t),d.simpleFeatureFacades={}})),l.default.extend(d.simpleFeatureFacades,t))}))}}},4027:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createWorkerProcessor=createWorkerProcessor,i.spokenMathWorkerProcess=void 0;var l=_interopRequireDefault(u(70034)),d=_interopRequireDefault(u(76629));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _createForOfIteratorHelper(t,i){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!u){if(Array.isArray(t)||(u=function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t))||i&&t&&"number"==typeof t.length){u&&(t=u);var l=0,d=function F(){};return{s:d,n:function n(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}},e:function e(t){throw t},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p,h=!0,g=!1;return{s:function s(){u=u.call(t)},n:function n(){var t=u.next();return h=t.done,t},e:function e(t){g=!0,p=t},f:function f(){try{h||null==u.return||u.return()}finally{if(g)throw p}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}var p={},h=0;function createWorkerProcessor(t){var i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=t+"Worker",y=new l.default((function(t){d.default.getExposedExternalBundle(v)().then((function(l){(i=new l).onmessage=function(i){var u=i.data,l=u.id,d=u.results;if("ready"===u.type)g&&g(),t();else{var h=p[l];delete p[l],h&&h(d)}};var d,h=_createForOfIteratorHelper(u);try{for(h.s();!(d=h.n()).done;){var v=d.value;i.postMessage({load:v})}}catch(t){h.e(t)}finally{h.f()}}))}));return function(t,u){h=(h+1)%Number.MAX_SAFE_INTEGER,p[h]=u;var l=h;y.then((function(){return i.postMessage({id:l,request:t})}))}}i.spokenMathWorkerProcess=createWorkerProcessor("spokenmath")},61289:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(70034));function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var d,p,h="x-origin-frame",g="application/x-www-form-urlencoded; charset=UTF-8",v=function isString(t){return"[object String]"===Object.prototype.toString.call(t)},y=function isFunction(t){return"[object Function]"===Object.prototype.toString.call(t)},S=!!(window.chrome&&window.chrome.runtime&&y(window.chrome.runtime.getManifest)),w=S?"webview":"iframe",E=0,R=!1,A=[];function _param(t){var i=[],u=function add(t,u){i[i.length]="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(u))};if(function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}(t))for(var l,d=t.length-1;d>=0;d--)u((l=t[d]).name,l.value);else for(var p in t)if(t.hasOwnProperty(p)){var h=t[p];v(h)||(h=JSON.stringify(h)),u(p,h)}return i.join("&").replace(/%20/g,"+")}var T=null,x=!1,C=function(){function PostMessageProxyRequest(){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,PostMessageProxyRequest),this.headers={}}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(PostMessageProxyRequest,[{key:"open",value:function open(t,i){this.method=t,this.url=i}},{key:"setRequestHeader",value:function setRequestHeader(t,i){this.headers[t]=i}},{key:"getResponseHeader",value:function getResponseHeader(t){return this.responseHeaders[t]}},{key:"send",value:function send(t){var i=this;if(PostMessageProxyRequest.iFrame){var u=function _getRequestId(){return E++}(),l={method:this.method,url:this.url,headers:this.headers,data:t,requestId:u};window.addEventListener("message",(function messageHandler(t){var l;if(0===i.url.indexOf(t.origin)){if("string"==typeof t.data)try{l=JSON.parse(t.data)}catch(t){console.error("Error parsing JSON from iframe message",t)}l&&l.id===u&&(window.removeEventListener("message",messageHandler),i.responseHeaders=function _parseResponseHeaders(t){var i={};if(!t)return i;for(var u=t.split("\r\n"),l=0;l<u.length;l++){var d=u[l],p=d.indexOf(": ");if(p>0){var h=d.substring(0,p),g=d.substring(p+2);i[h]=g}}return i}(l.headers),i.status=l.status,i.responseText=l.responseText,l.status>0?i.onload.call(i):i.onerror.call(i))}})),PostMessageProxyRequest.iFrame.contentWindow.postMessage(JSON.stringify(l),p)}else!1!==PostMessageProxyRequest.iFrameLoadingTimeout?A.push([this,t]):(this.status=0,this.responseText="The fallback iframe failed to load",this.onerror.call(this))}}],[{key:"iFrame",get:function get(){return T},set:function set(t){T=t}},{key:"iFrameLoadingTimeout",get:function get(){return x},set:function set(t){x=t}}]),PostMessageProxyRequest}();function sendRequest(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.data=_param(t.data),t.method=t.method||"GET",t.error=y(t.error)?t.error:function(){},t.success=y(t.success)?t.success:function(){},t.parseResponse=!t.hasOwnProperty("parseResponse")||t.parseResponse;var i=new C;if("GET"===t.method){var u="?";-1!==t.url.indexOf("?")&&(u+="&"),t.url+=u+t.data}if(i.open(t.method,d+t.url),t.headers)for(var l in t.headers)t.headers.hasOwnProperty(l)&&i.setRequestHeader(l,t.headers[l]);function callError(i,u){if(t.parseResponse)try{u=JSON.parse(u)}catch(t){}t.error.call(null,{status:i,response:u})}i.setRequestHeader("Content-Type",g),i.onload=function(){var u=i.responseText;if(i.status>=200&&i.status<=300)try{u&&u.length>0&&t.parseResponse&&(u=JSON.parse(u));try{t.success.call(null,{status:i.status,response:u})}catch(t){callError(-1,"".concat(t.name," on success handler, msg: ").concat(t.message))}}catch(t){callError(-1,"error parsing response: ".concat(t.message,". Response: ").concat(u))}else callError(i.status,u)},i.onerror=function(){callError(i.status,i.responseText)};try{i.send("POST"===t.method||"PUT"===t.method?t.data:null)}catch(t){callError(-1,t.name&&t.message?"".concat(t.name," when sending request, msg: ").concat(t.message):"Failed to initialize xdomain iframe, throw: ".concat(t.toString()))}}function init(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l.default((function(i,u){if(R)i();else{if(!d&&!v(t.baseUrl))throw new Error("baseUrl must be a string.");if(!p&&!v(t.iframeBaseUrl))throw new Error("iframeBaseUrl must be a string.");d=t.baseUrl||d,p=t.iframeBaseUrl||p;var l,g,y=S?"?chromeApp":"",E="".concat("/xdomain").concat(y),T=".".concat(h),x=setTimeout((function(){C.iFrameLoadingTimeout=!0,window.removeEventListener("message",M),u({status:"timeout"})}),1e4),M=function readyHandler(t){if(p&&0===p.indexOf(t.origin)){var u;if("string"==typeof t.data)try{u=JSON.parse(t.data)}catch(t){console.error("Error parsing JSON from iframe message",t)}if(u&&u.ready){R=!0,C.iFrame=g,C.iFrameLoadingTimeout=!1,clearTimeout(x);for(var l=0;l<A.length;l++)A[l][0].send(A[l][1]);A=[],window.removeEventListener("message",readyHandler),i()}}};if(document.querySelectorAll)l=document.querySelectorAll(T);else{l=[];for(var O=document.getElementsByTagName(w),P=O.length-1;P>=0;P--)-1!==O[P].className.indexOf(T)&&l.push(O[P])}for(var I=l.length-1;I>=0;I--)-1!==l[I].src.indexOf(p+E)&&(g=l[I]);if(void 0===g&&((g=document.createElement(w)).className=h,g.frameBorder=0,g.marginWidth=0,g.marginHeight=0,g.style.width=0,g.style.height=0,g.style.position="absolute",g.style.top="-1000px",g.setAttribute("aria-hidden","true"),g.tabIndex="-1",g.src=p+E,document.body.appendChild(g)),S?g.addEventListener("loadstop",(function(t){window.addEventListener("message",M),g.contentWindow.postMessage({command:"handshake"},"*")})):window.addEventListener("message",M),"[object Function]"===Object.prototype.toString.call(t.wrongIframeMsgCallback)){window.addEventListener("message",(function wrongIframeMsgHandler(i){if(0===p.indexOf(i.origin)){var u=JSON.parse(i.data);u.error&&t.wrongIframeMsgCallback(u.error,u.data)}}))}}}))}i.default={request:function request(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments;t.error=t.error||function(){},init().then((function(){return sendRequest.apply(null,i)})).catch((function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.error.call(null,i)}))},init:init}},87878:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651)),p=_interopRequireDefault(u(70640)),h=_interopRequireDefault(u(53373)),g=u(49279);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v,y=function Label(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldRenderAriaLabels:!0};this.options=t},S=function Polygon(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t},w=function getAbsolutePosition(t,i){return t/100*i};l.default.extend(y.prototype,{getHtml:function getHtml(){var t=this.getPosition(),i=(0,d.default)("<li>");return i.css({top:t.top,left:t.left}),i.text(this.options.text).addClass(this.options.className),this.options.shouldRenderAriaLabels&&i.attr("aria-label",this.options.ariaLabel),i[0].outerHTML},getPosition:function getPosition(){var t=this.options.polygon.coordinates[0];return{top:w(t.y,this.options.containerHeight),left:w(t.x,this.options.containerWidth)}}}),l.default.extend(S.prototype,{getHtml:function getHtml(){var t,i=(0,d.default)("<polygon>"),u=l.default.map(this.getAbsoluteCoordinates(),(function(t){return[t.x,t.y].join(",")}));return this.options.isFocusable&&(t=(0,d.default)('<a xlink:href="#"/>'),i.attr("aria-hidden","true"),t.append(i)),i.attr("points",u.join(", ")).css({fill:this.options.fill,stroke:this.options.stroke}),t?t.addClass(this.options.className):v.addPolygonClass(i.get(0),this.options.className),(0,l.default)(this.options.elementAttributes).forEach((function(u,l){(t||i).get(0).setAttribute(l,u)})),(t||i)[0].outerHTML},getAbsoluteCoordinates:function getAbsoluteCoordinates(){return l.default.map(this.options.coordinates,(function(t){return{x:w(t.x,this.options.containerWidth),y:w(t.y,this.options.containerHeight)}}),this)}}),v=p.default.View.extend({SELECTORS:{labels:".lrn-polygons-labels",focusable:"a",polygons:"polygon"},events:{"click a":"preventFocusLinks","touchend a":"preventFocusLinks"},className:(0,h.default)("lrn-polygons",{"lrn-polygons-support-safari":(0,g.isSafari)(),"lrn-polygons-support-edge":(0,g.isEdge)(),"lrn-polygons-support-firefox":(0,g.isFirefox)(),"lrn-polygons-support-chrome":(0,g.isChrome)()}),initialize:function initialize(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.render()},appendLabels:function appendLabels(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.renderLabels(t,l.default.extend({},i,{removeExistingLabels:!1})),this},getShapeElements:function getShapeElements(){return this.options.makeFocusable?this.el.querySelectorAll(this.SELECTORS.focusable):this.el.querySelectorAll(this.SELECTORS.polygons)},preventFocusLinks:function preventFocusLinks(t){t.preventDefault()},removeLabels:function removeLabels(){return this.$labels&&(this.$labels.remove(),delete this.$labels),this},render:function render(){var t=this,i=(0,l.default)(this.options.polygons).map((function(i){var u=l.default.extend({},i,{isFocusable:!!t.options.makeFocusable,containerWidth:t.options.width,containerHeight:t.options.height});return new S(u)})),u=(0,d.default)("<svg>").css({width:this.options.width,height:this.options.height});return this.options.renderAsList&&u.attr("role","list"),(0,l.default)(i).forEach((function(i){var l=i.getHtml();t.options.renderAsList&&(l='<g role="listitem">'.concat(l,"</g>")),u.append(l)})),this.$el.empty().append(u[0].outerHTML),this},renderLabels:function renderLabels(t,i){var u=l.default.extend({ariaHidden:!1,removeExistingLabels:!0},i),p=this.SELECTORS.labels.replace(/^\./,"");return u.removeExistingLabels&&this.removeLabels(),this.$labels=this.$labels||(0,d.default)("<ul>").addClass(p),u.ariaHidden&&this.$labels.attr("aria-hidden","true"),l.default.each(t,(function(t){var i=this.options.polygons[t.polygonIndex],d=new y(l.default.extend({shouldRenderAriaLabels:!u.ariaHidden,containerWidth:this.options.width,containerHeight:this.options.height,polygon:i},t));this.$labels.append(d.getHtml())}),this),this.$el.append(this.$labels),this}},{polygonHasClass:function polygonHasClass(t,i){return t.classList&&l.default.isFunction(t.classList.contains)?t.classList.contains(i):l.default.contains(v.getPolygonClasses(t),i)},addPolygonClass:function addPolygonClass(t,i){var u;if(i&&!v.polygonHasClass(t,i)){if(t.classList&&l.default.isFunction(t.classList.add))return t.classList.add(i);(u=v.getPolygonClasses(t)).push(i),(0,d.default)(t).attr("class",u.join(" "))}},getPolygonClasses:function getPolygonClasses(t){var i;return t.classList?l.default.map(t.classList,(function(t){return t})):(i=(0,d.default)(t).attr("class"),l.default.isString(i)?(i=i.replace(/\s+/g," "),l.default.filter(i.split(" "),(function(t){return t.length}))):[])},removePolygonClass:function removePolygonClass(t,i){var u;return!!v.polygonHasClass(t,i)&&(t.classList&&l.default.isFunction(t.classList.remove)?(t.classList.remove(i),!0):(u=l.default.without(v.getPolygonClasses(t),i),(0,d.default)(t).attr("class",u.join(" ")),!0))},removePolygonClasses:function removePolygonClasses(t,i){l.default.each(i,(function(i){v.removePolygonClass(t,i)}))},togglePolygonClass:function togglePolygonClass(t,i){return v.polygonHasClass(t,i)?(v.removePolygonClass(t,i),!1):(v.addPolygonClass(t,i),!0)}});i.default=v},21515:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;_interopRequireDefault(u(34651));var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(15302)),p=_interopRequireDefault(u(52165)),h=_interopRequireDefault(u(69685));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default={STATE:{INITIAL:"initial",REVIEW:"review"},events:{"blur .lrn_validate:not([disabled])":"clearAnnouncedCheckAnswers"},accessibility:{helperTypes:{global:p.default,live:d.default,label:h.default}},processAccessibility:function processAccessibility(t){var i=(t=t||{})?t.state:this.STATE.INITIAL,u=this.getAccessibilityHelpers(t);i===this.STATE.REVIEW?l.default.invoke(u,"apply"):l.default.invoke(u,"restore")},getAccessibilityHelpers:function getAccessibilityHelpers(t){return this._a11yHelpers||(this._a11yHelpers=[],l.default.each(this.accessibility.helperTypes,(function(i){this._a11yHelpers.push(new i(this,t))}),this)),this._a11yHelpers},clearAnnouncedCheckAnswers:function clearAnnouncedCheckAnswers(){this.$el.find(".lrn-accessibility-arialive").text("")}}},26729:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(73781)),d=_interopRequireDefault(u(34651));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var p="lrn-math-keep-keyboard-open",h="lrn-math-force-keyboard-close";function onItemBlurred(t,i,u){l.default.defer((function(){var l=document.activeElement||document.createElement("div"),g=u&&d.default.contains(u,l);!l.classList.contains(h)&&(l.classList.contains(p)||d.default.contains(i,l)||g)||t.trigger(t.EVENT.EDITOR_BLURRED)}))}i.default={addFacadeMethods:function addFacadeMethods(t){},handleBlurEvents:function handleBlurEvents(t){var i=this.editorView.mathEvents,u=this.keyboardView;this.listenTo(i,i.EVENT.ITEM_BLURRED,(function(){onItemBlurred(i,t,u&&u.el)}))},isChemistry:function isChemistry(){return this.model.get("type").toLowerCase().indexOf("chemistry")>-1},onAttach:function onAttach(){this.editorView&&this.editorView.onAttach(),this.keyboardView&&this.keyboardView.onAttach()},onItemBlurred:onItemBlurred,setDisabled:function setDisabled(t,i){l.default.each(t,(function(t){t.mathEvents.trigger(t.mathEvents.EVENT.CHANGE_DISABLED_STATE,i)}))},usesLazyKeyboard:function usesLazyKeyboard(t){return t.get("enable_formula_keyboard_lazy_render")},addAriaLabelToValidationUi:function addAriaLabelToValidationUi(){if(this.model.getValidResponse()&&this.model.getValidResponse().value){var t=function getAriaLabelsFromValidResponse(t){var i=l.default.pluck(l.default.flatten(t.value),"aria_label");return(0,l.default)(i).map((function(t,i){return"Correct Answer "+(i+1)+": "+(t||"screenreader friendly version of equation not available")+"."})).join(" ")}(this.model.getValidResponse());this.$(".lrn_correctAnswers").attr("aria-label",t)}}}},56624:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(34651)),h=_interopRequireDefault(u(86483));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.View.extend({template:h.default,progressCalledFirstTime:!1,events:{"click .lrn_btn:not(:disabled)":"persistQuestions"},initialize:function initialize(){var t=this.options.activity,i=t.EVENT;this.activity=t,this.i18n=this.activity.get("i18n"),this.app=this.options.app;var u=".learnosity-save-button";this.options.submit&&(u=".learnosity-submit-button");var l=(0,p.default)(u+".activity-"+this.activity.get("localActRef"));this.activity.has("localActRef")&&l.length>0?this.setElement(l[0]):this.setElement(d.default.find((0,p.default)(u),(function(t){for(var i=t.className.split(/\s+/),u=!1,l=0;l<i.length&&!u;l++)u=u||0===i[l].indexOf("activity-");return!u})));var h=this.activity.get("questionResponses");h.bind(h.EVENT.MODIFIED,this.questionModifiedHandler,this),this.progressHandler=this.progressHandler.bind(this),t.on(i.SAVE,this.persistControlInitialState,this),this.options.submit?t.on(i.SUBMITTED,this.activityPersistHandler,this):t.on(i.SAVED,this.activityPersistHandler,this),this.displayLogic={},this.addRenderingLogic(),this.render()},render:function render(){var t=(this.activity.id?this.activity.id:this.cid)+(this.options.submit?"-submit":"-save"),i=this.$el,u=(0,p.default)(this.template({id:t,displayLogic:this.displayLogic}));return this.setElement(u),i.replaceWith(u),this},addRenderingLogic:function addRenderingLogic(){var t=this.i18n,i=this.activity,u=this.options.submit,l=i.get("questionResponses");this.displayLogic.submit=u,this.displayLogic.label=u?t.labels.submitButtonLabel:t.labels.saveButtonLabel,this.displayLogic.disabled=u&&"resume"===i.get("state")?!l.areThereQuestionsAnswered():!l.areThereQuestionsModified()},persistControlInitialState:function persistControlInitialState(t){if(this.options.submit===t.submit){var i=this.activity;this.$(".lrn_btn").attr("disabled","disabled"),i.off(i.EVENT.SAVE_PROGRESSING,this.progressHandler).on(i.EVENT.SAVE_PROGRESSING,this.progressHandler)}},questionModifiedHandler:function questionModifiedHandler(){!this.activity.saving&&this.$(".lrn_btn:disabled").length>0&&this.$(".lrn_btn").removeAttr("disabled").children("span").text(this.options.submit?this.i18n.labels.submitButtonLabel:this.i18n.labels.saveButtonLabel)},activityPersistHandler:function activityPersistHandler(t){var i=t.responseIds,u=t.submit,l=this.activity;this.options.submit===u&&this.$(".lrn_btn").attr("disabled","disabled"),l.off(l.EVENT.SAVE_PROGRESSING,this.progressHandler),this.successHandler(i)},persistQuestions:function persistQuestions(){this.options.submit?this.app.submit():this.app.save()},successHandler:function successHandler(t){this.$(".lrn_spinner").remove(),this.$(".lrn_btn span").text(this.options.submit?this.i18n.labels.submitComplete:this.i18n.labels.saveComplete),this.progressCalledFirstTime=!1,this.app.options&&this.app.options.saveSuccess&&this.app.options.saveSuccess(t)},progressHandler:function progressHandler(t){if(0===this.$(".lrn_spinner").length){var i=this.options.submit?this.i18n.labels.submitInProgress:this.i18n.labels.saveInProgress;!this.progressCalledFirstTime&&parseInt(t.percentage,10)>85?(this.$(".lrn_btn").prepend('<div class="lrn_spinner"></div>'),this.$(".lrn_btn span").text(i)):this.$(".lrn_btn span").text(i+" "+t.percentage+"%")}this.progressCalledFirstTime=!0,this.app.options&&this.app.options.saveProgress&&this.app.options.saveProgress(t)}})},38641:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(34651)),h=_interopRequireDefault(u(2507)),g=_interopRequireDefault(u(8098)),v=_interopRequireDefault(u(26729)),y=_interopRequireDefault(u(74691)),S=_interopRequireDefault(u(19491)),w=_interopRequireDefault(u(26731)),E=_interopRequireDefault(u(75078)),R=_interopRequireDefault(u(71596)),A=_interopRequireDefault(u(16104));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var T=w.default,x=[{type:"stimulus"},{type:"interaction"}],C=function callbackForAsync(t,i,u){return d.default.isFunction(i)?t.model.executeScoring().then((function(){return i(u())})):u()};i.default=l.default.View.extend({lastFeatureComplete:!1,initialize:function initialize(){l.default.View.prototype.initialize.call(this);var t=this.model;if(t){var i=t.get("question").widget_layout;i&&(this.widgetLayout=new E.default(this,i))}this.mathService=new R.default(this,"question")},getFacade:function getFacade(){var t=this;if(d.default.isUndefined(this.questionFacade)){var i=this.model;if(this.questionFacade={},this.questionFacade.on=l.default.Events.on,this.questionFacade.off=function(t,i){if(!d.default.isString(t)||!d.default.isFunction(i))throw new Error("off method only supported with event and callback parameters");l.default.Events.off.apply(this,arguments)},this.questionFacade.trigger=l.default.Events.trigger,this.questionFacade.once=l.default.Events.once,this.questionFacade.begin=d.default.bind(this.begin,this),this.questionFacade.pause=d.default.bind(this.pause,this),this.questionFacade.stop=d.default.bind(this.stop,this),this.questionFacade.response={getMetadata:d.default.bind((function(){return this.model.getResponseMetadata()}),this),setMetadata:d.default.bind((function(t){return this.model.setResponseMetadata(t)}),this)},this.questionFacade.disable=d.default.bind(this.toggleDisabled,this,!0),this.questionFacade.enable=d.default.bind(this.toggleDisabled,this,!1),this.questionFacade.isEnabled=function(){return!t.model.get("disabled")},this.listenTo(this.model,"change:disabled",d.default.bind((function(t,i){this.setDisabled(i)}),this)),this.questionFacade.getAttemptedStatus=function(){return{hasReachedMinLimit:t.model.hasReachedMinLimit()}},this.questionFacade.getMetadata=d.default.bind((function(){return this.model.getMetadataForClient()}),this),this.questionFacade.getQuestion=d.default.bind((function(){return this.model.getQuestionJsonForClient()}),this),this.questionFacade.getResponse=d.default.bind((function(){return this.model.getResponseJsonForClient()}),this),this.questionFacade.executeScoring=d.default.bind((function(){return this.model.executeScoring()}),this),this.questionFacade.getScore=d.default.bind((function(t){var i=this;return C(this,t,(function(){return d.default.isFunction(i.model.getScore)?i.model.getScore():null}))}),this),this.questionFacade.isAttempted=d.default.bind((function(){return this.model.isAttempted()}),this),this.questionFacade.isValid=d.default.bind((function(t,i){var u=this;return C(this,i,(function(){return d.default.isFunction(u.model.canValidateResponse)&&u.model.canValidateResponse()&&u.model.hasResponseValue()?t?u.model.getResponseValidDetailed():u.model.isResponseValid():void 0}))}),this),this.questionFacade.validate=d.default.bind((function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C(this,arguments.length>1?arguments[1]:void 0,(function(){return d.default.isFunction(t.model.callValidate)?t.model.callValidate(i):void 0}))}),this),this.questionFacade.mapValidationMetadata=d.default.bind((function(t,i){var u=this;return C(this,i,(function(){return u.model.mapValidationMetadata.call(u.model,t)}))}),this),this.questionFacade.checkValidation=d.default.bind((function(){var t=this.model,i=t.canValidateResponse;return{has_validation:!!d.default.isFunction(i)&&!!i.apply(t)}}),this),this.questionFacade.masking=d.default.bind(this.masking,this),this.questionFacade.isMaskable=d.default.bind((function(){return this.maskable||!1}),this),this.questionFacade.isRendered=function(){return!0},this.questionFacade.render=function(){return!1},this.imageLoader&&this.imageLoader.addFacadeMethods(this.questionFacade),this.simpleFeatureFacades=this.simpleFeatureFacades||{},this.questionFacade.simpleFeatures=function(){return d.default.clone(t.simpleFeatureFacades)},this.questionFacade.simpleFeature=function(i){return t.simpleFeatureFacades[i]},this.questionFacade.resetValidationUI=function(){t.showingValidationUI&&d.default.isFunction(t.clearValidationUI)?t.clearValidationUI():t.showingAnswer&&d.default.isFunction(t.clearCorrectAnswers)&&t.clearCorrectAnswers()},i.get("isDynamicContent")){var u=i.dynamic;this.questionFacade.dynamic={nextAttempt:function nextAttempt(){return t.updateInstance(u.nextAttempt())},previousAttempt:function previousAttempt(){return t.updateInstance(u.previousAttempt())},currentAttemptIndex:function currentAttemptIndex(){return u.currentAttemptIndex()},totalAttempts:function totalAttempts(){return u.totalAttempts()}}}"local_practice"===this.activity.get("type")&&(this.questionFacade.update=function(u){var l=i.get("question").type;if(u.type!==l)return y.default.exception({code:10030,detail:'type: "'.concat(u.type,"\" does not match current question instance's type")});u.response_id=i.get("response_id"),i.setOriginalQuestion(u),t.updateInstance(u)}),this.questionFacade.resetResponse=function(){t.resetResponse()},this.questionFacade.isResponseReset=function(){return t.model.hasBeenReset()},this.addFacadeMethods(this.questionFacade),this.model.on(this.model.EVENT.MODIFIED,(function(){this.questionFacade.trigger("change changed")}),this)}return this.questionFacade},addFacadeMethods:function addFacadeMethods(t){},updateInstance:function updateInstance(t){this.setElement(this.$el.closest(".lrn.lrn_widget")),this.displayLogic={},this.addRenderingLogic(),this.render(),this.mathService&&this.mathService.renderIfRequired()},renderViewContent:function renderViewContent(t,i){var u,l,h,g=this.model.get("question"),v=this.options.activity.get("state")===this.options.activity.STATE.REVIEW&&this.model.hasStimulusReview(),y=v?this.model.getStimulusReview():this.model.getStimulus(),w=this.model.getInstructorStimulus(),E=!v&&this.model.hasStimulusObject()&&g.stimulus.hasOwnProperty("features")&&d.default.isArray(g.stimulus.features)?g.stimulus.features:[],R=d.default.some(E,(function(t){return t&&("vertical"===t.position||d.default.isUndefined(t.position))})),C=d.default.some(E,(function(t){return t&&"overlay"===t.position})),M=y&&y.length>0||R,O=!(!this.options.activity.get("showInstructorStimulus")||!w.length),P=this.model.getFontClass()||"",I=d.default.isString(t),D=this.widgetLayout;i=d.default.isUndefined(i)?"":i,P+=A.default.isIOS?" lrn-ios":"",this.pendingViews=E.length+1,u=T({responseId:g.response_id,questionType:this.model.get("type"),showStimulus:M,showInstructorStimulus:O,stimulusContent:y,instructorStimulusContent:w,hasVerticalFeatures:R,hasOverlayFeatures:C,extraClasses:i,globalExtraClasses:P,responseContent:I?t:"",widgetLayoutElements:D?D.getLayoutElements():x}),l=this.$el,this.$qrEl=(0,p.default)(u),h=this.$qrEl.find(".lrn_response_wrapper > .lrn_response"),I||h.append(t),this.imageLoader=new S.default({element:this.$qrEl[0],blacklist:this.imageLoaderBlacklist}),this.imageLoader.addFacadeMethods(this.questionFacade),this.imageLoader.loadImages(),this.setElement(h),l.replaceWith(this.$qrEl),!I&&this.onAttach&&this.onAttach(),E.length>0&&this.loadStimulusFeatures(E),this.$qrEl.attr("data-lrn-widget-container",this.model.get("response_id")).attr("data-lrn-widget-type","question")},loadStimulusFeatures:function loadStimulusFeatures(t){var i=this,u=d.default.pluck(t,"type");this.featureViews=[],this.activity.loadFeatureBundles(u,(function(l){if(d.default.isEmpty(l))y.default.log("No bundles were loaded for the required Feature types: "+u.join(", "));else{if(d.default.forEach(t,(function(t){var u,h=l[t.type],g=new h.Model(t),v=g.has("position")?g.get("position"):"vertical";u="overlay"===v?(0,p.default)('<div class="lrn_stimulus_features_overlay" style="visibility: hidden"><div></div></div>').insertAfter(i.$qrEl.find(".lrn_response_wrapper .lrn_response")).children("div")[0]:(0,p.default)("<div></div>").appendTo(i.$qrEl.find(".lrn_stimulus_features_vertical"))[0];var y=new h.View({model:g,el:u,i18n:i.options.activity.get("i18n"),initialisationCallback:d.default.bind(i.initialisationCompleted,i)});"overlay"===v&&y.getFacade().on("complete",(function(){y.$el.parent().remove(),y.remove(),i.$qrEl.find(".lrn_response_wrapper.lrn_overlaying_features > div:last-child").css({visibility:"inherit"})})),i.featureViews.push(y)})),i.model.hasStimulusObject()){var h=i.model.get("question").stimulus,g=i.featureViews[i.featureViews.length-1].getFacade();h.hasOwnProperty("begin_response_on")?h.hasOwnProperty("begin_response_on")&&"begin"!==h.begin_response_on&&i.options.activity.get("state")!==i.options.activity.STATE.REVIEW&&("last-feature-complete"===h.begin_response_on?g.on("complete",i.beginResponse,i):"last-feature-begin"===h.begin_response_on&&g.on("begin",i.beginResponse,i)):g.on("complete",(function(){this.lastFeatureComplete&&(this.beginResponse(),this.lastFeatureComplete=!1)}),i)}i.$qrEl.find(".lrn_response_wrapper.lrn_overlaying_features > div:last-child").css({visibility:"inherit"})}}))},begin:function begin(){var t=this.model.get("question"),i=this.options.activity.get("state")===this.options.activity.STATE.REVIEW,u=t.begin_response_on&&"begin"===t.begin_response_on;if(this.lastFeatureComplete=!(this.model.hasStimulusObject()&&t.stimulus.hasOwnProperty("begin_response_on")||i),this.featureViews&&this.featureViews.length>0&&!i){var l=this,p=0;d.default.each(this.featureViews,(function(t){t.getFacade().on("complete",(function(){++p<l.featureViews.length&&l.featureViews[p].getFacade().begin()}))})),this.featureViews[p].getFacade().begin(),u&&this.beginResponse()}else this.beginResponse()},pause:function pause(){d.default.each(this.simpleFeatureFacades,(function(t){return t.pause&&t.pause()})),d.default.each(this.featureViews,(function(t){t.getFacade().pause()})),this.pauseResponse()},stop:function stop(){d.default.each(this.simpleFeatureFacades,(function(t){return t.stop&&t.stop()})),d.default.each(this.featureViews,(function(t){t.getFacade().stop()})),this.stopResponse()},masking:function masking(){},beginResponse:function beginResponse(){},pauseResponse:function pauseResponse(){},stopResponse:function stopResponse(){},setDisabled:function setDisabled(t){this.setEventsDisabled(t)},setEventsDisabled:function setEventsDisabled(t){t?this.undelegateEvents():this.delegateEvents()},setButtonsDisabled:function setButtonsDisabled(t){this.$(".lrn_btn").each((function(){var i=(0,p.default)(this),u=i.data("previously-disabled");return!t&&u?i.removeData("previously-disabled"):(u=i.hasClass("lrn_disabled")||i.prop("disabled")||i.attr("disabled"),t&&u?i.data("previously-disabled",!!u):(i.toggleClass("lrn_disabled",t).attr("aria-disabled",t),void("button"===this.type?i.prop("disabled",t):i.attr("disabled",t))))}))},toggleDisabled:function toggleDisabled(t){var i=this.activity.get("state"),u=[this.activity.STATE.INITIAL,this.activity.STATE.RESUME];return!(!d.default.contains(u,i)||this.model.get("disabled")===t)&&(this.model.set("disabled",t),!0)},mathquillRendering:function mathquillRendering(){var t=this.model.get("question")&&this.model.get("question").is_math;return this.model.activity&&this.model.activity.get("math_renderer")?t&&"mathquill"===this.model.activity.get("math_renderer"):t&&"mathquill"===this.model.get("question").math_renderer},renderMathquill:function renderMathquill(){this.mathquillRenderer||(this.mathquillRenderer=new h.default(v.default.isChemistry.call(this))),this.mathquillRenderer.render(this.el)},renderSimpleFeatures:function renderSimpleFeatures(t){return g.default.renderSimpleFeatures.call(this,this.$qrEl,this.activity,t)},initialisationCompleted:function initialisationCompleted(){this.mathquillRendering()&&this.renderMathquill(),this.pendingViews--,0===this.pendingViews&&this.options.initialisationCallback&&d.default.defer(this.options.initialisationCallback)},reset:function reset(){this.getFacade().trigger("reset")},resetResponse:function resetResponse(){var t=this.options,i=this.model,u=this.widgetLayout,l=t.activity.get("state")===t.activity.STATE.REVIEW,d=!!i.get("disabled");l||d||(i.resetResponse(),u&&u.initialized&&(u.initialized=!1),this.updateInstance(i.get("originalQuestion")))}})},42627:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(70640)),d=_interopRequireDefault(u(34651)),p=(_interopRequireDefault(u(73781)),_interopRequireDefault(u(62405)));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}i.default=l.default.View.extend({template:p.default,events:{"click .lrn_btn":"validateQuestions"},initialize:function initialize(){this.setElement(".learnosity-validation.group-"+this.collection.groupId),this.activity=this.options.activity,this.i18n=this.activity.get("i18n"),this.render()},render:function render(){var t=this.$el,i=(0,d.default)(this.template({id:this.collection.id,labels:this.i18n.labels}));return this.setElement(i),t.replaceWith(i),this},validateQuestions:function validateQuestions(){this.collection.each((function(t,i){t.callValidate&&t.callValidate({feedback_attempts:!0})}))}})},91843:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(34651)),d=_interopRequireDefault(u(73781)),p=_interopRequireDefault(u(38641)),h=_interopRequireDefault(u(21515)),g=_interopRequireDefault(u(805));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v=p.default.extend({showMasking:!1,events:{"click .lrn_validate:not([disabled])":"validateResponse"},initialize:function initialize(){p.default.prototype.initialize.call(this);var t=this.model,i=t.get("question"),u=t.get("response");this.validationAttempts=u&&u.feedbackAttemptsCount||0,this.validationAttemptsLimit=0,i.feedback_attempts&&(d.default.isString(i.feedback_attempts)&&("unlimited"===i.feedback_attempts.toLowerCase()?i.feedback_attempts=0:i.feedback_attempts=parseInt(i.feedback_attempts,10)),d.default.isNumber(i.feedback_attempts)&&(this.validationAttemptsLimit=i.feedback_attempts))},addRenderingLogic:function addRenderingLogic(){var t=this.model.get("question"),i=this.activity.get("state")===this.activity.STATE.REVIEW,u=this.activity.get("showCorrectAnswers");t.ui_style&&d.default.isString(t.ui_style.validation_stem_numeration)&&(this.displayLogic.validation_stem_numeration=t.ui_style.validation_stem_numeration),this.displayLogic.isReviewState=this.activity.get("state")===this.activity.STATE.REVIEW,this.displayLogic.isPreviewState=this.activity.get("state")===this.activity.STATE.PREVIEW,this.displayLogic.showValidationButton=!i&&t.instant_feedback&&!t.validation_group&&this.model.canValidateResponse(),this.displayLogic.showValidation=!!this.model.canValidateResponse(),this.displayLogic.displayCorrectAnswer=d.default.isUndefined(u)&&i&&this.displayLogic.showValidation||!!u},renderViewContent:function renderViewContent(){p.default.prototype.renderViewContent.apply(this,arguments),this.updateCheckAnswerButtonState()},renderValidatableUI:function renderValidatableUI(){this.displayLogic.showValidation&&this.showValidationUI(),this.displayLogic.displayCorrectAnswer&&this.showCorrectAnswer(),this.processAccessibility({state:this.STATE.REVIEW})},renderLoadingUI:function renderLoadingUI(t){this.$(".lrn-spinner-validation-async-scoring").removeClass("lrn-spinner-show").addClass(t?"lrn-spinner-show":"")},validateResponse:function validateResponse(t,i){var u,l=this,d=this.activity.get("state")===this.activity.STATE.REVIEW;if(!d&&this.model.isAttempted()&&(this.getFacade().trigger("beforeValidate",{preventDefault:function preventDefault(){return u=!0}}),u))return;this.model.canValidateResponse()&&(this.showingValidationUI&&this.clearValidationUI(),(this.isValidationAllowed()||i)&&(this.model.hasResponse()&&!this.model.hasBeenReset()||this.displayLogic.displayCorrectAnswer&&d)&&(this.renderLoadingUI(!0),this.model.executeScoring().then((function(){l.renderValidatableUI(),i||l.incrementValidationAttempts(),l.updateCheckAnswerButtonState(),l.getFacade().trigger("validated"),l.renderLoadingUI(!1)}))))},isValidationAllowed:function isValidationAllowed(){return 0===this.validationAttemptsLimit||this.validationAttempts<this.validationAttemptsLimit},updateCheckAnswerButtonState:function updateCheckAnswerButtonState(){this.isValidationAllowed()||this.$(".lrn_btn.lrn_validate").attr("disabled","disabled")},incrementValidationAttempts:function incrementValidationAttempts(){var t=this.model,i=t.getResponseValue();d.default.isEqual(i,this.previousResponseValue)||(this.previousResponseValue=d.default.clone(i),this.validationAttempts++,t.updateFeedbackAttemptsCount(this.validationAttempts))},clearValidationUI:function clearValidationUI(){this.$el.removeClass("lrn_display_correct_answer_enabled"),this._restoreDisplayCorrectAnswer(),this.processAccessibility()},showCorrectAnswer:function showCorrectAnswer(){throw new Error("Unimplemented function showCorrectAnswer for question type:"+this.model.get("type"))},callValidateHandler:function callValidateHandler(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=function validate(){t.clearValidationUI(),t._defaultDisplayCorrectAnswer=t.displayLogic.displayCorrectAnswer;var u=!(!i||!i.showCorrectAnswer&&!i.showCorrectAnswers),l=d.default.isBoolean(i.feedbackAttempts)?i.feedbackAttempts:!!i.feedback_attempts;i&&(t.displayLogic.displayCorrectAnswer=u,t.validateResponse(void 0,!l)),u&&t.showCorrectAnswer(),i.testCallback&&i.testCallback()};this.model.asyncScoring?this.model.executeScoring().then((function(){return u()})):u()},showValidationUI:function showValidationUI(){var t=this.model.validateResponse();return this.showingValidationUI=!0,!(this.model.getShowGlobalValidationUi()&&(this.model.hasResponse()&&this.$(".lrn-response-validate-wrapper").removeClass("lrn_correct lrn_incorrect").addClass(this.model.isResponseValid()?"lrn_correct":"lrn_incorrect"),!this.model.getShowPartialValidationUI()))&&t},initialisationCompleted:function initialisationCompleted(){p.default.prototype.initialisationCompleted.apply(this,arguments),this.model.canValidateResponse()&&this.model.on(this.model.EVENT.CALLVALIDATE,this.callValidateHandler,this)},masking:function masking(t){this.showMasking=t,this.showMasking?this.enableMaskingUI():this.disableMaskingUI()},createMaskingSVG:function createMaskingSVG(t,i){for(var u="",l=15;l<t+i;l+=15)u+='<line class="lrn-line1" x1="0" y1='.concat(l," x2=").concat(l,' y2="0"></line>');return'\n            <svg class="lrn-mask" xmlns="http://www.w3.org/2000/svg">\n                <rect x="0" y="0" width="100%" height="100%" fill="transparent"/>\n                '.concat(u,"\n            </svg>\n        ")},toggleMasking:function toggleMasking(){if(this.showMasking){var t=arguments[0].currentTarget?(0,l.default)(arguments[0].currentTarget):arguments[0],i=t.find(".lrn-mask"),u=t[0].clientWidth,d=t[0].clientHeight;this.maskingSVG=this.createMaskingSVG(u,d),i.length?i.remove():t.is(":empty")||(t.append((0,l.default)(this.maskingSVG)),this.questionFacade.trigger(this.model.EVENT.MASKED,this.model.get("response_id")))}},enableMaskingUI:function enableMaskingUI(){this.$el.addClass("lrn-masking")},disableMaskingUI:function disableMaskingUI(){this.$el.removeClass("lrn-masking")},clearMaskingUI:function clearMaskingUI(){this.$(".lrn-mask").remove(),this.$(".lrn-mask-strike-through :only-child").unwrap()},getCorrectResponseTextByIndex:function getCorrectResponseTextByIndex(t){throw new Error("Unimplemented function getCorrectResponseTextByIndex for question type: ".concat(this.model.get("type")))},shouldDisplayCorrectAnswerList:function shouldDisplayCorrectAnswerList(){throw new Error("Unimplemented function shouldDisplayCorrectAnswerList for question type: ".concat(this.model.get("type")))},showCorrectAnswerList:function showCorrectAnswerList(){var t,i,u,l;if(this.displayLogic.displayCorrectAnswer&&!this.showingAnswer){if(u=this.displayLogic.isMath||this.model.get("question")&&this.model.get("question").is_math,l=this.model.get("question").type,this.$el.addClass("lrn_display_correct_answer_enabled"),this.$correctAnswerList||(this.$correctAnswerList=this.$(".lrn_correctAnswerList")),t="",i=this.getValidatedResponses(),d.default.contains(["formulaV2","chemistry","multistepmath"],l)){var p,h,showCorrectAnswerList=!1;if((0,d.default)(i).forEach((function(t,i){(d.default.isBoolean(t)?!1===t:this.shouldDisplayCorrectAnswerList(t,i))&&(showCorrectAnswerList=!0)}),this),showCorrectAnswerList&&(p=this.model.getValidResponse().value,d.default.isArray(p)&&p.length)){d.default.isArray(p[0])&&(p=p[0]);var v=d.default.find(p,(function(t){return d.default.isObject(t)&&d.default.isString(t.value)}));v&&(h="\\("+d.default.escape(v.value)+"\\)"),h&&(t='\n                                <li>\n                                    <span class="lrn_responseIndex">0</span>\n                                    <span class="lrn_responseText">'.concat(h,"</span>\n                                </li>\n                            "))}}else(0,d.default)(i).forEach((function(u,l){var p=d.default.isBoolean(u)?!1===u:this.shouldDisplayCorrectAnswerList(u,l),h=this.getCorrectResponseTextByIndex(l);if(p){var g="<li>";d.default.isEmpty(h)&&(h="&nbsp;"),i.length&&(g+='<span class="lrn_responseIndex">'.concat(this.getResponseIndexLabel(l),"</span>")),g+='<span class="lrn_responseText">'+h+"</span>",t+=g+="</li>"}}),this);t&&(this.$correctAnswerList.empty().append(t),this.$(".lrn_correctAnswers").removeClass("lrn_hide")),u&&(this.mathquillRendering()?this.renderMathquill():g.default&&g.default.render(this.$el[0])),this.showingAnswer=!0}},getValidatedResponses:function getValidatedResponses(){var t,i,u=this.model.validateResponse();if(d.default.isBoolean(u)&&(u=[u]),(!u||!u.length)&&this.model.canValidateResponse()){i=0,t=this.model.getValidResponse(),d.default.isArray(t.value)?i=t.value.length:d.default.isArray(t)?i=t.length:d.default.isString(t)&&(i=1),u=[];for(var l=0;l<i;l++)u.push(!1)}return u},clearCorrectAnswers:function clearCorrectAnswers(){this.showingAnswer&&(this.$(".lrn_correctAnswers").addClass("lrn_hide"),this.$(".lrn_responseIndex").remove(),this.$correctAnswerList&&this.$correctAnswerList.empty(),this.$("[data-lrn-suggested-answer-template]").remove(),this.showingAnswer=!1,this.processAccessibility())},getResponseIndexLabel:function getResponseIndexLabel(t){var i=1;if(this.displayLogic.validation_stem_numeration)switch(this.displayLogic.validation_stem_numeration){case"number":break;case"lower-alpha":i="a";break;case"upper-alpha":i="A";break;default:delete this.displayLogic.validation_stem_numeration}return this.displayLogic.validation_stem_numeration&&"number"!==this.displayLogic.validation_stem_numeration?String.fromCharCode(i.charCodeAt(0)+t):i+t},_restoreDisplayCorrectAnswer:function _restoreDisplayCorrectAnswer(){d.default.isUndefined(this._defaultDisplayCorrectAnswer)||(this.displayLogic.displayCorrectAnswer=this._defaultDisplayCorrectAnswer,delete this._defaultDisplayCorrectAnswer)}});d.default.deepExtend(v.prototype,h.default);i.default=v},45884:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(57767)),d=_interopRequireDefault(u(73833)),p=_interopRequireDefault(u(68867));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var h=function(){function DependentScorer(t){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,DependentScorer),this.questions=t}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(DependentScorer,[{key:"score",value:function score(){var score;score=l.default.isNumber(d.default.sumNullableNumbers(l.default.pluck(this.questions,"score")))?0:null;for(var t=0;t<this.questions.length&&(score=d.default.sumNullableNumbers([score,this.questions[t].score]),l.default.isNumber(this.questions[t].score)&&!(this.questions[t].score<this.questions[t].max_score));t++);return score}},{key:"maxScore",value:function maxScore(){for(var maxScore=null,t=0;t<this.questions.length&&(maxScore=d.default.sumNullableNumbers([maxScore,this.questions[t].max_score]),l.default.isNumber(this.questions[t].max_score));t++);return maxScore}},{key:"maxScoreOfAttempted",value:function maxScoreOfAttempted(){for(var maxScoreOfAttempted=0,t=0;t<this.questions.length;t++)this.questions[t].attempted&&(maxScoreOfAttempted=d.default.sumNullableNumbers([maxScoreOfAttempted,this.questions[t].max_score]));return maxScoreOfAttempted}},{key:"maxScoreOfUnmarked",value:function maxScoreOfUnmarked(){for(var maxScoreOfUnmarked=null,t=0;t<this.questions.length&&this.questions[t].attempted;t++)if(p.default.isQuestionUnmarked(this.questions[t])||l.default.isNumber(maxScoreOfUnmarked))maxScoreOfUnmarked=d.default.sumNullableNumbers([maxScoreOfUnmarked,this.questions[t].max_score]);else if(!p.default.isQuestionCorrect(this.questions[t]))break;return l.default.isNumber(maxScoreOfUnmarked)||(maxScoreOfUnmarked=0),maxScoreOfUnmarked}}]),DependentScorer}();i.default=h},11715:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(57767)),d=_interopRequireDefault(u(73833)),p=_interopRequireDefault(u(68867));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var h=function(){function DichotomousScorer(t){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,DichotomousScorer),this.questions=t}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(DichotomousScorer,[{key:"score",value:function score(){var score=d.default.sumNullableNumbers(l.default.pluck(this.questions,"score")),t=this.maxScore();return null===score?null:score<t?0:t}},{key:"maxScore",value:function maxScore(){return d.default.sumNullableNumbers(l.default.pluck(this.questions,"max_score"))}},{key:"maxScoreOfAttempted",value:function maxScoreOfAttempted(){for(var maxScoreOfAttempted=0,t=0;t<this.questions.length;t++)if(this.questions[t].attempted){maxScoreOfAttempted=d.default.sumNullableNumbers(l.default.pluck(this.questions,"max_score"));break}return maxScoreOfAttempted}},{key:"maxScoreOfUnmarked",value:function maxScoreOfUnmarked(){for(var maxScoreOfUnmarked=0,t=0;t<this.questions.length;t++)if(p.default.isQuestionUnmarked(this.questions[t])){maxScoreOfUnmarked=d.default.sumNullableNumbers(l.default.pluck(this.questions,"max_score"));break}return maxScoreOfUnmarked}}]),DichotomousScorer}();i.default=h},32460:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(57767)),d=(_interopRequireDefault(u(73833)),_interopRequireDefault(u(68867))),p=_interopRequireDefault(u(62961)),h=_interopRequireDefault(u(11715)),g=_interopRequireDefault(u(45884));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var v={"per-question":p.default,dichotomous:h.default,dependent:g.default};function round(t,i){if(!l.default.isNumber(t))return t;var u=Math.pow(10,i);return Math.round(t*u)/u}i.default=function GroupScorer(t){if(!t.type)throw"Scoring type is required";if(!l.default.contains(l.default.keys(v),t.type))throw"Scoring type is invalid.";if(!t.questions||!l.default.isArray(t.questions)||!t.questions.length)throw"An array of at least one question score is required";t.questions=l.default.map(t.questions,(function(t){return l.default.isObject(t)?t:{}}));var i=new v[t.type](t.questions);this.score=function(){return round(i.score(),2)},this.maxScore=function(){return round(i.maxScore(),2)},this.maxScoreOfAttempted=function(){return round(i.maxScoreOfAttempted(),2)},this.maxScoreOfUnmarked=function(){return round(i.maxScoreOfUnmarked(),2)},this.attempted=function(){var i=!1;return l.default.forEach(t.questions,(function(t){t.attempted&&(i=!0)})),i},this.unmarked=function(){var i=!1;return l.default.forEach(t.questions,(function(t){d.default.isQuestionUnmarked(t)&&(i=!0)})),i}}},62961:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(57767)),d=_interopRequireDefault(u(73833)),p=_interopRequireDefault(u(68867));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}var h=function(){function PerQuestionScorer(t){!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,PerQuestionScorer),this.questions=t}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(PerQuestionScorer,[{key:"score",value:function score(){return d.default.sumNullableNumbers(l.default.pluck(this.questions,"score"))}},{key:"maxScore",value:function maxScore(){return d.default.sumNullableNumbers(l.default.pluck(this.questions,"max_score"))}},{key:"maxScoreOfAttempted",value:function maxScoreOfAttempted(){for(var maxScoreOfAttempted=0,t=0;t<this.questions.length;t++)this.questions[t].attempted&&(maxScoreOfAttempted=d.default.sumNullableNumbers([maxScoreOfAttempted,this.questions[t].max_score]));return maxScoreOfAttempted}},{key:"maxScoreOfUnmarked",value:function maxScoreOfUnmarked(){for(var maxScoreOfUnmarked=0,t=0;t<this.questions.length;t++)p.default.isQuestionUnmarked(this.questions[t])&&(maxScoreOfUnmarked=d.default.sumNullableNumbers([maxScoreOfUnmarked,this.questions[t].max_score]));return maxScoreOfUnmarked}}]),PerQuestionScorer}();i.default=h},64783:function(t,i,u){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(29818)),d=_interopRequireDefault(u(73833));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}function _setPrototypeOf(t,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,i){return t.__proto__=i,t},_setPrototypeOf(t,i)}function _createSuper(t){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var u,l=_getPrototypeOf(t);if(i){var d=_getPrototypeOf(this).constructor;u=Reflect.construct(l,arguments,d)}else u=l.apply(this,arguments);return function _possibleConstructorReturn(t,i){if(i&&("object"===_typeof(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,u)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var p=function(t){!function _inherits(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&_setPrototypeOf(t,i)}(NonValidatableScorer,t);var i=_createSuper(NonValidatableScorer);function NonValidatableScorer(){return function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,NonValidatableScorer),i.apply(this,arguments)}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(NonValidatableScorer,[{key:"isValid",value:function isValid(){return null}},{key:"score",value:function score(){return this.scoringData.score}},{key:"maxScore",value:function maxScore(){return this.scoringData.maxScore}},{key:"error",value:function error(){}},{key:"canValidateResponse",value:function canValidateResponse(t){return!1}},{key:"scoreQuestionResponse",value:function scoreQuestionResponse(t){this.scoringData={automarkable:!1},d.default.normalizeScores(this.scoringData,t)}}]),NonValidatableScorer}(l.default);i.default=p},29818:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=_interopRequireDefault(u(57767)),d=_interopRequireDefault(u(10925)),p=_interopRequireDefault(u(18145));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var u=0;u<i.length;u++){var l=i[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,(d=l.key,p=void 0,p=function _toPrimitive(t,i){if("object"!==_typeof(t)||null===t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var l=u.call(t,i||"default");if("object"!==_typeof(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(d,"string"),"symbol"===_typeof(p)?p:String(p)),l)}var d,p}i.default=function(){function BaseScorer(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,BaseScorer),i.includeError&&(0,d.default)(this,i),i.scoringErrorHandler=function(i){return t.scoringErrors=i},this.checkSynchronicityOption(i),this.options=i}return function _createClass(t,i,u){return i&&_defineProperties(t.prototype,i),u&&_defineProperties(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}(BaseScorer,[{key:"applyDynamicContentQuestionFormatting",value:function applyDynamicContentQuestionFormatting(t){var i=t.question,u=t.response;if(i&&!l.default.isEmpty(i.dynamic)){var d=u&&l.default.getNested(u,"dynamic.id");t.question=p.default.getFormattedQuestion(i,d)}return t}},{key:"stripSimplefeature",value:function stripSimplefeature(t){!function walkObject(t){Object.keys(t).forEach((function(i){l.default.isObject(t[i])&&!l.default.isEmpty(t[i])?walkObject(t[i]):l.default.isString(t[i])&&(t[i]=function removeAnySimplefeatureIdDataAttribute(t){return t.replace(/data-simplefeature_id="[^"]+"/gi,"")}(t[i]))}))}(t)}},{key:"setError",value:function setError(t){this.scoringData={error:t}}},{key:"checkSynchronicityOption",value:function checkSynchronicityOption(t){if(null!=t&&t.async)throw"This scorer does not support asynchronous scoring."}},{key:"isValid",value:function isValid(){return this.scoringData.isValid}},{key:"score",value:function score(){return this.scoringData.score}},{key:"scoreWithFullPenalty",value:function scoreWithFullPenalty(){return this.scoringData.scoreWithFullPenalty}},{key:"validateIndividualResponses",value:function validateIndividualResponses(){return this.scoringData.responsesValid}},{key:"maxScore",value:function maxScore(){return this.scoringData.maxScore}},{key:"suggestedResponse",value:function suggestedResponse(){return this.scoringData.suggestedResponse}},{key:"error",value:function error(){var t;return null===(t=this.scoringData)||void 0===t?void 0:t.error}},{key:"canValidateResponse",value:function canValidateResponse(t){throw new Error("Must implement canValidateResponse method on this scorer child")}},{key:"executeScoring",value:function executeScoring(t){return this.applyDynamicContentQuestionFormatting(t),this.stripSimplefeature(t),this.questionResponse=t,this.scoringErrors=null,this.scoreQuestionResponse(t)}},{key:"scoreQuestionResponse",value:function scoreQuestionResponse(t){throw new Error("Must implement scoreQuestionResponse method on this scorer child")}}]),BaseScorer}()},73833:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(57767));function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u)return Array.from(t);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(t,i)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var u=0,l=new Array(i);u<i;u++)l[u]=t[u];return l}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function round(t,i){switch(i){case"none":return t;case"ceiling":return Math.ceil(t);default:return Math.floor(t)}}function generateScore(t){var i=l.default.extend({allowNegative:!1,rawScore:null,maxScore:null},t),u=i.rawScore;return l.default.isNumber(u)?(u=Math.min(u,i.maxScore),i.allowNegative||(u=Math.max(0,u)),u):u}function areStringsEqual(t,i,u){var d=l.default.isString(t)&&l.default.isString(i);return d&&!u.caseSensitive&&(t=t.toLowerCase(),i=i.toLowerCase()),d&&u.removeWhitespace&&(t=t.replace(/ | /g,""),i=i.replace(/ | /g,"")),t===i}function validateValueString(t,i,u){return!(u.strictEquality&&(l.default.isUndefined(i)||null===i)&&!l.default.isUndefined(t)&&null!==t&&_typeof(i)!==_typeof(t))&&(u.trimWhiteSpace&&l.default.isString(i)&&l.default.isString(t)&&(i=i.trim(),t=t.trim()),l.default.isEmpty(i)&&l.default.isEmpty(t)||areStringsEqual(i,t,u))}function validateValueMath(t,i,u,l){var d=validateMathLists(i,t?[t]:[],u.validateSingleSpec,1,null,u,l);return u.async?d.then((function(t){return!!t.isValid})):!!d.isValid}function validateValues(t,i,u,d){var p={validateValuesString:function validateValuesString(t,i,u){return l.default.map(t,(function(t,l){return validateValueString(i[l],t,u)}))},validateValuesEquality:function validateValuesEquality(t,i){return l.default.map(t,(function(t,u){return l.default.isEqual(t,i[u])}))},validateValuesIgnoreOrder:function validateValuesIgnoreOrder(t,i){var u=l.default.clone(i);return l.default.map(t,(function(t){var i=l.default.indexOf(u,t);return i>=0&&(delete u[i],!0)}))},validateValuesMath:function validateValuesMath(t,i,u){var p=d;return l.default.map(t,(function(t,l){return validateValueMath(i[l],t,u,p+"-"+l)}))},customValidation:function customValidation(t,i,u){if(l.default.isFunction(u.customValidation))return u.customValidation(t,i,u)}},h=p[getValidationFunctionName(u)].apply(null,[t,i,u]);return u.async?Promise.all(h):h}function findMaxValueElements(t,i){if(!t.length)return[];var u=[],p=i(t[0]);return l.default.each(t,(function(t){var l=i(t);l>p?(p=l,u=[t]):d(l,p)&&u.push(t)})),u}function countValue(t,i){return t.filter((function(t){return t===i})).length}function getScoringSettings(t,i,u){return{scoringType:i.validation.scoring_type,scoreIfCorrect:l.default.isNumber(t.score)?t.score:u.score,penaltyIfIncorrect:-Math.abs(l.default.isNumber(i.validation.penalty)?i.validation.penalty:u.penaltyScore),rounding:i.validation.rounding||u.rounding}}function addGlobalValidityAndScore(t,i,u,d){t.globalValidity=function computeGlobalValidity(t,i,u){switch(t){case"exactMatch":return function computeGlobalValidityExactMatch(t,i){return t.length?t.length===i.length&&!!l.default.all(t):void 0}(i,u);case"partialMatch":case"partialMatchV2":return function computeGlobalValidityPartialMatch(t){return t.length?!!l.default.any(t):void 0}(i);default:throw new Error("Unknown scoring type: "+t)}}(i.scoringType,t.validityPerValue,u),t.score=function computeScore(t,i,u,l,d,p,h){function computeScorePartialMatch(t,i,u){var l=0;return u.forEach((function(u){switch(u){case!1:case null:case void 0:l+=i;break;case!0:l+=t}})),l}switch(t){case"exactMatch":return function computeScoreExactMatch(t,i,u){switch(u){case!1:return i;case!0:return t;default:return 0}}(i,u,l);case"partialMatch":return computeScorePartialMatch(i,u,d);case"partialMatchV2":return round(computeScorePartialMatch(i,u,d)/p,h);default:throw new Error("Unknown scoring type: "+t)}}(i.scoringType,i.scoreIfCorrect,i.penaltyIfIncorrect,t.globalValidity,t.validityPerValue,u.length,i.rounding),t.maxScore=function computeMaxScore(t,i,u){return"partialMatch"===t?i*u.length:i}(i.scoringType,i.scoreIfCorrect,u);var p=d.response;p&&"reset"===p.resetState&&l.default.isNull(p.value)&&(t.score=null);var h=JSON.stringify(d.response);return"{}"!==h&&"[]"!==h||(t.score=null),t}function hydrateValidationResult(t,i,u,l){var d={authoredResponse:u,validityPerValue:t};return d=addGlobalValidityAndScore(d,getScoringSettings(u,i.question,l),u.value,i)}function generateValidationResultFromAllPossibleAnswers(t,i,u,d){var p,h,g=function getAllPossibleAnswers(t){var i=[];return l.default.each(t,(function(t){l.default.each(t.value,(function(t,u){l.default.isUndefined(i[u])&&(i[u]=[]),i[u].push(t)}))})),i}(i);if(l.default.isEmpty(g))return d.async?Promise.resolve({}):{};var v=t.question,y=null!==(p=null===(h=t.response)||void 0===h?void 0:h.value)&&void 0!==p?p:[],S=getScoringSettings(i[0],v,u),w=function validateValuesForAllPossibleAnswers(t,i,u){var d={validateValuesString:function validateValuesString(t,i,u){var d=[];return{valueList:l.default.map(t,(function(t,p){var h=i[p],g=l.default.findIndex(h,(function(i){return!l.default.isEmpty(i)&&validateValueString(i,t,u)}));return-1!==g&&(l.default.isUndefined(d[g])?d[g]=1:d[g]++,!0)})),indexMatchCount:d}},validateValuesEquality:function validateValuesEquality(t,i,u){var d=[];return{valueList:l.default.map(t,(function(t,u){var p=i[u],h=l.default.findIndex(p,(function(i){return l.default.isEqual(t,i)}));return-1!==h&&(l.default.isUndefined(d[h])?d[h]=1:d[h]++,!0)})),indexMatchCount:d}},validateValuesIgnoreOrder:function validateValuesIgnoreOrder(t,i,u){var d=l.default.clone(i),p=[];return{valueList:l.default.map(t,(function(t){var i=-1;l.default.each(d,(function(u,h){var g=l.default.indexOf(u,t);return-1===i&&l.default.indexOf(u,g>=0)&&(i=h,l.default.isUndefined(p[g])?p[g]=1:p[g]++),i>=0&&(delete d[i],!0)}))})),indexMatchCount:p}},validateValuesMath:function validateValuesMath(t,i,u){var d=[],p=function determineValueAndIncrementIndexMatchCount(t){var i=t.indexOf(!0);return-1!==i&&(l.default.isUndefined(d[i])?d[i]=1:d[i]++,!0)};if(u.async){var h=0;return Promise.all(t.map((function(t,l){return Promise.all(i[l].map((function(i){return validateValueMath(i,t,u,h++)}))).then((function(t){return p(t)}))}))).then((function(t){return{valueList:t,indexMatchCount:d}}))}var g=0;return{valueList:t.map((function(t,l){var d=i[l].map((function(i){return validateValueMath(i,t,u,g++)}));return p(d)})),indexMatchCount:d}},customValidation:function customValidation(t,i,u){if(l.default.isFunction(u.customValidation))return u.customValidation(t,i,u)}},p=d[getValidationFunctionName(u)].apply(null,[t,i,u]);return!u.async||p instanceof Promise||(p=Promise.resolve(p)),p}(y,g,d),E=function processResults(u){var d=0,p=0;l.default.each(u.indexMatchCount,(function(t,i){l.default.isNumber(t)&&t>p&&(p=t,d=i)}));var h={validityPerValue:u.valueList};return i[d]?(h.authoredResponse=i[d],h.authoredResponse.score=S.scoreIfCorrect):h.authoredResponse=i[0],h=addGlobalValidityAndScore(h,S,g,t)};return d.async?w.then(E):E(w)}function generateValidationResults(t,i,u,l){var d;d=!0===(null==l?void 0:l.matchAllPossibleResponses)?[generateValidationResultFromAllPossibleAnswers(t,i,u,l)]:i.filter((function(t){return t.value})).map((function(i,d){return function generateValidationResult(t,i,u,l,d){var p,h,g=null!==(p=null===(h=t.response)||void 0===h?void 0:h.value)&&void 0!==p?p:[];return l.async?validateValues(g,i.value,l,d).then((function(l){return hydrateValidationResult(l,t,i,u)})):hydrateValidationResult(validateValues(g,i.value,l,d),t,i,u)}(t,i,u,l,d)}));var p=function processResults(t){return t.length<=0&&(t=[{authoredResponse:void 0,validityPerValue:null,globalValidity:void 0,score:null,maxScore:0}]),t};return l.async?Promise.all(d).then(p):p(d)}function getValidationFunctionName(t){return!t||l.default.isEmpty(t)?"validateValuesEquality":t.validateSingleSpec?"validateValuesMath":t.ignoreOrder?"validateValuesIgnoreOrder":l.default.isFunction(t.customValidation)?"customValidation":"validateValuesString"}function generateOverallScoringFromValidationResults(t,i){var u=function chooseBestValidationResult(t){var i=t;return i=findMaxValueElements(i,(function(t){return t.score||0})),i=findMaxValueElements(i,(function(t){return countValue(t.validityPerValue||[],!0)})),(i=findMaxValueElements(i,(function(t){return t.maxScore||0})))[0]}(t),l=function chooseBestSuggestedResponse(t){var i=t;return i=findMaxValueElements(i,(function(t){return t.maxScore||0})),(i=findMaxValueElements(i,(function(t){return countValue(t.validityPerValue||[],!0)})))[0]}(t);return{responsesValid:u.validityPerValue,isValid:u.globalValidity,suggestedResponse:l.authoredResponse,maxScore:l.maxScore,scoreWithFullPenalty:generateScore({allowNegative:!0,rawScore:u.score,maxScore:u.maxScore}),score:generateScore({allowNegative:i.question.validation.allow_negative_scores,rawScore:u.score,maxScore:u.maxScore})}}var d=function epsEqu(t,i){return Math.abs(t-i)<1e-6};function validateMathLists(t,i,u,d,p){for(var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},g=arguments.length>6?arguments[6]:void 0,v=[],y=[],S=-1/0,w=0,E=0;E<i.length;E++){var R=i[E],A=void 0,T=void 0;l.default.isArray(R)?(S=T=d,A=R):(T=l.default.isNumber(R.score)?R.score:d,S=Math.max(S,T),A=R.value),v.push(T),A=A||[];var x=[];if(l.default.isString(t))for(var C=0;C<A.length;C++){var M=A[C];l.default.isString(M.options)&&(M.options=JSON.parse(M.options)),x.push([M,t,{id:g+"-"+w++}])}x.length&&y.push(x)}S=S===-1/0?d:S;var O=function processResults(i){for(var u=-1/0,d=null,g=null,y=0;y<i.length;y++){for(var w=i[y].length>0,E=0;E<i[y].length;E++){var R,A=i[y][E],T=A.spec,x=A.evaluation,C=!0===x.result||!0===(null==x||null===(R=x.result)||void 0===R||null===(R=R.data)||void 0===R||null===(R=R.score[0])||void 0===R?void 0:R.result);if(w=w&&C,!l.default.isBoolean(x.result)&&!l.default.isObject(x.result)){var M,O,P,I=["method: "+(null==T||null===(M=T[0])||void 0===M?void 0:M.method)];null!=T&&null!==(O=T[0])&&void 0!==O&&O.value&&I.push("value: '"+T[0].value+"'"),null!=T&&null!==(P=T[0])&&void 0!==P&&P.options&&I.push("options: "+JSON.stringify(T[0].options)),g={code:x.errorCode,name:"MathQuestionException",message:x.message+" Failed validating user input '"+t+"' against validation object: "+I.join(", "),location:x.location}}}w&&(u=Math.max(u,v[y])),d=d||w}u=u===-1/0?void 0:u,!i.length||d||l.default.isUndefined(p)||(u=-p);var D={maxScore:S,isValid:d,scoreWithFullPenalty:generateScore({allowNegative:!0,rawScore:u,maxScore:S})};return g&&(l.default.isFunction(h.scoringErrorHandler)&&h.scoringErrorHandler(g),D.error=g),D};return h.async?Promise.all(y.map((function(t){return Promise.all(t.map((function(t){return Promise.resolve(u.apply(void 0,_toConsumableArray(t))).then((function(i){return{spec:t,evaluation:i}}))})))}))).then(O):O(y.map((function(t){return t.map((function(t){return{spec:t,evaluation:u.apply(void 0,_toConsumableArray(t))}}))})))}function isPlainObj(t){return t&&"object"==_typeof(t)&&t.constructor&&t.constructor==Object}function recursiveParameterClean(t){return isPlainObj(t)?(l.default.each(t,(function(i,u){if(isPlainObj(i))t[u]=recursiveParameterClean(i);else if(l.default.isArray(i))t[u]=l.default.map(i,recursiveParameterClean);else if(l.default.isString(i))switch(u){case"score":case"valid_score":case"penalty_score":t[u]=parseFloat(i);break;case"pairwise":case"case_sensitive":case"is_math":t[u]="true"===i.toLowerCase()||"false"!==i.toLowerCase()&&null,l.default.isNull(t[u])&&delete t[u]}})),t):t}function setCompatibilityOption(t){return"equivLiteral"===t.method&&(t.options.compatibility="v1.37"),t}i.default={round:round,normalizeScores:function normalizeScores(t,i){var u=t.isAttempted,d=l.default.getNested(i,"question.validation.min_score_if_attempted"),p=l.default.getNested(i,"question.validation.max_score"),h=l.default.getNested(i,"question.validation.unscored");l.default.isUndefined(u)&&(u=i.response&&isPlainObj(i.response)&&!!i.response.value),l.default.isBoolean(t.isValid)||(t.isValid=null),!0===h?(t.score=null,t.maxScore=null):(l.default.isNumber(t.score)?t.score=parseFloat(t.score.toFixed(4)):t.score=null,l.default.isNumber(t.maxScore)?(t.maxScore=parseFloat(t.maxScore.toFixed(4)),u&&l.default.isNull(t.score)&&t.maxScore>0&&(t.score=0)):t.maxScore=null,!1===t.automarkable&&l.default.isNumber(p)&&(t.maxScore=p),l.default.isUndefined(d)||(u&&(t.score=Math.max(t.score,d)),t.maxScore=Math.max(t.maxScore,d))),l.default.isUndefined(t.automarkable)&&(t.automarkable=!0)},scoreArray:function scoreArray(t,i,u){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.async?generateValidationResults(t,i,u,l).then((function(i){return generateOverallScoringFromValidationResults(i,t)})):generateOverallScoringFromValidationResults(generateValidationResults(t,i,u,l),t)},generateScore:generateScore,addIfDefined:function addIfDefined(t,i){return l.default.isNumber(i)&&(l.default.isUndefined(t)&&(t=0),t+=i),t},stringCompare:areStringsEqual,scoreList:function scoreList(t,i){var u,d,p,h,g,v,y=t.question.validation,S=y.valid_response,w=l.default.isNumber(y.valid_score)?y.valid_score:i.score,E=t.response.value||[],R=w*S.length,A="orderlist"===t.question.type&&!0===y.pairwise,T=[],x=0,C=0;if(E.length){if(p=0,A){for(u=l.default.map(E,(function(t){return l.default.indexOf(S,t)})),g=0;g<u.length;g++)for(v=g+1;v<u.length;v++)C++,u[g]<u[v]&&x++;p=parseFloat((S.length*x/C).toPrecision(2)),C&&(h=l.default.isUndefined(y.partial_scoring)||y.partial_scoring?x>0:C===x)}for(g=0;g<E.length;g++)d=void 0,S[g]==E[g]?(d=w,T.push(!0)):T.push(!1),A||l.default.isUndefined(d)?!A&&l.default.isNumber(y.penalty_score)&&(p-=Math.abs(y.penalty_score)):p+=d;!A&&T.length&&(h=l.default.isUndefined(y.partial_scoring)||y.partial_scoring?l.default.any(T):l.default.all(T)),l.default.isUndefined(y.partial_scoring)||y.partial_scoring||p===R||(p=0)}return{maxScore:R,score:p,isValid:h,responsesValid:T}},normalizeParameters:function normalizeParameters(t){return recursiveParameterClean(t=l.default.clone(t))},validateMathLists:validateMathLists,sumNullableNumbers:function sumNullableNumbers(t){return l.default.reduce(t,(function(t,i){return i=l.default.isNumber(i)?i:null,l.default.isNumber(i)||l.default.isNumber(t)?i+t:null}),null)},InvalidScoringTypeException:function InvalidScoringTypeException(t,i){this.message=t+" does not support scoring type "+i,this.name="InvalidScoringTypeException",this.toString=function(){return this.name+": "+this.message}},epsEquals:d,processCompatibility:function processCompatibility(t){return l.default.each(t.question.validation.valid_response.value,(function(t){l.default.isArray(t)?l.default.each(t,(function(t){t=setCompatibilityOption(t)})):t=setCompatibilityOption(t)})),l.default.each(t.question.validation.alt_responses,(function(t){l.default.each(t.value,(function(t){l.default.isArray(t)?l.default.each(t,(function(t){t=setCompatibilityOption(t)})):t=setCompatibilityOption(t)}))})),t},generateOverallScoringFromValidationResults:generateOverallScoringFromValidationResults,hydrateValidationResult:hydrateValidationResult}},68867:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(57767));var d={isQuestionCorrect:function isQuestionCorrect(t){return l.default.isNumber(t.score)&&t.score===t.max_score},isQuestionUnmarked:function isQuestionUnmarked(t){return l.default.isObject(t)&&l.default.isNull(t.score)&&t.attempted&&!t.automarkable}};i.default=d},57767:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(62562));function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}l.default.mixin({getNested:function getNested(t,i){if(t){var u=i.match(/(.+?)\.(.*)/);return u?this.getNested(t[u[1]],u[2]):t[i]}},exists:function exists(t){return null!=t},deepClone:function deepClone(t,i){if(!t||"object"!==_typeof(t))return t;if(l.default.isString(t))return String.prototype.slice.call(t);if(l.default.isDate(t))return new Date(t.valueOf());if(l.default.isFunction(t.clone))return t.clone();var u;if(l.default.isArray(t))u=Array.prototype.slice.call(t);else{if(t.constructor!=={}.constructor)return t;u=l.default.extend({},t)}if(!l.default.isUndefined(i)&&i>0)for(var d in u)u[d]=l.default.deepClone(u[d],i-1);return u}});i.default=l.default},18145:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(57767));var d=["association","choicematrix","classification","clozeassociation","clozedropdown","clozeformula","formulaV2","imageclozedropdown","imageclozeassociationV2","mcq"],p=function isWhiteListed(t){return l.default.contains(d,t)};i.default={getFormattedQuestion:function getFormattedQuestion(t,i){if(t){var u=l.default.deepClone(t),d=u.dynamic;if(!l.default.isEmpty(d)&&p(u.type)){var h=d.rows,g=d.cols,v=!l.default.isString(i)||l.default.isEmpty(i)?h[0]:l.default.findWhere(h,{id:i});if(v){var y=v.values,S=function(){var t={};return l.default.each(g,(function(i,u){t[i]=y[u]})),t}(),w=JSON.stringify(u).replace(/{{var:([a-z0-9 _]+)}}/gi,(function(t,i){var u=S[i];return l.default.isString(u)?JSON.stringify(u).slice(1,-1):t}));try{u=JSON.parse(w)}catch(t){}}}return u}},isWhiteListed:p}},10925:function(t,i,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function enhanceWithErrorHandler(t){if(l.default.isFunction(t.executeScoring)){var i=t.executeScoring.bind(t);t.executeScoring=function(){var u=i.apply(void 0,arguments),d=function errorThrower(){var i=t.error();if(i){if("MathQuestionException"!==i.name)throw new Error(i);console.error(i)}};if(l.default.isFunction(null==u?void 0:u.then))return u.then(d);d()}}};var l=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(u(62562))},53373:function(t,i){var u;!function(){"use strict";var l={}.hasOwnProperty;function classNames(){for(var t="",i=0;i<arguments.length;i++){var u=arguments[i];u&&(t=appendClass(t,parseValue(u)))}return t}function parseValue(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return classNames.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var i="";for(var u in t)l.call(t,u)&&t[u]&&(i=appendClass(i,u));return i}function appendClass(t,i){return i?t?t+" "+i:t+i:t}t.exports?(classNames.default=classNames,t.exports=classNames):void 0===(u=function(){return classNames}.apply(i,[]))||(t.exports=u)}()},73781:function(t){var i;i=function(){var t="1.13.7",i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},u=Array.prototype,l=Object.prototype,d="undefined"!=typeof Symbol?Symbol.prototype:null,p=u.push,h=u.slice,g=l.toString,v=l.hasOwnProperty,y="undefined"!=typeof ArrayBuffer,S="undefined"!=typeof DataView,w=Array.isArray,E=Object.keys,R=Object.create,A=y&&ArrayBuffer.isView,T=isNaN,x=isFinite,C=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],O=Math.pow(2,53)-1;function restArguments(t,i){return i=null==i?t.length-1:+i,function(){for(var u=Math.max(arguments.length-i,0),l=Array(u),d=0;d<u;d++)l[d]=arguments[d+i];switch(i){case 0:return t.call(this,l);case 1:return t.call(this,arguments[0],l);case 2:return t.call(this,arguments[0],arguments[1],l)}var p=Array(i+1);for(d=0;d<i;d++)p[d]=arguments[d];return p[i]=l,t.apply(this,p)}}function isObject(t){var i=typeof t;return"function"===i||"object"===i&&!!t}function isUndefined(t){return void 0===t}function isBoolean(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)}function tagTester(t){var i="[object "+t+"]";return function(t){return g.call(t)===i}}var P=tagTester("String"),I=tagTester("Number"),D=tagTester("Date"),N=tagTester("RegExp"),L=tagTester("Error"),q=tagTester("Symbol"),V=tagTester("ArrayBuffer"),j=tagTester("Function"),U=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof U&&(j=function(t){return"function"==typeof t||!1});var B=j,H=tagTester("Object"),z=S&&(!/\[native code\]/.test(String(DataView))||H(new DataView(new ArrayBuffer(8)))),Q="undefined"!=typeof Map&&H(new Map),W=tagTester("DataView"),G=z?function alternateIsDataView(t){return null!=t&&B(t.getInt8)&&V(t.buffer)}:W,$=w||tagTester("Array");function has$1(t,i){return null!=t&&v.call(t,i)}var Y=tagTester("Arguments");!function(){Y(arguments)||(Y=function(t){return has$1(t,"callee")})}();var J=Y;function isNaN$1(t){return I(t)&&T(t)}function constant(t){return function(){return t}}function createSizePropertyCheck(t){return function(i){var u=t(i);return"number"==typeof u&&u>=0&&u<=O}}function shallowProperty(t){return function(i){return null==i?void 0:i[t]}}var K=shallowProperty("byteLength"),X=createSizePropertyCheck(K),Z=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,ee=y?function isTypedArray(t){return A?A(t)&&!G(t):X(t)&&Z.test(g.call(t))}:constant(!1),te=shallowProperty("length");function collectNonEnumProps(t,i){i=function emulatedSet(t){for(var i={},u=t.length,l=0;l<u;++l)i[t[l]]=!0;return{contains:function(t){return!0===i[t]},push:function(u){return i[u]=!0,t.push(u)}}}(i);var u=M.length,d=t.constructor,p=B(d)&&d.prototype||l,h="constructor";for(has$1(t,h)&&!i.contains(h)&&i.push(h);u--;)(h=M[u])in t&&t[h]!==p[h]&&!i.contains(h)&&i.push(h)}function keys(t){if(!isObject(t))return[];if(E)return E(t);var i=[];for(var u in t)has$1(t,u)&&i.push(u);return C&&collectNonEnumProps(t,i),i}function isMatch(t,i){var u=keys(i),l=u.length;if(null==t)return!l;for(var d=Object(t),p=0;p<l;p++){var h=u[p];if(i[h]!==d[h]||!(h in d))return!1}return!0}function _$1(t){return t instanceof _$1?t:this instanceof _$1?void(this._wrapped=t):new _$1(t)}function toBufferView(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,K(t))}_$1.VERSION=t,_$1.prototype.value=function(){return this._wrapped},_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value,_$1.prototype.toString=function(){return String(this._wrapped)};var ne="[object DataView]";function eq(t,i,u,l){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return!1;if(t!=t)return i!=i;var d=typeof t;return("function"===d||"object"===d||"object"==typeof i)&&deepEq(t,i,u,l)}function deepEq(t,i,u,l){t instanceof _$1&&(t=t._wrapped),i instanceof _$1&&(i=i._wrapped);var p=g.call(t);if(p!==g.call(i))return!1;if(z&&"[object Object]"==p&&G(t)){if(!G(i))return!1;p=ne}switch(p){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object Symbol]":return d.valueOf.call(t)===d.valueOf.call(i);case"[object ArrayBuffer]":case ne:return deepEq(toBufferView(t),toBufferView(i),u,l)}var h="[object Array]"===p;if(!h&&ee(t)){if(K(t)!==K(i))return!1;if(t.buffer===i.buffer&&t.byteOffset===i.byteOffset)return!0;h=!0}if(!h){if("object"!=typeof t||"object"!=typeof i)return!1;var v=t.constructor,y=i.constructor;if(v!==y&&!(B(v)&&v instanceof v&&B(y)&&y instanceof y)&&"constructor"in t&&"constructor"in i)return!1}l=l||[];for(var S=(u=u||[]).length;S--;)if(u[S]===t)return l[S]===i;if(u.push(t),l.push(i),h){if((S=t.length)!==i.length)return!1;for(;S--;)if(!eq(t[S],i[S],u,l))return!1}else{var w,E=keys(t);if(S=E.length,keys(i).length!==S)return!1;for(;S--;)if(!has$1(i,w=E[S])||!eq(t[w],i[w],u,l))return!1}return u.pop(),l.pop(),!0}function allKeys(t){if(!isObject(t))return[];var i=[];for(var u in t)i.push(u);return C&&collectNonEnumProps(t,i),i}function ie11fingerprint(t){var i=te(t);return function(u){if(null==u)return!1;var l=allKeys(u);if(te(l))return!1;for(var d=0;d<i;d++)if(!B(u[t[d]]))return!1;return t!==se||!B(u[re])}}var re="forEach",ie=["clear","delete"],oe=["get","has","set"],ae=ie.concat(re,oe),se=ie.concat(oe),ue=["add"].concat(ie,re,"has"),le=Q?ie11fingerprint(ae):tagTester("Map"),ce=Q?ie11fingerprint(se):tagTester("WeakMap"),de=Q?ie11fingerprint(ue):tagTester("Set"),fe=tagTester("WeakSet");function values(t){for(var i=keys(t),u=i.length,l=Array(u),d=0;d<u;d++)l[d]=t[i[d]];return l}function invert(t){for(var i={},u=keys(t),l=0,d=u.length;l<d;l++)i[t[u[l]]]=u[l];return i}function functions(t){var i=[];for(var u in t)B(t[u])&&i.push(u);return i.sort()}function createAssigner(t,i){return function(u){var l=arguments.length;if(i&&(u=Object(u)),l<2||null==u)return u;for(var d=1;d<l;d++)for(var p=arguments[d],h=t(p),g=h.length,v=0;v<g;v++){var y=h[v];i&&void 0!==u[y]||(u[y]=p[y])}return u}}var pe=createAssigner(allKeys),he=createAssigner(keys),ge=createAssigner(allKeys,!0);function baseCreate(t){if(!isObject(t))return{};if(R)return R(t);var Ctor=function(){};Ctor.prototype=t;var i=new Ctor;return Ctor.prototype=null,i}function toPath$1(t){return $(t)?t:[t]}function toPath(t){return _$1.toPath(t)}function deepGet(t,i){for(var u=i.length,l=0;l<u;l++){if(null==t)return;t=t[i[l]]}return u?t:void 0}function get(t,i,u){var l=deepGet(t,toPath(i));return isUndefined(l)?u:l}function identity(t){return t}function matcher(t){return t=he({},t),function(i){return isMatch(i,t)}}function property(t){return t=toPath(t),function(i){return deepGet(i,t)}}function optimizeCb(t,i,u){if(void 0===i)return t;switch(null==u?3:u){case 1:return function(u){return t.call(i,u)};case 3:return function(u,l,d){return t.call(i,u,l,d)};case 4:return function(u,l,d,p){return t.call(i,u,l,d,p)}}return function(){return t.apply(i,arguments)}}function baseIteratee(t,i,u){return null==t?identity:B(t)?optimizeCb(t,i,u):isObject(t)&&!$(t)?matcher(t):property(t)}function iteratee(t,i){return baseIteratee(t,i,1/0)}function cb(t,i,u){return _$1.iteratee!==iteratee?_$1.iteratee(t,i):baseIteratee(t,i,u)}function noop(){}function random(t,i){return null==i&&(i=t,t=0),t+Math.floor(Math.random()*(i-t+1))}_$1.toPath=toPath$1,_$1.iteratee=iteratee;var me=Date.now||function(){return(new Date).getTime()};function createEscaper(t){var escaper=function(i){return t[i]},i="(?:"+keys(t).join("|")+")",u=RegExp(i),l=RegExp(i,"g");return function(t){return t=null==t?"":""+t,u.test(t)?t.replace(l,escaper):t}}var ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ye=createEscaper(ve),be=createEscaper(invert(ve)),_e=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Se=/(.)^/,we={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ee=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(t){return"\\"+we[t]}var Re=/^\s*(\w|\$)+\s*$/,Ae=0;function executeBound(t,i,u,l,d){if(!(l instanceof i))return t.apply(u,d);var p=baseCreate(t.prototype),h=t.apply(p,d);return isObject(h)?h:p}var Te=restArguments((function(t,i){var u=Te.placeholder,bound=function(){for(var l=0,d=i.length,p=Array(d),h=0;h<d;h++)p[h]=i[h]===u?arguments[l++]:i[h];for(;l<arguments.length;)p.push(arguments[l++]);return executeBound(t,bound,this,this,p)};return bound}));Te.placeholder=_$1;var xe=restArguments((function(t,i,u){if(!B(t))throw new TypeError("Bind must be called on a function");var l=restArguments((function(d){return executeBound(t,l,i,this,u.concat(d))}));return l})),Ce=createSizePropertyCheck(te);function flatten$1(t,i,u,l){if(l=l||[],i||0===i){if(i<=0)return l.concat(t)}else i=1/0;for(var d=l.length,p=0,h=te(t);p<h;p++){var g=t[p];if(Ce(g)&&($(g)||J(g)))if(i>1)flatten$1(g,i-1,u,l),d=l.length;else for(var v=0,y=g.length;v<y;)l[d++]=g[v++];else u||(l[d++]=g)}return l}var Me=restArguments((function(t,i){var u=(i=flatten$1(i,!1,!1)).length;if(u<1)throw new Error("bindAll must be passed function names");for(;u--;){var l=i[u];t[l]=xe(t[l],t)}return t})),Oe=restArguments((function(t,i,u){return setTimeout((function(){return t.apply(null,u)}),i)})),Pe=Te(Oe,_$1,1);function negate(t){return function(){return!t.apply(this,arguments)}}function before(t,i){var u;return function(){return--t>0&&(u=i.apply(this,arguments)),t<=1&&(i=null),u}}var Ie=Te(before,2);function findKey(t,i,u){i=cb(i,u);for(var l,d=keys(t),p=0,h=d.length;p<h;p++)if(i(t[l=d[p]],l,t))return l}function createPredicateIndexFinder(t){return function(i,u,l){u=cb(u,l);for(var d=te(i),p=t>0?0:d-1;p>=0&&p<d;p+=t)if(u(i[p],p,i))return p;return-1}}var ke=createPredicateIndexFinder(1),De=createPredicateIndexFinder(-1);function sortedIndex(t,i,u,l){for(var d=(u=cb(u,l,1))(i),p=0,h=te(t);p<h;){var g=Math.floor((p+h)/2);u(t[g])<d?p=g+1:h=g}return p}function createIndexFinder(t,i,u){return function(l,d,p){var g=0,v=te(l);if("number"==typeof p)t>0?g=p>=0?p:Math.max(p+v,g):v=p>=0?Math.min(p+1,v):p+v+1;else if(u&&p&&v)return l[p=u(l,d)]===d?p:-1;if(d!=d)return(p=i(h.call(l,g,v),isNaN$1))>=0?p+g:-1;for(p=t>0?g:v-1;p>=0&&p<v;p+=t)if(l[p]===d)return p;return-1}}var Ne=createIndexFinder(1,ke,sortedIndex),Le=createIndexFinder(-1,De);function find(t,i,u){var l=(Ce(t)?ke:findKey)(t,i,u);if(void 0!==l&&-1!==l)return t[l]}function each(t,i,u){var l,d;if(i=optimizeCb(i,u),Ce(t))for(l=0,d=t.length;l<d;l++)i(t[l],l,t);else{var p=keys(t);for(l=0,d=p.length;l<d;l++)i(t[p[l]],p[l],t)}return t}function map(t,i,u){i=cb(i,u);for(var l=!Ce(t)&&keys(t),d=(l||t).length,p=Array(d),h=0;h<d;h++){var g=l?l[h]:h;p[h]=i(t[g],g,t)}return p}function createReduce(t){return function(i,u,l,d){var p=arguments.length>=3;return function(i,u,l,d){var p=!Ce(i)&&keys(i),h=(p||i).length,g=t>0?0:h-1;for(d||(l=i[p?p[g]:g],g+=t);g>=0&&g<h;g+=t){var v=p?p[g]:g;l=u(l,i[v],v,i)}return l}(i,optimizeCb(u,d,4),l,p)}}var qe=createReduce(1),Fe=createReduce(-1);function filter(t,i,u){var l=[];return i=cb(i,u),each(t,(function(t,u,d){i(t,u,d)&&l.push(t)})),l}function every(t,i,u){i=cb(i,u);for(var l=!Ce(t)&&keys(t),d=(l||t).length,p=0;p<d;p++){var h=l?l[p]:p;if(!i(t[h],h,t))return!1}return!0}function some(t,i,u){i=cb(i,u);for(var l=!Ce(t)&&keys(t),d=(l||t).length,p=0;p<d;p++){var h=l?l[p]:p;if(i(t[h],h,t))return!0}return!1}function contains(t,i,u,l){return Ce(t)||(t=values(t)),("number"!=typeof u||l)&&(u=0),Ne(t,i,u)>=0}var Ve=restArguments((function(t,i,u){var l,d;return B(i)?d=i:(i=toPath(i),l=i.slice(0,-1),i=i[i.length-1]),map(t,(function(t){var p=d;if(!p){if(l&&l.length&&(t=deepGet(t,l)),null==t)return;p=t[i]}return null==p?p:p.apply(t,u)}))}));function pluck(t,i){return map(t,property(i))}function max(t,i,u){var l,d,p=-1/0,h=-1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var g=0,v=(t=Ce(t)?t:values(t)).length;g<v;g++)null!=(l=t[g])&&l>p&&(p=l);else i=cb(i,u),each(t,(function(t,u,l){((d=i(t,u,l))>h||d===-1/0&&p===-1/0)&&(p=t,h=d)}));return p}var je=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(t){return t?$(t)?h.call(t):P(t)?t.match(je):Ce(t)?map(t,identity):values(t):[]}function sample(t,i,u){if(null==i||u)return Ce(t)||(t=values(t)),t[random(t.length-1)];var l=toArray(t),d=te(l);i=Math.max(Math.min(i,d),0);for(var p=d-1,h=0;h<i;h++){var g=random(h,p),v=l[h];l[h]=l[g],l[g]=v}return l.slice(0,i)}function group(t,i){return function(u,l,d){var p=i?[[],[]]:{};return l=cb(l,d),each(u,(function(i,d){var h=l(i,d,u);t(p,i,h)})),p}}var Ue=group((function(t,i,u){has$1(t,u)?t[u].push(i):t[u]=[i]})),Be=group((function(t,i,u){t[u]=i})),He=group((function(t,i,u){has$1(t,u)?t[u]++:t[u]=1})),ze=group((function(t,i,u){t[u?0:1].push(i)}),!0);function keyInObj(t,i,u){return i in u}var Qe=restArguments((function(t,i){var u={},l=i[0];if(null==t)return u;B(l)?(i.length>1&&(l=optimizeCb(l,i[1])),i=allKeys(t)):(l=keyInObj,i=flatten$1(i,!1,!1),t=Object(t));for(var d=0,p=i.length;d<p;d++){var h=i[d],g=t[h];l(g,h,t)&&(u[h]=g)}return u})),We=restArguments((function(t,i){var u,l=i[0];return B(l)?(l=negate(l),i.length>1&&(u=i[1])):(i=map(flatten$1(i,!1,!1),String),l=function(t,u){return!contains(i,u)}),Qe(t,l,u)}));function initial(t,i,u){return h.call(t,0,Math.max(0,t.length-(null==i||u?1:i)))}function first(t,i,u){return null==t||t.length<1?null==i||u?void 0:[]:null==i||u?t[0]:initial(t,t.length-i)}function rest(t,i,u){return h.call(t,null==i||u?1:i)}var Ge=restArguments((function(t,i){return i=flatten$1(i,!0,!0),filter(t,(function(t){return!contains(i,t)}))})),$e=restArguments((function(t,i){return Ge(t,i)}));function uniq(t,i,u,l){isBoolean(i)||(l=u,u=i,i=!1),null!=u&&(u=cb(u,l));for(var d=[],p=[],h=0,g=te(t);h<g;h++){var v=t[h],y=u?u(v,h,t):v;i&&!u?(h&&p===y||d.push(v),p=y):u?contains(p,y)||(p.push(y),d.push(v)):contains(d,v)||d.push(v)}return d}var Ye=restArguments((function(t){return uniq(flatten$1(t,!0,!0))}));function unzip(t){for(var i=t&&max(t,te).length||0,u=Array(i),l=0;l<i;l++)u[l]=pluck(t,l);return u}var Je=restArguments(unzip);function chainResult(t,i){return t._chain?_$1(i).chain():i}function mixin(t){return each(functions(t),(function(i){var u=_$1[i]=t[i];_$1.prototype[i]=function(){var t=[this._wrapped];return p.apply(t,arguments),chainResult(this,u.apply(_$1,t))}})),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var i=u[t];_$1.prototype[t]=function(){var u=this._wrapped;return null!=u&&(i.apply(u,arguments),"shift"!==t&&"splice"!==t||0!==u.length||delete u[0]),chainResult(this,u)}})),each(["concat","join","slice"],(function(t){var i=u[t];_$1.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=i.apply(t,arguments)),chainResult(this,t)}}));var Ke={__proto__:null,VERSION:t,restArguments:restArguments,isObject:isObject,isNull:function isNull(t){return null===t},isUndefined:isUndefined,isBoolean:isBoolean,isElement:function isElement(t){return!(!t||1!==t.nodeType)},isString:P,isNumber:I,isDate:D,isRegExp:N,isError:L,isSymbol:q,isArrayBuffer:V,isDataView:G,isArray:$,isFunction:B,isArguments:J,isFinite:function isFinite$1(t){return!q(t)&&x(t)&&!isNaN(parseFloat(t))},isNaN:isNaN$1,isTypedArray:ee,isEmpty:function isEmpty(t){if(null==t)return!0;var i=te(t);return"number"==typeof i&&($(t)||P(t)||J(t))?0===i:0===te(keys(t))},isMatch:isMatch,isEqual:function isEqual(t,i){return eq(t,i)},isMap:le,isWeakMap:ce,isSet:de,isWeakSet:fe,keys:keys,allKeys:allKeys,values:values,pairs:function pairs(t){for(var i=keys(t),u=i.length,l=Array(u),d=0;d<u;d++)l[d]=[i[d],t[i[d]]];return l},invert:invert,functions:functions,methods:functions,extend:pe,extendOwn:he,assign:he,defaults:ge,create:function create(t,i){var u=baseCreate(t);return i&&he(u,i),u},clone:function clone(t){return isObject(t)?$(t)?t.slice():pe({},t):t},tap:function tap(t,i){return i(t),t},get:get,has:function has(t,i){for(var u=(i=toPath(i)).length,l=0;l<u;l++){var d=i[l];if(!has$1(t,d))return!1;t=t[d]}return!!u},mapObject:function mapObject(t,i,u){i=cb(i,u);for(var l=keys(t),d=l.length,p={},h=0;h<d;h++){var g=l[h];p[g]=i(t[g],g,t)}return p},identity:identity,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:function propertyOf(t){return null==t?noop:function(i){return get(t,i)}},matcher:matcher,matches:matcher,times:function times(t,i,u){var l=Array(Math.max(0,t));i=optimizeCb(i,u,1);for(var d=0;d<t;d++)l[d]=i(d);return l},random:random,now:me,escape:ye,unescape:be,templateSettings:_e,template:function template(t,i,u){!i&&u&&(i=u),i=ge({},i,_$1.templateSettings);var l=RegExp([(i.escape||Se).source,(i.interpolate||Se).source,(i.evaluate||Se).source].join("|")+"|$","g"),d=0,p="__p+='";t.replace(l,(function(i,u,l,h,g){return p+=t.slice(d,g).replace(Ee,escapeChar),d=g+i.length,u?p+="'+\n((__t=("+u+"))==null?'':_.escape(__t))+\n'":l?p+="'+\n((__t=("+l+"))==null?'':__t)+\n'":h&&(p+="';\n"+h+"\n__p+='"),i})),p+="';\n";var h,g=i.variable;if(g){if(!Re.test(g))throw new Error("variable is not a bare identifier: "+g)}else p="with(obj||{}){\n"+p+"}\n",g="obj";p="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+p+"return __p;\n";try{h=new Function(g,"_",p)}catch(t){throw t.source=p,t}var template=function(t){return h.call(this,t,_$1)};return template.source="function("+g+"){\n"+p+"}",template},result:function result(t,i,u){var l=(i=toPath(i)).length;if(!l)return B(u)?u.call(t):u;for(var d=0;d<l;d++){var p=null==t?void 0:t[i[d]];void 0===p&&(p=u,d=l),t=B(p)?p.call(t):p}return t},uniqueId:function uniqueId(t){var i=++Ae+"";return t?t+i:i},chain:function chain(t){var i=_$1(t);return i._chain=!0,i},iteratee:iteratee,partial:Te,bind:xe,bindAll:Me,memoize:function memoize(t,i){var memoize=function(u){var l=memoize.cache,d=""+(i?i.apply(this,arguments):u);return has$1(l,d)||(l[d]=t.apply(this,arguments)),l[d]};return memoize.cache={},memoize},delay:Oe,defer:Pe,throttle:function throttle(t,i,u){var l,d,p,h,g=0;u||(u={});var later=function(){g=!1===u.leading?0:me(),l=null,h=t.apply(d,p),l||(d=p=null)},throttled=function(){var v=me();g||!1!==u.leading||(g=v);var y=i-(v-g);return d=this,p=arguments,y<=0||y>i?(l&&(clearTimeout(l),l=null),g=v,h=t.apply(d,p),l||(d=p=null)):l||!1===u.trailing||(l=setTimeout(later,y)),h};return throttled.cancel=function(){clearTimeout(l),g=0,l=d=p=null},throttled},debounce:function debounce(t,i,u){var l,d,p,h,g,later=function(){var v=me()-d;i>v?l=setTimeout(later,i-v):(l=null,u||(h=t.apply(g,p)),l||(p=g=null))},v=restArguments((function(v){return g=this,p=v,d=me(),l||(l=setTimeout(later,i),u&&(h=t.apply(g,p))),h}));return v.cancel=function(){clearTimeout(l),l=p=g=null},v},wrap:function wrap(t,i){return Te(i,t)},negate:negate,compose:function compose(){var t=arguments,i=t.length-1;return function(){for(var u=i,l=t[i].apply(this,arguments);u--;)l=t[u].call(this,l);return l}},after:function after(t,i){return function(){if(--t<1)return i.apply(this,arguments)}},before:before,once:Ie,findKey:findKey,findIndex:ke,findLastIndex:De,sortedIndex:sortedIndex,indexOf:Ne,lastIndexOf:Le,find:find,detect:find,findWhere:function findWhere(t,i){return find(t,matcher(i))},each:each,forEach:each,map:map,collect:map,reduce:qe,foldl:qe,inject:qe,reduceRight:Fe,foldr:Fe,filter:filter,select:filter,reject:function reject(t,i,u){return filter(t,negate(cb(i)),u)},every:every,all:every,some:some,any:some,contains:contains,includes:contains,include:contains,invoke:Ve,pluck:pluck,where:function where(t,i){return filter(t,matcher(i))},max:max,min:function min(t,i,u){var l,d,p=1/0,h=1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var g=0,v=(t=Ce(t)?t:values(t)).length;g<v;g++)null!=(l=t[g])&&l<p&&(p=l);else i=cb(i,u),each(t,(function(t,u,l){((d=i(t,u,l))<h||d===1/0&&p===1/0)&&(p=t,h=d)}));return p},shuffle:function shuffle(t){return sample(t,1/0)},sample:sample,sortBy:function sortBy(t,i,u){var l=0;return i=cb(i,u),pluck(map(t,(function(t,u,d){return{value:t,index:l++,criteria:i(t,u,d)}})).sort((function(t,i){var u=t.criteria,l=i.criteria;if(u!==l){if(u>l||void 0===u)return 1;if(u<l||void 0===l)return-1}return t.index-i.index})),"value")},groupBy:Ue,indexBy:Be,countBy:He,partition:ze,toArray:toArray,size:function size(t){return null==t?0:Ce(t)?t.length:keys(t).length},pick:Qe,omit:We,first:first,head:first,take:first,initial:initial,last:function last(t,i,u){return null==t||t.length<1?null==i||u?void 0:[]:null==i||u?t[t.length-1]:rest(t,Math.max(0,t.length-i))},rest:rest,tail:rest,drop:rest,compact:function compact(t){return filter(t,Boolean)},flatten:function flatten(t,i){return flatten$1(t,i,!1)},without:$e,uniq:uniq,unique:uniq,union:Ye,intersection:function intersection(t){for(var i=[],u=arguments.length,l=0,d=te(t);l<d;l++){var p=t[l];if(!contains(i,p)){var h;for(h=1;h<u&&contains(arguments[h],p);h++);h===u&&i.push(p)}}return i},difference:Ge,unzip:unzip,transpose:unzip,zip:Je,object:function object(t,i){for(var u={},l=0,d=te(t);l<d;l++)i?u[t[l]]=i[l]:u[t[l][0]]=t[l][1];return u},range:function range(t,i,u){null==i&&(i=t||0,t=0),u||(u=i<t?-1:1);for(var l=Math.max(Math.ceil((i-t)/u),0),d=Array(l),p=0;p<l;p++,t+=u)d[p]=t;return d},chunk:function chunk(t,i){if(null==i||i<1)return[];for(var u=[],l=0,d=t.length;l<d;)u.push(h.call(t,l,l+=i));return u},mixin:mixin,default:_$1},Xe=mixin(Ke);return Xe._=Xe,Xe},t.exports=i()},62562:function(t,i,u){"use strict";u.r(i),u.d(i,{VERSION:function(){return d},after:function(){return after},all:function(){return every},allKeys:function(){return allKeys},any:function(){return some},assign:function(){return ye},before:function(){return before},bind:function(){return Ie},bindAll:function(){return De},chain:function(){return chain},chunk:function(){return chunk},clone:function(){return clone},collect:function(){return map},compact:function(){return compact},compose:function(){return compose},constant:function(){return constant},contains:function(){return contains},countBy:function(){return $e},create:function(){return create},debounce:function(){return debounce},default:function(){return it},defaults:function(){return be},defer:function(){return Le},delay:function(){return Ne},detect:function(){return find},difference:function(){return Xe},drop:function(){return rest},each:function(){return each},escape:function(){return we},every:function(){return every},extend:function(){return ve},extendOwn:function(){return ye},filter:function(){return filter},find:function(){return find},findIndex:function(){return Fe},findKey:function(){return findKey},findLastIndex:function(){return Ve},findWhere:function(){return findWhere},first:function(){return first},flatten:function(){return flatten_flatten},foldl:function(){return Be},foldr:function(){return He},forEach:function(){return each},functions:function(){return functions},get:function(){return get},groupBy:function(){return We},has:function(){return has_has},head:function(){return first},identity:function(){return identity},include:function(){return contains},includes:function(){return contains},indexBy:function(){return Ge},indexOf:function(){return je},initial:function(){return initial},inject:function(){return Be},intersection:function(){return intersection},invert:function(){return invert},invoke:function(){return ze},isArguments:function(){return ee},isArray:function(){return X},isArrayBuffer:function(){return H},isBoolean:function(){return isBoolean},isDataView:function(){return K},isDate:function(){return V},isElement:function(){return isElement},isEmpty:function(){return isEmpty},isEqual:function(){return isEqual},isError:function(){return U},isFinite:function(){return isFinite_isFinite},isFunction:function(){return W},isMap:function(){return pe},isMatch:function(){return isMatch},isNaN:function(){return isNaN_isNaN},isNull:function(){return isNull},isNumber:function(){return q},isObject:function(){return isObject},isRegExp:function(){return j},isSet:function(){return ge},isString:function(){return L},isSymbol:function(){return B},isTypedArray:function(){return ie},isUndefined:function(){return isUndefined},isWeakMap:function(){return he},isWeakSet:function(){return me},iteratee:function(){return iteratee},keys:function(){return keys},last:function(){return last},lastIndexOf:function(){return Ue},map:function(){return map},mapObject:function(){return mapObject},matcher:function(){return matcher},matches:function(){return matcher},max:function(){return max},memoize:function(){return memoize},methods:function(){return functions},min:function(){return min},mixin:function(){return mixin},negate:function(){return negate},noop:function(){return noop},now:function(){return _e},object:function(){return object},omit:function(){return Ke},once:function(){return qe},pairs:function(){return pairs},partial:function(){return Pe},partition:function(){return Ye},pick:function(){return Je},pluck:function(){return pluck},property:function(){return property},propertyOf:function(){return propertyOf},random:function(){return random},range:function(){return range},reduce:function(){return Be},reduceRight:function(){return He},reject:function(){return reject},rest:function(){return rest},restArguments:function(){return restArguments},result:function(){return result},sample:function(){return sample},select:function(){return filter},shuffle:function(){return shuffle},size:function(){return size},some:function(){return some},sortBy:function(){return sortBy},sortedIndex:function(){return sortedIndex},tail:function(){return rest},take:function(){return first},tap:function(){return tap},template:function(){return template},templateSettings:function(){return Re},throttle:function(){return throttle},times:function(){return times},toArray:function(){return toArray},toPath:function(){return toPath},transpose:function(){return unzip},unescape:function(){return Ee},union:function(){return et},uniq:function(){return uniq},unique:function(){return uniq},uniqueId:function(){return uniqueId},unzip:function(){return unzip},values:function(){return values},where:function(){return where},without:function(){return Ze},wrap:function(){return wrap},zip:function(){return tt}});var l={};u.r(l),u.d(l,{VERSION:function(){return d},after:function(){return after},all:function(){return every},allKeys:function(){return allKeys},any:function(){return some},assign:function(){return ye},before:function(){return before},bind:function(){return Ie},bindAll:function(){return De},chain:function(){return chain},chunk:function(){return chunk},clone:function(){return clone},collect:function(){return map},compact:function(){return compact},compose:function(){return compose},constant:function(){return constant},contains:function(){return contains},countBy:function(){return $e},create:function(){return create},debounce:function(){return debounce},default:function(){return nt},defaults:function(){return be},defer:function(){return Le},delay:function(){return Ne},detect:function(){return find},difference:function(){return Xe},drop:function(){return rest},each:function(){return each},escape:function(){return we},every:function(){return every},extend:function(){return ve},extendOwn:function(){return ye},filter:function(){return filter},find:function(){return find},findIndex:function(){return Fe},findKey:function(){return findKey},findLastIndex:function(){return Ve},findWhere:function(){return findWhere},first:function(){return first},flatten:function(){return flatten_flatten},foldl:function(){return Be},foldr:function(){return He},forEach:function(){return each},functions:function(){return functions},get:function(){return get},groupBy:function(){return We},has:function(){return has_has},head:function(){return first},identity:function(){return identity},include:function(){return contains},includes:function(){return contains},indexBy:function(){return Ge},indexOf:function(){return je},initial:function(){return initial},inject:function(){return Be},intersection:function(){return intersection},invert:function(){return invert},invoke:function(){return ze},isArguments:function(){return ee},isArray:function(){return X},isArrayBuffer:function(){return H},isBoolean:function(){return isBoolean},isDataView:function(){return K},isDate:function(){return V},isElement:function(){return isElement},isEmpty:function(){return isEmpty},isEqual:function(){return isEqual},isError:function(){return U},isFinite:function(){return isFinite_isFinite},isFunction:function(){return W},isMap:function(){return pe},isMatch:function(){return isMatch},isNaN:function(){return isNaN_isNaN},isNull:function(){return isNull},isNumber:function(){return q},isObject:function(){return isObject},isRegExp:function(){return j},isSet:function(){return ge},isString:function(){return L},isSymbol:function(){return B},isTypedArray:function(){return ie},isUndefined:function(){return isUndefined},isWeakMap:function(){return he},isWeakSet:function(){return me},iteratee:function(){return iteratee},keys:function(){return keys},last:function(){return last},lastIndexOf:function(){return Ue},map:function(){return map},mapObject:function(){return mapObject},matcher:function(){return matcher},matches:function(){return matcher},max:function(){return max},memoize:function(){return memoize},methods:function(){return functions},min:function(){return min},mixin:function(){return mixin},negate:function(){return negate},noop:function(){return noop},now:function(){return _e},object:function(){return object},omit:function(){return Ke},once:function(){return qe},pairs:function(){return pairs},partial:function(){return Pe},partition:function(){return Ye},pick:function(){return Je},pluck:function(){return pluck},property:function(){return property},propertyOf:function(){return propertyOf},random:function(){return random},range:function(){return range},reduce:function(){return Be},reduceRight:function(){return He},reject:function(){return reject},rest:function(){return rest},restArguments:function(){return restArguments},result:function(){return result},sample:function(){return sample},select:function(){return filter},shuffle:function(){return shuffle},size:function(){return size},some:function(){return some},sortBy:function(){return sortBy},sortedIndex:function(){return sortedIndex},tail:function(){return rest},take:function(){return first},tap:function(){return tap},template:function(){return template},templateSettings:function(){return Re},throttle:function(){return throttle},times:function(){return times},toArray:function(){return toArray},toPath:function(){return toPath},transpose:function(){return unzip},unescape:function(){return Ee},union:function(){return et},uniq:function(){return uniq},unique:function(){return uniq},uniqueId:function(){return uniqueId},unzip:function(){return unzip},values:function(){return values},where:function(){return where},without:function(){return Ze},wrap:function(){return wrap},zip:function(){return tt}});var d="1.13.7",p="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},h=Array.prototype,g=Object.prototype,v="undefined"!=typeof Symbol?Symbol.prototype:null,y=h.push,S=h.slice,w=g.toString,E=g.hasOwnProperty,R="undefined"!=typeof ArrayBuffer,A="undefined"!=typeof DataView,T=Array.isArray,x=Object.keys,C=Object.create,M=R&&ArrayBuffer.isView,O=isNaN,P=isFinite,I=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=Math.pow(2,53)-1;function restArguments(t,i){return i=null==i?t.length-1:+i,function(){for(var u=Math.max(arguments.length-i,0),l=Array(u),d=0;d<u;d++)l[d]=arguments[d+i];switch(i){case 0:return t.call(this,l);case 1:return t.call(this,arguments[0],l);case 2:return t.call(this,arguments[0],arguments[1],l)}var p=Array(i+1);for(d=0;d<i;d++)p[d]=arguments[d];return p[i]=l,t.apply(this,p)}}function isObject(t){var i=typeof t;return"function"===i||"object"===i&&!!t}function isNull(t){return null===t}function isUndefined(t){return void 0===t}function isBoolean(t){return!0===t||!1===t||"[object Boolean]"===w.call(t)}function isElement(t){return!(!t||1!==t.nodeType)}function tagTester(t){var i="[object "+t+"]";return function(t){return w.call(t)===i}}var L=tagTester("String"),q=tagTester("Number"),V=tagTester("Date"),j=tagTester("RegExp"),U=tagTester("Error"),B=tagTester("Symbol"),H=tagTester("ArrayBuffer"),z=tagTester("Function"),Q=p.document&&p.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof Q&&(z=function(t){return"function"==typeof t||!1});var W=z,G=tagTester("Object"),$=A&&(!/\[native code\]/.test(String(DataView))||G(new DataView(new ArrayBuffer(8)))),Y="undefined"!=typeof Map&&G(new Map),J=tagTester("DataView");var K=$?function alternateIsDataView(t){return null!=t&&W(t.getInt8)&&H(t.buffer)}:J,X=T||tagTester("Array");function has(t,i){return null!=t&&E.call(t,i)}var Z=tagTester("Arguments");!function(){Z(arguments)||(Z=function(t){return has(t,"callee")})}();var ee=Z;function isFinite_isFinite(t){return!B(t)&&P(t)&&!isNaN(parseFloat(t))}function isNaN_isNaN(t){return q(t)&&O(t)}function constant(t){return function(){return t}}function createSizePropertyCheck(t){return function(i){var u=t(i);return"number"==typeof u&&u>=0&&u<=N}}function shallowProperty(t){return function(i){return null==i?void 0:i[t]}}var te=shallowProperty("byteLength"),ne=createSizePropertyCheck(te),re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ie=R?function isTypedArray(t){return M?M(t)&&!K(t):ne(t)&&re.test(w.call(t))}:constant(!1),oe=shallowProperty("length");function collectNonEnumProps(t,i){i=function emulatedSet(t){for(var i={},u=t.length,l=0;l<u;++l)i[t[l]]=!0;return{contains:function(t){return!0===i[t]},push:function(u){return i[u]=!0,t.push(u)}}}(i);var u=D.length,l=t.constructor,d=W(l)&&l.prototype||g,p="constructor";for(has(t,p)&&!i.contains(p)&&i.push(p);u--;)(p=D[u])in t&&t[p]!==d[p]&&!i.contains(p)&&i.push(p)}function keys(t){if(!isObject(t))return[];if(x)return x(t);var i=[];for(var u in t)has(t,u)&&i.push(u);return I&&collectNonEnumProps(t,i),i}function isEmpty(t){if(null==t)return!0;var i=oe(t);return"number"==typeof i&&(X(t)||L(t)||ee(t))?0===i:0===oe(keys(t))}function isMatch(t,i){var u=keys(i),l=u.length;if(null==t)return!l;for(var d=Object(t),p=0;p<l;p++){var h=u[p];if(i[h]!==d[h]||!(h in d))return!1}return!0}function _(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)}function toBufferView(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,te(t))}_.VERSION=d,_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)};var ae="[object DataView]";function eq(t,i,u,l){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return!1;if(t!=t)return i!=i;var d=typeof t;return("function"===d||"object"===d||"object"==typeof i)&&deepEq(t,i,u,l)}function deepEq(t,i,u,l){t instanceof _&&(t=t._wrapped),i instanceof _&&(i=i._wrapped);var d=w.call(t);if(d!==w.call(i))return!1;if($&&"[object Object]"==d&&K(t)){if(!K(i))return!1;d=ae}switch(d){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object Symbol]":return v.valueOf.call(t)===v.valueOf.call(i);case"[object ArrayBuffer]":case ae:return deepEq(toBufferView(t),toBufferView(i),u,l)}var p="[object Array]"===d;if(!p&&ie(t)){if(te(t)!==te(i))return!1;if(t.buffer===i.buffer&&t.byteOffset===i.byteOffset)return!0;p=!0}if(!p){if("object"!=typeof t||"object"!=typeof i)return!1;var h=t.constructor,g=i.constructor;if(h!==g&&!(W(h)&&h instanceof h&&W(g)&&g instanceof g)&&"constructor"in t&&"constructor"in i)return!1}l=l||[];for(var y=(u=u||[]).length;y--;)if(u[y]===t)return l[y]===i;if(u.push(t),l.push(i),p){if((y=t.length)!==i.length)return!1;for(;y--;)if(!eq(t[y],i[y],u,l))return!1}else{var S,E=keys(t);if(y=E.length,keys(i).length!==y)return!1;for(;y--;)if(!has(i,S=E[y])||!eq(t[S],i[S],u,l))return!1}return u.pop(),l.pop(),!0}function isEqual(t,i){return eq(t,i)}function allKeys(t){if(!isObject(t))return[];var i=[];for(var u in t)i.push(u);return I&&collectNonEnumProps(t,i),i}function ie11fingerprint(t){var i=oe(t);return function(u){if(null==u)return!1;var l=allKeys(u);if(oe(l))return!1;for(var d=0;d<i;d++)if(!W(u[t[d]]))return!1;return t!==de||!W(u[se])}}var se="forEach",ue=["clear","delete"],le=["get","has","set"],ce=ue.concat(se,le),de=ue.concat(le),fe=["add"].concat(ue,se,"has"),pe=Y?ie11fingerprint(ce):tagTester("Map"),he=Y?ie11fingerprint(de):tagTester("WeakMap"),ge=Y?ie11fingerprint(fe):tagTester("Set"),me=tagTester("WeakSet");function values(t){for(var i=keys(t),u=i.length,l=Array(u),d=0;d<u;d++)l[d]=t[i[d]];return l}function pairs(t){for(var i=keys(t),u=i.length,l=Array(u),d=0;d<u;d++)l[d]=[i[d],t[i[d]]];return l}function invert(t){for(var i={},u=keys(t),l=0,d=u.length;l<d;l++)i[t[u[l]]]=u[l];return i}function functions(t){var i=[];for(var u in t)W(t[u])&&i.push(u);return i.sort()}function createAssigner(t,i){return function(u){var l=arguments.length;if(i&&(u=Object(u)),l<2||null==u)return u;for(var d=1;d<l;d++)for(var p=arguments[d],h=t(p),g=h.length,v=0;v<g;v++){var y=h[v];i&&void 0!==u[y]||(u[y]=p[y])}return u}}var ve=createAssigner(allKeys),ye=createAssigner(keys),be=createAssigner(allKeys,!0);function baseCreate(t){if(!isObject(t))return{};if(C)return C(t);var Ctor=function(){};Ctor.prototype=t;var i=new Ctor;return Ctor.prototype=null,i}function create(t,i){var u=baseCreate(t);return i&&ye(u,i),u}function clone(t){return isObject(t)?X(t)?t.slice():ve({},t):t}function tap(t,i){return i(t),t}function toPath(t){return X(t)?t:[t]}function _toPath_toPath(t){return _.toPath(t)}function deepGet(t,i){for(var u=i.length,l=0;l<u;l++){if(null==t)return;t=t[i[l]]}return u?t:void 0}function get(t,i,u){var l=deepGet(t,_toPath_toPath(i));return isUndefined(l)?u:l}function has_has(t,i){for(var u=(i=_toPath_toPath(i)).length,l=0;l<u;l++){var d=i[l];if(!has(t,d))return!1;t=t[d]}return!!u}function identity(t){return t}function matcher(t){return t=ye({},t),function(i){return isMatch(i,t)}}function property(t){return t=_toPath_toPath(t),function(i){return deepGet(i,t)}}function optimizeCb(t,i,u){if(void 0===i)return t;switch(null==u?3:u){case 1:return function(u){return t.call(i,u)};case 3:return function(u,l,d){return t.call(i,u,l,d)};case 4:return function(u,l,d,p){return t.call(i,u,l,d,p)}}return function(){return t.apply(i,arguments)}}function baseIteratee(t,i,u){return null==t?identity:W(t)?optimizeCb(t,i,u):isObject(t)&&!X(t)?matcher(t):property(t)}function iteratee(t,i){return baseIteratee(t,i,1/0)}function cb(t,i,u){return _.iteratee!==iteratee?_.iteratee(t,i):baseIteratee(t,i,u)}function mapObject(t,i,u){i=cb(i,u);for(var l=keys(t),d=l.length,p={},h=0;h<d;h++){var g=l[h];p[g]=i(t[g],g,t)}return p}function noop(){}function propertyOf(t){return null==t?noop:function(i){return get(t,i)}}function times(t,i,u){var l=Array(Math.max(0,t));i=optimizeCb(i,u,1);for(var d=0;d<t;d++)l[d]=i(d);return l}function random(t,i){return null==i&&(i=t,t=0),t+Math.floor(Math.random()*(i-t+1))}_.toPath=toPath,_.iteratee=iteratee;var _e=Date.now||function(){return(new Date).getTime()};function createEscaper(t){var escaper=function(i){return t[i]},i="(?:"+keys(t).join("|")+")",u=RegExp(i),l=RegExp(i,"g");return function(t){return t=null==t?"":""+t,u.test(t)?t.replace(l,escaper):t}}var Se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},we=createEscaper(Se),Ee=createEscaper(invert(Se)),Re=_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ae=/(.)^/,Te={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},xe=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(t){return"\\"+Te[t]}var Ce=/^\s*(\w|\$)+\s*$/;function template(t,i,u){!i&&u&&(i=u),i=be({},i,_.templateSettings);var l=RegExp([(i.escape||Ae).source,(i.interpolate||Ae).source,(i.evaluate||Ae).source].join("|")+"|$","g"),d=0,p="__p+='";t.replace(l,(function(i,u,l,h,g){return p+=t.slice(d,g).replace(xe,escapeChar),d=g+i.length,u?p+="'+\n((__t=("+u+"))==null?'':_.escape(__t))+\n'":l?p+="'+\n((__t=("+l+"))==null?'':__t)+\n'":h&&(p+="';\n"+h+"\n__p+='"),i})),p+="';\n";var h,g=i.variable;if(g){if(!Ce.test(g))throw new Error("variable is not a bare identifier: "+g)}else p="with(obj||{}){\n"+p+"}\n",g="obj";p="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+p+"return __p;\n";try{h=new Function(g,"_",p)}catch(t){throw t.source=p,t}var template=function(t){return h.call(this,t,_)};return template.source="function("+g+"){\n"+p+"}",template}function result(t,i,u){var l=(i=_toPath_toPath(i)).length;if(!l)return W(u)?u.call(t):u;for(var d=0;d<l;d++){var p=null==t?void 0:t[i[d]];void 0===p&&(p=u,d=l),t=W(p)?p.call(t):p}return t}var Me=0;function uniqueId(t){var i=++Me+"";return t?t+i:i}function chain(t){var i=_(t);return i._chain=!0,i}function executeBound(t,i,u,l,d){if(!(l instanceof i))return t.apply(u,d);var p=baseCreate(t.prototype),h=t.apply(p,d);return isObject(h)?h:p}var Oe=restArguments((function(t,i){var u=Oe.placeholder,bound=function(){for(var l=0,d=i.length,p=Array(d),h=0;h<d;h++)p[h]=i[h]===u?arguments[l++]:i[h];for(;l<arguments.length;)p.push(arguments[l++]);return executeBound(t,bound,this,this,p)};return bound}));Oe.placeholder=_;var Pe=Oe,Ie=restArguments((function(t,i,u){if(!W(t))throw new TypeError("Bind must be called on a function");var l=restArguments((function(d){return executeBound(t,l,i,this,u.concat(d))}));return l})),ke=createSizePropertyCheck(oe);function flatten(t,i,u,l){if(l=l||[],i||0===i){if(i<=0)return l.concat(t)}else i=1/0;for(var d=l.length,p=0,h=oe(t);p<h;p++){var g=t[p];if(ke(g)&&(X(g)||ee(g)))if(i>1)flatten(g,i-1,u,l),d=l.length;else for(var v=0,y=g.length;v<y;)l[d++]=g[v++];else u||(l[d++]=g)}return l}var De=restArguments((function(t,i){var u=(i=flatten(i,!1,!1)).length;if(u<1)throw new Error("bindAll must be passed function names");for(;u--;){var l=i[u];t[l]=Ie(t[l],t)}return t}));function memoize(t,i){var memoize=function(u){var l=memoize.cache,d=""+(i?i.apply(this,arguments):u);return has(l,d)||(l[d]=t.apply(this,arguments)),l[d]};return memoize.cache={},memoize}var Ne=restArguments((function(t,i,u){return setTimeout((function(){return t.apply(null,u)}),i)})),Le=Pe(Ne,_,1);function throttle(t,i,u){var l,d,p,h,g=0;u||(u={});var later=function(){g=!1===u.leading?0:_e(),l=null,h=t.apply(d,p),l||(d=p=null)},throttled=function(){var v=_e();g||!1!==u.leading||(g=v);var y=i-(v-g);return d=this,p=arguments,y<=0||y>i?(l&&(clearTimeout(l),l=null),g=v,h=t.apply(d,p),l||(d=p=null)):l||!1===u.trailing||(l=setTimeout(later,y)),h};return throttled.cancel=function(){clearTimeout(l),g=0,l=d=p=null},throttled}function debounce(t,i,u){var l,d,p,h,g,later=function(){var v=_e()-d;i>v?l=setTimeout(later,i-v):(l=null,u||(h=t.apply(g,p)),l||(p=g=null))},v=restArguments((function(v){return g=this,p=v,d=_e(),l||(l=setTimeout(later,i),u&&(h=t.apply(g,p))),h}));return v.cancel=function(){clearTimeout(l),l=p=g=null},v}function wrap(t,i){return Pe(i,t)}function negate(t){return function(){return!t.apply(this,arguments)}}function compose(){var t=arguments,i=t.length-1;return function(){for(var u=i,l=t[i].apply(this,arguments);u--;)l=t[u].call(this,l);return l}}function after(t,i){return function(){if(--t<1)return i.apply(this,arguments)}}function before(t,i){var u;return function(){return--t>0&&(u=i.apply(this,arguments)),t<=1&&(i=null),u}}var qe=Pe(before,2);function findKey(t,i,u){i=cb(i,u);for(var l,d=keys(t),p=0,h=d.length;p<h;p++)if(i(t[l=d[p]],l,t))return l}function createPredicateIndexFinder(t){return function(i,u,l){u=cb(u,l);for(var d=oe(i),p=t>0?0:d-1;p>=0&&p<d;p+=t)if(u(i[p],p,i))return p;return-1}}var Fe=createPredicateIndexFinder(1),Ve=createPredicateIndexFinder(-1);function sortedIndex(t,i,u,l){for(var d=(u=cb(u,l,1))(i),p=0,h=oe(t);p<h;){var g=Math.floor((p+h)/2);u(t[g])<d?p=g+1:h=g}return p}function createIndexFinder(t,i,u){return function(l,d,p){var h=0,g=oe(l);if("number"==typeof p)t>0?h=p>=0?p:Math.max(p+g,h):g=p>=0?Math.min(p+1,g):p+g+1;else if(u&&p&&g)return l[p=u(l,d)]===d?p:-1;if(d!=d)return(p=i(S.call(l,h,g),isNaN_isNaN))>=0?p+h:-1;for(p=t>0?h:g-1;p>=0&&p<g;p+=t)if(l[p]===d)return p;return-1}}var je=createIndexFinder(1,Fe,sortedIndex),Ue=createIndexFinder(-1,Ve);function find(t,i,u){var l=(ke(t)?Fe:findKey)(t,i,u);if(void 0!==l&&-1!==l)return t[l]}function findWhere(t,i){return find(t,matcher(i))}function each(t,i,u){var l,d;if(i=optimizeCb(i,u),ke(t))for(l=0,d=t.length;l<d;l++)i(t[l],l,t);else{var p=keys(t);for(l=0,d=p.length;l<d;l++)i(t[p[l]],p[l],t)}return t}function map(t,i,u){i=cb(i,u);for(var l=!ke(t)&&keys(t),d=(l||t).length,p=Array(d),h=0;h<d;h++){var g=l?l[h]:h;p[h]=i(t[g],g,t)}return p}function createReduce(t){return function(i,u,l,d){var p=arguments.length>=3;return function(i,u,l,d){var p=!ke(i)&&keys(i),h=(p||i).length,g=t>0?0:h-1;for(d||(l=i[p?p[g]:g],g+=t);g>=0&&g<h;g+=t){var v=p?p[g]:g;l=u(l,i[v],v,i)}return l}(i,optimizeCb(u,d,4),l,p)}}var Be=createReduce(1),He=createReduce(-1);function filter(t,i,u){var l=[];return i=cb(i,u),each(t,(function(t,u,d){i(t,u,d)&&l.push(t)})),l}function reject(t,i,u){return filter(t,negate(cb(i)),u)}function every(t,i,u){i=cb(i,u);for(var l=!ke(t)&&keys(t),d=(l||t).length,p=0;p<d;p++){var h=l?l[p]:p;if(!i(t[h],h,t))return!1}return!0}function some(t,i,u){i=cb(i,u);for(var l=!ke(t)&&keys(t),d=(l||t).length,p=0;p<d;p++){var h=l?l[p]:p;if(i(t[h],h,t))return!0}return!1}function contains(t,i,u,l){return ke(t)||(t=values(t)),("number"!=typeof u||l)&&(u=0),je(t,i,u)>=0}var ze=restArguments((function(t,i,u){var l,d;return W(i)?d=i:(i=_toPath_toPath(i),l=i.slice(0,-1),i=i[i.length-1]),map(t,(function(t){var p=d;if(!p){if(l&&l.length&&(t=deepGet(t,l)),null==t)return;p=t[i]}return null==p?p:p.apply(t,u)}))}));function pluck(t,i){return map(t,property(i))}function where(t,i){return filter(t,matcher(i))}function max(t,i,u){var l,d,p=-1/0,h=-1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var g=0,v=(t=ke(t)?t:values(t)).length;g<v;g++)null!=(l=t[g])&&l>p&&(p=l);else i=cb(i,u),each(t,(function(t,u,l){((d=i(t,u,l))>h||d===-1/0&&p===-1/0)&&(p=t,h=d)}));return p}function min(t,i,u){var l,d,p=1/0,h=1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var g=0,v=(t=ke(t)?t:values(t)).length;g<v;g++)null!=(l=t[g])&&l<p&&(p=l);else i=cb(i,u),each(t,(function(t,u,l){((d=i(t,u,l))<h||d===1/0&&p===1/0)&&(p=t,h=d)}));return p}var Qe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(t){return t?X(t)?S.call(t):L(t)?t.match(Qe):ke(t)?map(t,identity):values(t):[]}function sample(t,i,u){if(null==i||u)return ke(t)||(t=values(t)),t[random(t.length-1)];var l=toArray(t),d=oe(l);i=Math.max(Math.min(i,d),0);for(var p=d-1,h=0;h<i;h++){var g=random(h,p),v=l[h];l[h]=l[g],l[g]=v}return l.slice(0,i)}function shuffle(t){return sample(t,1/0)}function sortBy(t,i,u){var l=0;return i=cb(i,u),pluck(map(t,(function(t,u,d){return{value:t,index:l++,criteria:i(t,u,d)}})).sort((function(t,i){var u=t.criteria,l=i.criteria;if(u!==l){if(u>l||void 0===u)return 1;if(u<l||void 0===l)return-1}return t.index-i.index})),"value")}function group(t,i){return function(u,l,d){var p=i?[[],[]]:{};return l=cb(l,d),each(u,(function(i,d){var h=l(i,d,u);t(p,i,h)})),p}}var We=group((function(t,i,u){has(t,u)?t[u].push(i):t[u]=[i]})),Ge=group((function(t,i,u){t[u]=i})),$e=group((function(t,i,u){has(t,u)?t[u]++:t[u]=1})),Ye=group((function(t,i,u){t[u?0:1].push(i)}),!0);function size(t){return null==t?0:ke(t)?t.length:keys(t).length}function keyInObj(t,i,u){return i in u}var Je=restArguments((function(t,i){var u={},l=i[0];if(null==t)return u;W(l)?(i.length>1&&(l=optimizeCb(l,i[1])),i=allKeys(t)):(l=keyInObj,i=flatten(i,!1,!1),t=Object(t));for(var d=0,p=i.length;d<p;d++){var h=i[d],g=t[h];l(g,h,t)&&(u[h]=g)}return u})),Ke=restArguments((function(t,i){var u,l=i[0];return W(l)?(l=negate(l),i.length>1&&(u=i[1])):(i=map(flatten(i,!1,!1),String),l=function(t,u){return!contains(i,u)}),Je(t,l,u)}));function initial(t,i,u){return S.call(t,0,Math.max(0,t.length-(null==i||u?1:i)))}function first(t,i,u){return null==t||t.length<1?null==i||u?void 0:[]:null==i||u?t[0]:initial(t,t.length-i)}function rest(t,i,u){return S.call(t,null==i||u?1:i)}function last(t,i,u){return null==t||t.length<1?null==i||u?void 0:[]:null==i||u?t[t.length-1]:rest(t,Math.max(0,t.length-i))}function compact(t){return filter(t,Boolean)}function flatten_flatten(t,i){return flatten(t,i,!1)}var Xe=restArguments((function(t,i){return i=flatten(i,!0,!0),filter(t,(function(t){return!contains(i,t)}))})),Ze=restArguments((function(t,i){return Xe(t,i)}));function uniq(t,i,u,l){isBoolean(i)||(l=u,u=i,i=!1),null!=u&&(u=cb(u,l));for(var d=[],p=[],h=0,g=oe(t);h<g;h++){var v=t[h],y=u?u(v,h,t):v;i&&!u?(h&&p===y||d.push(v),p=y):u?contains(p,y)||(p.push(y),d.push(v)):contains(d,v)||d.push(v)}return d}var et=restArguments((function(t){return uniq(flatten(t,!0,!0))}));function intersection(t){for(var i=[],u=arguments.length,l=0,d=oe(t);l<d;l++){var p=t[l];if(!contains(i,p)){var h;for(h=1;h<u&&contains(arguments[h],p);h++);h===u&&i.push(p)}}return i}function unzip(t){for(var i=t&&max(t,oe).length||0,u=Array(i),l=0;l<i;l++)u[l]=pluck(t,l);return u}var tt=restArguments(unzip);function object(t,i){for(var u={},l=0,d=oe(t);l<d;l++)i?u[t[l]]=i[l]:u[t[l][0]]=t[l][1];return u}function range(t,i,u){null==i&&(i=t||0,t=0),u||(u=i<t?-1:1);for(var l=Math.max(Math.ceil((i-t)/u),0),d=Array(l),p=0;p<l;p++,t+=u)d[p]=t;return d}function chunk(t,i){if(null==i||i<1)return[];for(var u=[],l=0,d=t.length;l<d;)u.push(S.call(t,l,l+=i));return u}function chainResult(t,i){return t._chain?_(i).chain():i}function mixin(t){return each(functions(t),(function(i){var u=_[i]=t[i];_.prototype[i]=function(){var t=[this._wrapped];return y.apply(t,arguments),chainResult(this,u.apply(_,t))}})),_}each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var i=h[t];_.prototype[t]=function(){var u=this._wrapped;return null!=u&&(i.apply(u,arguments),"shift"!==t&&"splice"!==t||0!==u.length||delete u[0]),chainResult(this,u)}})),each(["concat","join","slice"],(function(t){var i=h[t];_.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=i.apply(t,arguments)),chainResult(this,t)}}));var nt=_,rt=mixin(l);rt._=rt;var it=rt}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress;function __webpack_require__(t){var i=__webpack_module_cache__[t];if(void 0!==i)return i.exports;var u=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(u.exports,u,u.exports,__webpack_require__),u.loaded=!0,u.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(i,{a:i}),i},getProto=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},__webpack_require__.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if("object"==typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&"function"==typeof t.then)return t}var u=Object.create(null);__webpack_require__.r(u);var l={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var d=2&i&&t;"object"==typeof d&&!~leafPrototypes.indexOf(d);d=getProto(d))Object.getOwnPropertyNames(d).forEach((function(i){l[i]=function(){return t[i]}}));return l.default=function(){return t},__webpack_require__.d(u,l),u},__webpack_require__.d=function(t,i){for(var u in i)__webpack_require__.o(i,u)&&!__webpack_require__.o(t,u)&&Object.defineProperty(t,u,{enumerable:!0,get:i[u]})},__webpack_require__.f={},__webpack_require__.e=function(t){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(i,u){return __webpack_require__.f[u](t,i),i}),[]))},__webpack_require__.u=function(t){return({18:"bundles/widgets/features/scrollablePassage",226:"bundles/widgets/questions/longTextV2",323:"bundles/widgets/questions/orderList",590:"bundles/externalBundles/exposedInternalComponent",876:"bundles/externalBundles/externalMathcore",1292:"bundles/features/audioPlayer",1445:"vendor/MathJax/MathJax",1489:"bundles/widgets/questions/clozeText",1627:"bundles/widgets/questions/highlight",1885:"bundles/widgets/questions/drawing",2043:"bundles/questionTypes/formulaV2",2202:"bundles/widgets/questions/formulaEssayV2",2212:"bundles/questionTypes/hotspot",2335:"bundles/questionTypes/chemistry",2376:"bundles/widgets/questions/imageclozeassociationV2",2679:"bundles/questionTypes/formula",2711:"bundles/questionTypes/fillshape",3126:"bundles/widgets/features/lineReader",3152:"bundles/questionTypes/clozeFormula",3611:"bundles/features/unknown",3623:"bundles/workers/mathrust.worker",3777:"bundles/widgets/features/popUp",4204:"bundles/widgets/questions/shortText",4327:"bundles/widgets/questions/bowtie",4362:"bundles/externalBundles/externalReactiveComponents",4370:"bundles/questionTypes/audioAdv",4412:"bundles/questionTypes/graphPlotting",4457:"bundles/widgets/questions/clozeAssociation",4877:"bundles/questionTypes/simpleShading",4948:"bundles/questionTypes/chemistryEssay",5036:"bundles/questionTypes/longText",5037:"bundles/questionTypes/imageUpload",5098:"bundles/widgets/questions/mcq",5107:"bundles/features/videoPlayer",5149:"bundles/questionTypes/clozeDropdown",5290:"bundles/questionTypes/gridded",5398:"bundles/widgets/features/imageTool",5484:"bundles/questionTypes/formulaEssay",5578:"bundles/widgets/questions/video",5646:"bundles/widgets/features/sharedPassage",5856:"bundles/widgets/questions/tokenHighlight",6011:"bundles/questionTypes/unknown",6288:"bundles/questionTypes/plainText",6394:"bundles/questionTypes/custom",6496:"bundles/features/customFeature",6590:"bundles/widgets/questions/rating",6671:"bundles/questionTypes/score",6912:"bundles/questionTypes/clozeFormulaV2",6921:"bundles/features/counter",7173:"vendor/mathquill",7195:"bundles/widgets/questions/clozeDropdown",7249:"bundles/widgets/questions/classification",7351:"bundles/questionTypes/sortList",7431:"bundles/questionTypes/numberLinePlot",7501:"bundles/questionTypes/boolean",7522:"bundles/widgets/questions/association",7614:"bundles/questionTypes/numberLine",7865:"bundles/features/formulaInput",8012:"bundles/questionTypes/clozeChemistry",8482:"bundles/widgets/questions/chemistryEssayV2",8859:"bundles/questionTypes/simpleChart",8939:"bundles/widgets/questions/choiceMatrix",9190:"bundles/questionTypes/textHighlight",9402:"bundles/questionTypes/multistepMath",9434:"bundles/questionTypes/cloze",9489:"bundles/widgets/features/calculator",9771:"bundles/questionTypes/audio",9810:"bundles/questionTypes/fileUpload",9875:"bundles/workers/spokenmath.worker"}[t]||t)+".js"},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},__webpack_require__.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},inProgress={},__webpack_require__.l=function(t,i,u,l){if(inProgress[t])inProgress[t].push(i);else{var d,p;if(void 0!==u)for(var h=document.getElementsByTagName("script"),g=0;g<h.length;g++){var v=h[g];if(v.getAttribute("src")==t){d=v;break}}d||(p=!0,(d=document.createElement("script")).charset="utf-8",d.timeout=120,__webpack_require__.nc&&d.setAttribute("nonce",__webpack_require__.nc),d.src=t,0!==d.src.indexOf(window.location.origin+"/")&&(d.crossOrigin="anonymous")),inProgress[t]=[i];var onScriptComplete=function(i,u){d.onerror=d.onload=null,clearTimeout(y);var l=inProgress[t];if(delete inProgress[t],d.parentNode&&d.parentNode.removeChild(d),l&&l.forEach((function(t){return t(u)})),i)return i(u)},y=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=onScriptComplete.bind(null,d.onerror),d.onload=onScriptComplete.bind(null,d.onload),p&&document.head.appendChild(d)}},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var i=__webpack_require__.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var u=i.getElementsByTagName("script");if(u.length)for(var l=u.length-1;l>-1&&(!t||!/^http(s?):/.test(t));)t=u[l--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t}(),function(){var t={7381:0};__webpack_require__.f.j=function(i,u){var l=__webpack_require__.o(t,i)?t[i]:void 0;if(0!==l)if(l)u.push(l[2]);else{var d=new Promise((function(u,d){l=t[i]=[u,d]}));u.push(l[2]=d);var p=__webpack_require__.p+__webpack_require__.u(i),h=new Error;__webpack_require__.l(p,(function(u){if(__webpack_require__.o(t,i)&&(0!==(l=t[i])&&(t[i]=void 0),l)){var d=u&&("load"===u.type?"missing":u.type),p=u&&u.target&&u.target.src;h.message="Loading chunk "+i+" failed.\n("+d+": "+p+")",h.name="ChunkLoadError",h.type=d,h.request=p,l[1](h)}}),"chunk-"+i,i)}};var webpackJsonpCallback=function(i,u){var l,d,p=u[0],h=u[1],g=u[2],v=0;if(p.some((function(i){return 0!==t[i]}))){for(l in h)__webpack_require__.o(h,l)&&(__webpack_require__.m[l]=h[l]);if(g)g(__webpack_require__)}for(i&&i(u);v<p.length;v++)d=p[v],__webpack_require__.o(t,d)&&t[d]&&t[d][0](),t[d]=0},i=self.LearnosityAmd=self.LearnosityAmd||[];i.forEach(webpackJsonpCallback.bind(null,0)),i.push=webpackJsonpCallback.bind(null,i.push.bind(i))}();var __webpack_exports__={};!function(){"use strict";var t=_interopRequireDefault(__webpack_require__(65154));__webpack_require__(28748);var i=_interopRequireDefault(__webpack_require__(85494)),u=_interopRequireDefault(__webpack_require__(72895));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}__webpack_require__.p=window.LearnosityApp._internal.config.assetsHost+"/dist/",function init(){var l,d;if(window.LearnosityApp._internal._cachedInitCalls&&(l=window.LearnosityApp._internal._cachedInitCalls,delete window.LearnosityApp._internal._cachedInitCalls),window.LearnosityApp._internal._cachedGlobalApiMethodCalls&&(d=window.LearnosityApp._internal._cachedGlobalApiMethodCalls,delete window.LearnosityApp._internal._cachedGlobalApiMethodCalls),i.default._internal=window.LearnosityApp._internal,i.default.version=window.LearnosityApp.version,i.default.versions=window.LearnosityApp.versions,i.default.requestedApiVersion=window.LearnosityApp.requestedApiVersion,i.default.mediaVault=function(){return u.default.getFacade()},window.LearnosityApp=i.default,l&&t.default.each(l,(function(t){t.args.push({appStub:t.appStub}),window.LearnosityApp.init.apply(window.LearnosityApp,t.args)})),d)for(var p=0;p<d.length;p++)i.default[d[p].method].apply(i.default,d[p].args)}()}()})();