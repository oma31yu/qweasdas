var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LiveRegion(t){this.region=document.createElement("div"),this.options=t||{},this.configure(),document.body.appendChild(this.region)}LiveRegion.prototype.configure=function(){var t=this.options,e=this.region;e.setAttribute("aria-live",t.ariaLive||"polite"),e.setAttribute("role",t.role||"log"),e.setAttribute("aria-relevant",t.ariaRelevant||"additions"),e.setAttribute("aria-atomic",t.ariaAtomic||"false"),this.region.style.position="absolute",this.region.style.width="1px",this.region.style.height="1px",this.region.style.marginTop="-1px",this.region.style.clip="rect(1px, 1px, 1px, 1px)",this.region.style.overflow="hidden"},LiveRegion.prototype.announce=function(t,e){var i=document.createElement("div");i.innerHTML=t,this.region.appendChild(i),(e||void 0===e)&&setTimeout(function(){this.region.removeChild(i)}.bind(this),e||7e3)},LiveRegion.prototype.destroy=function(){this.region.parentNode.removeChild(this.region)},"undefined"!=typeof module&&(module.exports=LiveRegion),define("platform/Activities/mediaplayer",[],function(){"use strict";var n=[];function t(){}return t.prototype={init:function(t){var e=this;this.checkMediaBrowserSupport(),[{element:".audio-player",config:{}},{element:".medium-audio-player",config:{controls:["play"]}},{element:".video-player",config:{ratio:"4:3"}}].forEach(function(t){e.mediaPlayerInit(t.element,t.config)}),n&&n.forEach(function(t){t.on("play",e.onPlayEvent)}),this.learnosityAudioInit(t)},checkMediaBrowserSupport:function(){window.CheckBrowserSupport.isAudioSupport()&&window.CheckBrowserSupport.isVideoSupport()||message("You need to install appropriate codec to display audio/video content.")},mediaPlayerInit:function(t,e){var i=Plyr.setup(t,e);i&&(n=n.concat(i))},onPlayEvent:function(t){var e=t.detail.plyr.id;n.filter(function(t){return t.id!==e}).map(function(t){t.pause()})},learnosityAudioInit:function(t){!$(".taskContent .learnosity-feature").length||AudiosubmitItem.initialized&&!t||PSEAudiosubmitItem.prototype.init()}},t});var EventBus=function(){function t(){_classCallCheck(this,t),this.bus=document.createElement("event-bus-element")}return _createClass(t,[{key:"addEventListener",value:function(t,e){this.bus.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.bus.removeEventListener(t,e)}},{key:"dispatchEvent",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.bus.dispatchEvent(new CustomEvent(t,{detail:e}))}}]),t}(),PageCounter=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e),elem=null,this.shouldRenderPresenter=t,this.onInit()}return _createClass(e,[{key:"updateValue",value:function(t,e){t+=1;var i=Translator.trans("pagination.of"),n="<strong>"+t+"</strong>",r="<strong>"+e+"</strong>",o="";this.shouldRenderPresenter&&(o='<span class="visually-hidden" aria-live="polite">Current page, page '+t+"</span>"),this.elem.innerHTML=n+" "+i+" "+r+" "+o}},{key:"onInit",value:function(){var e=this;this.elem=document.createElement("span"),this.elem.className="page-counter",window.eventBus.addEventListener("player.update-pagination",function(t){e.updateValue(t.detail.currentPage,t.detail.numberOfPages)})}},{key:"getElement",value:function(){return this.elem}}]),e}(),ActivityPlatformService=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"isProgressOrPlacement",value:function(){return!!window.viewData.isGse}}]),t}(),player={initiated:!1,form:$("form.solvingForm"),send:function(t){if((t=t||{}).extraData=t.extraData||{},this.settings.onSend&&this.settings.onSend(t),this.form.data("sent"))return!1;this.lockForm();var n=this;this._prepareAllItemsToSend(function(){t.url&&n.form.attr("action",t.url),n._addExtraDataToForm(t.extraData),Item.getAll().forEach(function(t){if(t&&t.inputs&&t.inputs.length)for(var e=0;e<t.inputs.length;e++){var i=t.inputs[e].value;i=n.convertMultipleSpaces(i),i=n.convertUnicodeCharsToApostrophes(i),t.inputs[e].value=i}}),Item.checkifPromptneeded()&&!0!==t.forceSubmit?n._showPrompt(t,n._afterPrepareToSend):(n.unLockForm(),t.noSubmit?"function"==typeof t.submitCallback&&t.submitCallback():n.form.trigger("submit"),n._afterPrepareToSend())},t.onError)},convertMultipleSpaces:function(t){return t.replace(/\s{1,}/g," ")},convertUnicodeCharsToApostrophes:function(t){return t.replace(/['’´`‘]/g,"'")},save:function(i){(i=i||{}).extraData=i.extraData||{},this.settings.onSend&&this.settings.onSend(i);var n=this;this._prepareAllItemsToSend(function(){i.url&&n.form.attr("action",i.url),n._addExtraDataToForm(i.extraData);var t,e=i._button||$("#save");originalLabel=e.html(),e.prop("disabled",!0).addClass("disabled").html(Translator.trans("audio.saveInProgress")),onSuccess=function(){e.html(originalLabel).prop("disabled",!1).removeClass("disabled"),void 0!==n.settings.clearTimeSpent&&n.settings.clearTimeSpent(),finishMessage(ExposeTranslation.trans("your.progress.has.been.saved")),"function"==typeof i.onSuccess&&i.onSuccess.call()},t=function(){e.html(originalLabel).prop("disabled",!1).removeClass("disabled"),finishMessage(ExposeTranslation.trans("your.answers.cannot.be.saved.at.this.time")),"function"==typeof i.onSuccess&&i.onException.call()},onException404=function(){message(ExposeTranslation.trans("activity.task.removed.by.teacher"),{buttons:{Close:{id:"exit",text:ExposeTranslation.trans("activity.close"),click:function(){$(this).dialog("close"),window.location.href=baseUrl||"/"}}}})},finishMessage=function(t){i.disableMessage||message(t),n.restartTimerAutosave()},$.ajax({type:"POST",url:baseUrl+"/activities/"+attemptId+"/save",data:n.form.serialize(),statusCode:{200:onSuccess,404:onException404,403:t}}),n._afterPrepareToSend()},i.onError)},_addExtraDataToForm:function(t){var e=this.form.children(".extraData");for(var i in e.length?e.html(""):e=$('<div class="extraData">').appendTo(this.form),t)$('<input type="hidden">').attr("name",i).val(t[i]).appendTo(e)},init:function(t){window.eventBus=new EventBus,this.buttonLabel=Translator.trans("activity.next");var c=this;this.settings=t||{},this.reinitialization=this.settings.reinitialization||!1,window.viewMode=window.viewMode||"solve",this.initiated&&!this.reinitialization||(this.initiated=!0,Item.getAll().forEach(function(t){t.onShow()}),plugins.init(),this._userIdlenessLauncher(),"preview"!==window.viewMode&&1<$(".pageBreak").length&&require(["common/pagination/pagination","can"],function(t,e){var i=$(".pageBreak"),n=i.length,r={selectors:{all:"a.previous, a.next",previous:".previous",next:".next"},classes:{disabled:"almost-hidden",hidden:"almost-hidden"},offsetName:"page",hideElementOnDisableState:!1,limit:1,updateContent:function(t){window.eventBus.dispatchEvent("player.update-pagination",{numberOfPages:n,currentPage:t.attr("offset")}),i.addClass(r.classes.hidden),i.filter(":eq("+t.attr("offset")+")").removeClass(r.classes.hidden);var e=c.pagination.getData();$("#submitButton").toggleClass("active",n===e.offset+1)}};e.route.ready(!0);var o=new PageCounter(!1),s=document.querySelector(".tasksWrapper");s.parentNode.insertBefore(o.getElement(),s);var a=new PageCounter(!0),l=document.querySelector(".navigation ul");a.getElement().appendAfter(l),r.offset=~~e.route.attr("page"),c.pagination=new t(".navigation",r),c.pagination.setCount(n)}))},_showPrompt:function(t,e){var i,n=this;i=isPrimary?ExposeTranslation.trans("activity.primary.prompt.unanswered.questions.title"):!0===AudiosubmitItem.notRecordedAudioPrompt?ExposeTranslation.trans("activity.prompt.unanswered.learnosity.questions"):ExposeTranslation.trans("activity.prompt.unanswered.questions.title"),message(i,{buttons:{Continue:{id:"continue",text:ExposeTranslation.trans("activity.prompt.continue"),click:function(){t.noSubmit?(n.unLockForm(),t.submitCallback()):(n.lockForm(),n.form.trigger("submit")),e(),$(this).dialog("close")}},Cancel:{id:"cancel",text:ExposeTranslation.trans("activity.prompt.cancel"),click:function(){n.unLockForm(),e(),$(this).dialog("close"),t.noSubmit&&t.cancelCallback()}}}})},_prepareAllItemsToSend:function(t,e){var i=+new Date,n=0,r=!1,o={error:function(t){e&&e(t)},success:function(){!--n&&r&&t&&t()}};Item.getAll().forEach(function(t){n++;var e=t.prepareToSend(i,o);!0===e||void 0===e?o.success():"wait"!==e&&o.error(e||{code:0})}),r=!0,!n&&t&&t()},_userIdlenessLauncher:function(){var t=this;t.logUserActivity(),$("body").bind("mousemove click keydown touchstart",function(){t.logUserActivity()})},_timeoutHandler:void 0,logUserActivity:function(){var t=this;void 0!==this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._timeoutHandler=setTimeout(function(){t.settings.onIdle&&t.settings.onIdle()},t.settings.timeToIdleness)},timerAutosaveIntervalHandler:null,restartTimerAutosave:function(){clearTimeout(this.timerAutosaveIntervalHandler),this.timerAutosave()},timerAutosave:function(){if(this.settings.timeForAutosave){var t=this;this.timerAutosaveIntervalHandler=setTimeout(function(){t.save({disableMessage:!0})},this.settings.timeForAutosave)}},onDocumentLoad:function(){this.settings.timeForAutosave&&this.timerAutosave()},_afterPrepareToSend:function(){Item.getAll().forEach(function(t){t.afterPrepareToSend()})},setLockState:function(t){$("form.solvingForm").data("sent",t?1:0).find(":submit").prop("disabled",t).toggleClass("disabled",t).val(t?Translator.trans("feedback.send.pending"):this.buttonLabel)},lockForm:function(){this.setLockState(!0)},unLockForm:function(){this.form.data("sent",!1),this.setLockState(!1)}};require(["can","common/canlibs/candialog","platform/Activities/frameload","common/mediator/canmediator","platform/Activities/activities.constants","platform/Activities/activity-timer-service"],function(s,a,t,l,c,u){var d,f=!0,h=s.$("#pseSubmit").data("isLastPage")||!1,p=!1;function i(t,e){message(t),e&&e()}function e(){window.location.href=baseUrl||"/"}function v(){var t='<div class="ui-dialog-content"><p>'+ExposeTranslation.trans("activity.task.removed.by.teacher")+"</p></div>";new a(s.$(t),{buttons:{OK:{text:ExposeTranslation.trans("activity.close"),click:e}}})}var m={totalTime:0,errorLoger:function(t){var e=t.onError||function(){};$.extend(t,{onError:function(t){e(t),i(AudiosubmitItem.options.errors[t.code])}})},errorTranslator:function(){},timeCounter:function(t){var e=t.onIdle||function(){},i=t.onSend||function(){};u.startTimer();var n=this;$.extend(t,{onIdle:function(){e(),u.getStartTime()&&(n.totalTime+=u.getTimeDiff(),u.resetStartTime()),f&&(m.timeSpentIncrement.stop(),message(ExposeTranslation.trans("user.is.idle"),{buttons:{OK:{text:ExposeTranslation.trans("OK"),click:function(){u.startTimer(),p||m.timeSpentIncrement.start(),$(this).dialog("close")}}}}))},timeToIdleness:3e5,onSend:function(t){return u.getStartTime()&&(n.totalTime+=u.getTimeDiff(),u.startTimer()),t.extraData.timeSpent=n.totalTime,i(t)},clearTimeSpent:function(){n.totalTime=0}})},timerReminder:function(t,e){($("#submitButton").length||$("#pseSubmit").length)&&setTimeout(function(){i(ExposeTranslation.trans("user.timeout.reminder"))},t-6e4)},progressBarUpdater:{minute:60,epsilon:1,init:function(t,e){this.stageTime=t/1e3,this.timeLeft=e/1e3,this.progress=$(".progressbar .progress:eq(0)"),this.width=this.progress.closest(".progressbar").width(),this.updateProgressBar(),this.update()},updateProgressBar:function(){width=this.calculateWidth(),100<width&&(width=100),this.progress.width(width+"%")},calculateWidth:function(){var t=this.stageTime-this.timeLeft;return t<=this.epsilon&&(t=0),Math.floor(t/this.stageTime*100)},update:function(){var t,e=this;t=setInterval(function(){0<e.timeLeft?(e.timeLeft-=e.minute,e.updateProgressBar(),e.timeLeft<e.minute&&(clearInterval(t),moduloMinuteInterval=setInterval(function(){e.updateProgressBar(),clearInterval(moduloMinuteInterval)},e.timeLeft))):clearInterval(t)},1e3*e.minute)}},timer:function(t,e){var i=this;setTimeout(function(){var t={};t.buttons=t.buttons||{OK:{text:"OK",click:function(){$(this).dialog("close"),player.send({extraData:{timeSpent:i.totalTime},forceSubmit:!0})}}},($("#submitButton").length||$("#pseSubmit").length)&&message(ExposeTranslation.trans("user.timeout"),t)},t)},timerCountdown:{init:function(t){this.timeLeft=t/1e3,this.display(this.calculate(this.timeLeft)),this.countdown()},add_leading_zero:function(t){return t.toString().length<2?"0"+t:t},display:function(t){$("#solve_timer_countdown").text(this.add_leading_zero(t.hours)+":"+this.add_leading_zero(t.minutes)+":"+this.add_leading_zero(t.seconds))},calculate:function(t){var e=new Object;return e.hours=Math.floor(t/3600),t%=3600,e.minutes=Math.floor(t/60),t%=60,e.seconds=Math.floor(t),e},countdown:function(){var t=this;interval=setInterval(function(){0<t.timeLeft?(t.timeLeft--,t.display(t.calculate(t.timeLeft))):clearInterval(interval)},1e3)}},timeSpentIncrement:{init:function(t){this.timeSpentIncrementMiliseconds=t,this.timeSpentIncrementInterval=null,this.start()},stop:function(){clearInterval(this.timeSpentIncrementInterval)},start:function(){var t;this.timeSpentIncrementMiliseconds&&(this.timeSpentIncrementInterval=setInterval(function(){$.ajax({url:baseUrl+"/activities/"+attemptId+"/increment_time",type:"POST",success:function(){u.startTimer()},error:v}),t=m.timeSpentIncrement.stop.bind(m.timeSpentIncrement),m.timeSpentIncrement.registerFinishCallback(t)},this.timeSpentIncrementMiliseconds))},registerFinishCallback:function(t){l.publish("time/stop",t)}}};return $(document).ready(function(){window.viewMode=window.viewMode||"solve",window.viewData=window.viewData||{};var t={},e=!!$("#submitButton").length;if(m.errorLoger(t),"solve"===window.viewMode){if(m.timeCounter(t),window.viewData.timerTimeout){var i=window.viewData.timerTimeout;0<i&&(m.timerReminder(i,t),m.timer(i,t),m.timerCountdown.init(i))}window.viewData.timeSpentIncrementMiliseconds&&!h&&(m.timeSpentIncrement.init(window.viewData.timeSpentIncrementMiliseconds),l.subscribe("time/finish",function(){p=!(f=!1)})),isPrimary||(window.timeForAutosave=window.timeForAutosave||0,t.timeForAutosave=timeForAutosave)}player.init(t),$("#submitButton, .js-activity-send-button").click(function(t){t.preventDefault(),player.send()}),$("#showModelAnswer").click(function(t){t.preventDefault(),$(this).hide()});var n=new a(s.$('<div class="ui-dialog-content"><p>'+ExposeTranslation.trans("cannot.pause")+"</p></div>"),{autoOpen:!1,buttons:{OK:{text:ExposeTranslation.trans("activity.prompt.continue"),click:function(){s.$(this).dialog("close")}}}}),r=new a(s.$('<div class="ui-dialog-content"><p>'+ExposeTranslation.trans("waiting.redirect")+"</p></div>"),{autoOpen:!1,buttons:{}});$(".js-activity-pause-button").on("click",function(){new a(s.$('<div class="ui-dialog-content"><p>'+ExposeTranslation.trans("activity.pause.warning")+"</p></div>"),{buttons:{OK:{text:ExposeTranslation.trans("audio.pause"),click:function(t){s.$(t.target).parent().find("button").prop("disabled",!0);var e=$(this);s.$.ajax({url:baseUrl+"/activities/"+attemptId+"/"+taskId+"/save_state",data:{timerTimeout:window.viewData.timerTimeout-u.getTimeDiff()},type:"POST",success:function(){player.save({_button:s.$(t.target),disableMessage:!0,onSuccess:function(){r.open(),window.location.href=baseUrl||"/"},onException:function(){e.dialog("close"),n.open()}})},error:function(){e.dialog("close"),n.open()}})}},Cancel:{text:ExposeTranslation.trans("activity.prompt.cancel"),click:function(){s.$(this).dialog("close")}}}})}),$("#save").click(function(t){if(!$("#save").hasClass("disabled")){var e={_button:$(this)};player.save(e),t.preventDefault()}});var o=function(){Object.keys(localStorage).forEach(function(t){c.MOBILE_REGEX.test(t)&&localStorage.removeItem(t)})};$("#homepage").click(function(){"report"!==window.viewMode&&e||o()}),player.onDocumentLoad(),d=$("#tocData").data("student-view-mode"),"solve"!==window.viewMode||isPrimary||!e||d||$(this).delegate("#headerMenu a[href!='#'], #footerTop a[href!='#']:not('.pagePopup'), a#exit","click",function(t){var e=t.target.href,i=t.target.id;t.preventDefault(),message(Translator.trans("activity.prompt.exit.text"),{buttons:{Exit:{text:Translator.trans("activity.exit"),click:function(){$.ajax({url:baseUrl+"/activities/"+attemptId+"/save_time",data:{timeSpent:u.getTimeDiff()},type:"POST",error:v}).done(function(){"homepage"===i&&o(),$(this).dialog("close"),window.location.href=e})}},Cancel:{text:Translator.trans("activity.continue"),click:function(){$(this).dialog("close")}}}})})}),new t});var plugins={maxZvalue:9999999,extraZvalue:1e4,tooltip:{determineElementQuarter:function(t,e){"use strict";void 0===e&&(e={left:[0,0],top:[0,0]});var i=0,n=0,r=$(".tasksWrapper"),o=r.offset(),s=r.height()/2,a=$(t).offset(),l=a.left+t.width(),c=a.top+t.height(),u=415<l-o.left?"left":"right",d=c-o.top>s?"top":"bottom",f=t.find(".feedbackContent");return 0<f.find(".hasImage").length&&(f.css("white-space","normal"),d="bottom"),{position:d+" "+u,X:i="left"===u?i+18+e.left[0]:i-18+e.left[1],Y:n="bottom"===d?n+10+e.top[0]:n-10+e.top[1]}},createCloseButton:function(e){"use strict";var t,i=e.find(".alternativeAnswersContent"),n=i.find(".closeButton").first(),r=i.width(),o=i.height(),s=i.css("z-index"),a={width:r+16,height:o+16,top:-8,left:-8,padding:i.css("padding"),"z-index":s+100};0===n.length?(t=$("<div/>",{class:"closeButton"}).css(a),i.append(t),n=t):n.show(),n.on("click",function(t){t.stopPropagation(),e.children().hide()})}},pluginSetups:function(){$.tools.tooltip.conf.effect="slide",$.tools.tooltip.conf.relative=!0},tapeScriptInit:function(){"use strict";require(["tapescript"],function(t){new t})},hideAllFeedbacks:function(){$(".buttonFeedback").each(function(){var t=$(this).data("tooltip");t.isShown(!0)&&t.hide()})},fixBigImages:function(t,e){var i=t.position().left,n=e.position().left,r=t.find(".hasImage").width(),o=$(window).width();t.css({top:"","margin-top":"30px",maxWidth:r+"px",width:""}),15<i-n?t.css("left",""):i-n<0&&t.css({left:"","margin-left":"-"+r+"px"}),o<2*r&&(t.hasClass("right")&&e.offset().left+r>o?plugins.centerImage(t,e):t.hasClass("left")&&e.offset().left-r<0&&plugins.centerImage(t,e))},centerImage:function(t,e){var i=e.position().left+e.offsetParent().position().left;t.css("margin-left","-"+i+"px")},feedbackInit:function(){$(".buttonFeedback").each(function(){var i=$(this);i.tooltipster({trigger:"click",interactive:!0,contentCloning:!1,content:i.find(".feedbackContent"),maxWidth:900,offsetX:1,offsetY:1,force:!0,functionBefore:function(t,e){e(),i.addClass("clicked")},functionAfter:function(){i.removeClass("clicked")}})})},dropdowns:function(){document.isTablet&&!isPrimary&&$("div.dropDown,div.inlineDropDown").find("select").selectbox("disable").end().find(".sbHolder").each(function(){var t=$(this),e=t.children(".sbOptions").width();t.closest("li.item").css("z-index","auto"),t.width(e+33)})},tabletDetection:function(){document.isTablet=!!$("html").hasClass("tablet")},generic:function(){$(".lt-ie9 body").css("overflowY","auto"),$("#closePreview").click(function(t){t.preventDefault(),window.close()})},essay:function(){var s,e,t=$(".essayReport"),a=0;t.innerHeight(),$(".noteContent");t.find(".answer-character").on("click",function(t){if(e=$(this),id=e.data("note-id"),s=this.id,"undefined"==typeof id)return!1;e.tooltipster({trigger:"click",multiple:!0,content:$("<h3><strong>"+errors[id].category+":</strong></h3><span>"+errors[id].comment+"</span>"),functionBefore:function(t,e){e(),a=$(".essayReport").scrollTop()}}),e.tooltipster("show")}),t.scroll(function(){var t,e,i,n,r,o=$(".tooltipster-base:visible");o.length&&(t=$(this).scrollTop(),e=a-t,a=t,i=parseInt(o.css("top")),i=parseInt(o.css("top",i+e).css("top")),r=(n=$(".essayReport").offset().top)+$(".essayReport").height(),character=$(".essayReport").find("#"+s).offset().top,(character<n||character>r)&&o.hide())})},hints:function(){var c=$(".solve .hint, .preview .hint");$(".report .hint").each(function(t,e){$(e).remove()}),c.each(function(t,s){var e=$(s),i=plugins.tooltip.determineElementQuarter(e,{left:[13,-13],top:[0,15]}),n=0<e.find(".itemAsset").length;e.find(".hint-content").addClass(i.position);var a=document.isTablet||n,r={tipClass:".hint-container",position:i.position,offset:[i.Y,i.X],onBeforeShow:function(){var t=$(s),e=0<t.find(".itemAsset").length;c.each(function(t,e){$(e).tooltip().hide()}),$(t).closest("li.item").css("z-index",plugins.maxZvalue),a=document.isTablet||e;var i=t.find(".hint-container").css("display","inline-block"),n=parseInt(i.width(),10);if(500<n&&i.css("white-space","normal"),i.width(n),a){var r=$("<div></div>",{class:"closeButton",text:ExposeTranslation.trans("activity.close"),click:function(){$(this).parent().parent().removeClass("hasClose").trigger("undefinedEvent"),$(this).remove()}});t.children(".hint-container").addClass("hasClose").children(".hint-content").append(r)}function o(t){t.css("z-index",function(t,e){var i=parseInt(e,10);$(this).css("z-index",i+plugins.maxZvalue)})}o(l.parent().parent(".drop ")),o(l.parent(".drag "))},onBeforeHide:function(){function t(t){t.css("z-index",function(t,e){var i=parseInt(e,10);$(this).css("z-index",i-plugins.maxZvalue)})}$(e).closest("li.item").css("z-index","auto"),l.find(".closeButton").remove(),t(l.parent().parent(".drop ")),t(l.parent(".drag "))}};a&&(r.events={def:"click,undefinedEvent",tooltip:"click,undefinedEvent"});var l=$(s).tooltip(r)})},alternativeAnswer:function(){$(".alternativeAnswersContent").parent(".wrongAnswer, .correctAnswer, .noAnswer, .unavailableAnswer").each(function(){var t=$(this);document.isTablet?(t.on("click",function(){plugins.tooltip.createCloseButton(t)}),t.tooltip({tipClass:".alternativeAnswersContent",position:"bottom right",offset:[12,-15],relative:"false"})):t.relativeTooltip({target:".alternativeAnswersContent"})}),$(".alternativeAnswerSpan").each(function(){var t=$(this);document.isTablet?(t.on("click",function(){plugins.tooltip.createCloseButton(t)}),t.tooltip({tipClass:".alternativeAnswersContent",position:"bottom right",offset:[-5,-8],relative:"false",delay:10})):t.relativeTooltip({target:".alternativeAnswersContent"})})},taskTooltips:function(){$(".taskTips").each(function(){var i=$(this);i.tooltipster({trigger:"click",multiple:!0,interactive:!0,contentCloning:!1,position:"bottom-right",content:i.find(".taskTipsTooltip"),maxWidth:900,offsetX:7,offsetY:-10,force:!0,functionBefore:function(t,e){e(),i.addClass("clicked")},functionAfter:function(){i.removeClass("clicked")}})})},alternativeAnswersForPreview:function(){$(function(){setTimeout(function(){$(".alternativeAnswerPreview").each(function(){var t=$(this),e=t.prev();itemOffset=e.position(),t.css({width:e.outerWidth(),top:itemOffset.top,left:itemOffset.left})}).relativeTooltip({target:".alternativeAnswersContent"})},0)})},modelAnswerInit:function(){this.showModelAnswerBtnCallback=function(t){this.modelAnswer=new t;var e=$("#showModelAnswer");e.click($.proxy(function(t){t.preventDefault(),this.modelAnswer.show(),e.hide()},this))},require(["platform/Activities/plugins/ModelAnswer"],this.showModelAnswerBtnCallback)},mediaPlayerInit:function(e){require(["platform/Activities/mediaplayer"],$.proxy(function(t){this.mediaPlayer=new t,this.mediaPlayer.init(e)},this))},prepareAndInitFeedbacks:function(){if(window.viewMode=window.viewMode||"solve","report"===viewMode){var t=$(".feedbackContent").find("img");0!==t.length?(image=new Image,image.onload=function(){this.feedbackInit($(".buttonFeedback"))}.bind(this),image.src=t[0].src):this.feedbackInit($(".buttonFeedback"))}},init:function(t){this.pluginSetups(),this.tabletDetection(),this.generic(),this.dropdowns(),this.essay(),this.hints(),this.alternativeAnswer(),this.taskTooltips(),this.alternativeAnswersForPreview(),this.modelAnswerInit(),this.prepareAndInitFeedbacks(),this.tapeScriptInit(),this.mediaPlayerInit(t)}};define("platform/Activities/frameload",["can"],function(t){"use strict";return t.Control({defaults:{gameActivity:$(".referenceObject > .game"),html5Activity:$(".referenceObject > .html5")}},{init:function(){var t,e=this.options.gameActivity,i=this.options.html5Activity,n=!!e.length,r=!!i.length;(n||r)&&(t=n?e:i,$("meta[name='viewport']").attr("content","user-scalable=no, width=960"),this.loadEvent(t))},loadEvent:function(t){window.addEventListener?window.addEventListener("load",this.addSrcToIframe(t),!1):window.attachEvent?window.attachEvent("onload",this.addSrcToIframe(t)):window.onload=this.addSrcToIframe(t)},addSrcToIframe:function(t){for(var e,i=t,n=0,r=i.length;n<r;n++)(e=$(i[n])).attr("src",e.data("src"))}})}),define("platform/Activities/activity-timer-service",[],function(){"use strict";var t=null,e=function(){t=performance.now()};return{startTimer:function(){e()},getStartTime:function(){return t},resetStartTime:function(){t=null},getTimeDiff:function(){return null==t?(e(),t):performance.now()-t}}}),define("platform/Activities/activities.constants",[],function(){"use strict";return{MOBILE_REGEX:/^mobileCourse-/}}),define("common/pagination/pagination",["can"],function(i){"use strict";return i.Control({defaults:{selectors:{all:"a.first, a.previous, a.next, a.last, button.first, button.previous, button.next, button.last",first:".first",next:".next",previous:".previous",last:".last",current:".current",total:".total"},classes:{disabled:"disabled",hidden:"hidden"},offsetName:"offset",hideElementOnDisableState:!0,limit:20,offset:0,updateContent:function(t){}}},{init:function(t,e){this.observer=new i.Observe({offset:this.options.offset,limit:this.options.limit}),t.addClass("has-pagination"),this.all=this.element.find(this.options.selectors.all),this.first=this.element.find(this.options.selectors.first),this.previous=this.element.find(this.options.selectors.previous),this.next=this.element.find(this.options.selectors.next),this.last=this.element.find(this.options.selectors.last),this.current=this.element.find(this.options.selectors.current),this.total=this.element.find(this.options.selectors.total),this.currentPagePresenter=this.element.find(".current-page-presenter")},setCount:function(t){this.observer.attr("count",t),this.refresh(!1)},refresh:function(t){i.route.attr(this.options.offsetName,this.observer.attr("offset")),this.DisableAllIfNeeded(),this.checkIfOverLimitAndToggle(),this.calculateDisableLinks(),this.updateCounter(),this.updateAriaLabels(),this.updateCurrentPagePresenter(),this.options.updateContent(this.observer),t&&this.scrollTop()},scrollTop:function(){document.getElementById("content").focus(),window.scrollTo(0,0)},checkIfOverLimitAndToggle:function(){(this.options.hideElementOnDisableState?this.element:this.all.toggleClass(this.options.classes.hidden)).toggleClass(this.options.classes.hidden,this.observer.attr("count")<=this.observer.attr("limit"))},DisableAllIfNeeded:function(){this.observer.attr("count")<this.observer.attr("limit")?this.disable(this.all):this.enable(this.all)},calculateDisableLinks:function(){this.observer.attr("offset")<this.observer.attr("limit")?(this.disable(this.previous),this.disable(this.first)):this.observer.attr("offset")>this.observer.attr("count")-this.observer.attr("limit")-1&&(this.disable(this.next),this.disable(this.last))},updateCounter:function(){this.total.text(Math.ceil(this.observer.attr("count")/this.observer.attr("limit"))),this.current.text(this.observer.attr("offset")/this.observer.attr("limit")+1)},updateAriaLabels:function(){var t=this.observer.attr("offset")/this.observer.attr("limit")+1,e=Math.ceil(this.observer.attr("count")/this.observer.attr("limit"));this.previous.attr("aria-label",1===t?"No previous page":"Go to page "+(t-1)),this.next.attr("aria-label",e===t?"No next page":"Go to page "+(t+1))},updateCurrentPagePresenter:function(){var t=this.observer.attr("offset")/this.observer.attr("limit")+1;t!==this.previousPage&&(this.currentPagePresenter.text("Current page, page "+t),this.previousPage=t)},"a.first:not(.disabled), button.first:not(.disabled) click":function(){this.observer.attr("offset",0),this.refresh(!0)},"a.previous:not(.disabled), button.previous:not(.disabled) click":function(){this.observer.attr("offset",this.observer.attr("offset")-this.observer.attr("limit")),this.refresh(!0)},"a.next:not(.disabled), button.next:not(.disabled) click":function(){this.observer.attr("offset",parseInt(this.observer.attr("offset")+this.observer.attr("limit"),10)),this.refresh(!0)},"a.last:not(.disabled), button.last:not(.disabled) click":function(){var t=this.observer.attr("count")%this.observer.attr("limit");0===t?this.observer.attr("offset",this.observer.attr("count")-this.observer.attr("limit")):this.observer.attr("offset",this.observer.attr("count")-t),this.refresh(!0)},getData:function(){return{offset:this.observer.attr("offset"),limit:this.observer.attr("limit")}},disable:function(t){return t.attr("aria-disabled",!0),t.addClass(this.options.classes.disabled)},enable:function(t){return t.attr("aria-disabled",!1),t.removeClass(this.options.classes.disabled)}})});var DragAndDropPlugin=function(){function e(t){_classCallCheck(this,e),this.selectedObject=null,this.owner=null,this.config=t,this.initDnd(t)}return _createClass(e,[{key:"addSelection",value:function(t){this.selectedObject=t,this.owner=t.parentNode}},{key:"removeSelection",value:function(){this.selectedObject=null,this.owner=null}},{key:"addTabIndexOnStartDrag",value:function(){var t=this.config.isMultipleActivitiesPerPage?document.querySelectorAll(this.config.itemsSelector):this.items,e=!0,i=!1,n=void 0;try{for(var r,o=this.possibleTargets[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s!==this.owner&&s.setAttribute("tabindex","0")}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}var a=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=u.value;f.setAttribute("tabindex","-1"),f!==this.selectedObject&&(f.setAttribute("aria-hidden","true"),f.setAttribute("role","none"))}}catch(t){l=!0,c=t}finally{try{!a&&d.return&&d.return()}finally{if(l)throw c}}var h=!0,p=!1,v=void 0;try{for(var m,g=this.otherItemsArray[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var b=m.value;b.setAttribute("aria-hidden","true"),b.setAttribute("role","none")}}catch(t){p=!0,v=t}finally{try{!h&&g.return&&g.return()}finally{if(p)throw v}}}},{key:"removeTabIndexOnEndDrag",value:function(){var t=this.config.isMultipleActivitiesPerPage?document.querySelectorAll(this.config.itemsSelector):this.items,e=!0,i=!1,n=void 0;try{for(var r,o=this.possibleTargets[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setAttribute("tabindex","-1")}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}var s=!0,a=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d.setAttribute("tabindex","0"),d.setAttribute("aria-hidden","false"),d.setAttribute("role","option")}}catch(t){a=!0,l=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw l}}var f=!0,h=!1,p=void 0;try{for(var v,m=this.otherItemsArray[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var g=v.value;g.setAttribute("aria-hidden","false"),g.setAttribute("role","option")}}catch(t){h=!0,p=t}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}}},{key:"findClosestTarget",value:function(t){return t.target.closest(this.config.targetsSelector)||t.target.closest(this.config.wordpoolSelector)}},{key:"findClosestItem",value:function(t){return t.target.closest(this.config.itemsSelector)}},{key:"styleDragStart",value:function(t){this.setStyle(t,this.styleOpactityValue);var e=!0,i=!1,n=void 0;try{for(var r,o=this.targets[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.style.backgroundColor=this.backgroundColor}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}var s=!0,a=!1,l=void 0;try{for(var c,u=this.items[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d!==t&&this.setStyle(d,"")}}catch(t){a=!0,l=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw l}}}},{key:"styleDragEnd",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.afterDropCallback){var n=this.findClosestTarget(t);this.afterDropCallback({selectedObject:this.selectedObject,isEscKey:i,dropTarget:n,targets:this.targets,announceMessage:function(t){return e.announceMessage(t)}})}var r=!0,o=!1,s=void 0;try{for(var a,l=this.items[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value;this.setStyle(c,"")}}catch(t){o=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}}},{key:"setStyle",value:function(t,e){t.style.opacity=e}},{key:"styleTargetEnter",value:function(t){t&&t.classList.add(this.stateActiveClass)}},{key:"styleTargetLeave",value:function(t){t&&t.classList.remove(this.stateActiveClass)}},{key:"restoreFocus",value:function(){this.selectedObject.setAttribute("tabindex","0"),this.selectedObject.focus()}},{key:"onDragStart",value:function(t){this.styleDragStart(t.target),this.addSelection(t.target),this.addTabIndexOnStartDrag(),this.accessibilityDraggedEvents(t),t.dataTransfer.setData("text","")}},{key:"onDragEnd",value:function(t){this.styleDragEnd(t),this.removeSelection(),this.removeTabIndexOnEndDrag(),t.preventDefault()}},{key:"onDragEnter",value:function(t){var e=this.findClosestTarget(t);this.styleTargetEnter(e),this.accessibilityFocusTarget(t)}},{key:"onDragLeave",value:function(t){var e=this.findClosestTarget(t);this.styleTargetLeave(e)}},{key:"onDragEnterItem",value:function(t){t.stopPropagation()}},{key:"onDragLeaveItem",value:function(t){t.stopPropagation()}},{key:"onDragOver",value:function(t){this.selectedObject&&t.preventDefault()}},{key:"onDragOverItem",value:function(t){this.selectedObject&&t.preventDefault(),t.stopPropagation()}},{key:"onDrop",value:function(t){t.preventDefault();var e=this.findClosestTarget(t);this.owner!==e&&e.appendChild(this.selectedObject),this.styleTargetLeave(e),this.styleDragEnd(t),this.accessibilityDroppedEvents(this.selectedObject)}},{key:"onDropItem",value:function(t){t.preventDefault(),t.stopPropagation();var e=this.findClosestTarget(t);this.owner!==e&&e.appendChild(this.selectedObject),this.styleTargetLeave(e.parentNode)}},{key:"onClickDrag",value:function(t){var e=this.findClosestItem(t);this.selectedObject||(this.accessibilityDraggedEvents(t),this.styleDragStart(e),this.addSelection(e),this.addTabIndexOnStartDrag(),this.restoreFocus(),t.stopPropagation())}},{key:"onClickDrop",value:function(t){if(this.selectedObject){this.accessibilityDroppedEvents(this.selectedObject);var e=this.findClosestTarget(t);this.owner===e||e.appendChild(this.selectedObject),this.styleDragEnd(t),this.removeSelection(),this.removeTabIndexOnEndDrag()}}},{key:"onSelectKey",value:function(t,e){if(32===t.keyCode||13===t.keyCode)if(t.preventDefault(),this.selectedObject&&this.selectedObject!==t.target)this.owner!==t.target&&t.target.appendChild(this.selectedObject),this.accessibilityDroppedEvents(this.selectedObject),this.styleDragEnd(t),this.removeSelection(),this.removeTabIndexOnEndDrag();else if(!e){var i=this.findClosestItem(t);i&&(this.styleDragStart(i),this.addSelection(i),this.addTabIndexOnStartDrag(),this.restoreFocus()),this.accessibilityDraggedEvents(t)}}},{key:"onBreakKey",value:function(t){27===t.keyCode&&this.selectedObject&&(t.preventDefault(),this.styleDragEnd(t,!0),this.restoreFocus(),this.removeSelection(),this.removeTabIndexOnEndDrag())}},{key:"handleGetTextInDropbox",value:function(t){var e="";return t.forEach(function(t){e+=t.innerText+" "}),e}},{key:"announceMessage",value:function(t){this.liveRegion.announce(t,this.liveRegionTime)}},{key:"accessibilityDroppedEvents",value:function(t){this.liveRegion.announce(t.innerText+" dropped",this.liveRegionTime)}},{key:"accessibilityDraggedEvents",value:function(t){var e=t.target.innerText;this.liveRegion.announce(e+" dragged",this.liveRegionTime)}},{key:"accessibilityFocusTarget",value:function(t){var e=t.target;if(void 0!==e.children[0]&&e!==this.wordpool[0]){var i=Array.from(e.children),n=this.handleGetTextInDropbox(i);e.classList[0]===this.drop&&this.liveRegion.announce(n+"replace",this.liveRegionTime)}}},{key:"initDnd",value:function(t){var e,i=this;this.liveRegion=new LiveRegion({ariaLive:"polite"}),this.config=t,this.liveRegionTime=500,this.drop="drop",this.dndElement=this.config.dndElement||this.object[0],this.targets=this.dndElement.querySelectorAll(this.config.targetsSelector),this.wordpool=this.dndElement.querySelectorAll(this.config.wordpoolSelector),this.items=this.dndElement.querySelectorAll(this.config.itemsSelector),this.possibleTargets=[].concat(_toConsumableArray(this.targets),_toConsumableArray(this.wordpool)),this.afterDropCallback=this.config.afterDropCallback,this.backgroundColor=this.config.backgroundColor,this.stateActiveClass=this.config.stateActiveClass,this.styleOpactityValue=this.config.styleOpactityValue;var n=!0,r=!1,o=void 0;try{for(var s,a=this.possibleTargets[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;l.addEventListener("dragenter",function(t){return i.onDragEnter(t)}),l.addEventListener("dragover",function(t){return i.onDragOver(t)}),l.addEventListener("dragleave",function(t){return i.onDragLeave(t)}),l.addEventListener("drop",function(t){return i.onDrop(t)}),l.addEventListener("click",function(t){return i.onClickDrop(t)}),l.addEventListener("keydown",function(t){return i.onSelectKey(t,!0)}),l.addEventListener("focus",function(t){return i.accessibilityFocusTarget(t)}),l.setAttribute("tabindex","-1"),this.wordpool[0]===l?(l.setAttribute("aria-label","droppable wordpool"),l.setAttribute("role","listbox")):(l.setAttribute("aria-label","Drop items here"),l.setAttribute("role","region"))}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var c=!0,u=!1,d=void 0;try{for(var f,h=this.items[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var p=f.value;p.setAttribute("draggable","true"),p.setAttribute("tabindex","0"),p.addEventListener("dragstart",function(t){return i.onDragStart(t)}),p.addEventListener("drop",function(t){return i.onDropItem(t)}),p.addEventListener("dragend",function(t){return i.onDragEnd(t)}),t.shouldPreventClickHandler||p.addEventListener("click",function(t){return i.onClickDrag(t)}),p.addEventListener("dragenter",function(t){return i.onDragEnterItem(t)}),p.addEventListener("dragover",function(t){return i.onDragOverItem(t)}),p.addEventListener("dragleave",function(t){return i.onDragLeaveItem(t)}),p.addEventListener("keydown",function(t){return i.onSelectKey(t)}),p.setAttribute("aria-label",p.innerText+" draggable"),p.setAttribute("role","option")}}catch(t){u=!0,d=t}finally{try{!c&&h.return&&h.return()}finally{if(u)throw d}}this.dndElement.addEventListener("keydown",function(t){return i.onBreakKey(t)});var v,m,g,b,y=(m=i.config.wordpoolItemsSelector.map(function(t){var e=i.dndElement.querySelectorAll(i.config.wordpoolSelector+" "+t);return Array.from(e)}),g=Array.from(i.items).map(function(t){return Array.from(t.children)}),b=[].concat(_toConsumableArray(m),_toConsumableArray(g)),(v=[]).concat.apply(v,_toConsumableArray(b))),w=this.config.wordpoolItemsSelector.map(function(t){var e=i.dndElement.querySelectorAll(""+t);return Array.from(e)});this.otherItemsArray=(e=[]).concat.apply(e,_toConsumableArray(w));var k=!0,T=!1,x=void 0;try{for(var S,C=y[Symbol.iterator]();!(k=(S=C.next()).done);k=!0){var A=S.value;A.addEventListener("dragenter",function(t){return i.onDragEnterItem(t)}),A.addEventListener("drop",function(t){return i.onDropItem(t)}),A.addEventListener("dragover",function(t){return i.onDragOverItem(t)}),A.addEventListener("dragleave",function(t){return i.onDragLeaveItem(t)})}}catch(t){T=!0,x=t}finally{try{!k&&C.return&&C.return()}finally{if(T)throw x}}var E=this.config.dndElement.querySelectorAll("img"),I=Array.from(E),D=!0,$=!1,L=void 0;try{for(var P,O=I[Symbol.iterator]();!(D=(P=O.next()).done);D=!0){P.value.setAttribute("draggable","false")}}catch(t){$=!0,L=t}finally{try{!D&&O.return&&O.return()}finally{if($)throw L}}}}]),e}(),InstructionComponent=function(){function e(t){_classCallCheck(this,e),this.elem=null,this.config=t,this.expanded=!1,this.onInit()}return _createClass(e,[{key:"onInit",value:function(){this.instruction=this.getInstructionConfiguration(),this.render()}},{key:"getDnDGeneralInstuction",value:function(){return{title:"Keyboard instructions",list:["Use the Tab key to choose the item you want to move","Use the Enter/Space bar to select the item you want to move","Use the Tab key to move to a target","Press Enter/Space bar to drop the item you selected"],ariaLabel:"Switch instruction visibility",buttonClass:"switch",titleIconId:"icon-keyboard",arrowIconId:"icon-arrow",dataId:"instruction",dataButtonId:"instruction-switch"}}},{key:"getInstructionConfiguration",value:function(){switch(this.config.instruction){case"dnd-general":return this.getDnDGeneralInstuction();default:throw"No data for this type of instruction: "+this.config.instruction}}},{key:"toggleInstruction",value:function(t){t.preventDefault(),this.expanded=!this.expanded,this.expanded?this.elem.classList.add("expanded"):this.elem.classList.remove("expanded")}},{key:"_renderButton",value:function(){var e=this,t=document.createElement("button");return t.classList.add("default-button"),t.classList.add(this.instruction.buttonClass),t.setAttribute("aria-label",this.instruction.ariaLabel),t.setAttribute("data-id",this.instruction.dataButtonId),t.addEventListener("click",function(t){return e.toggleInstruction(t)}),t.innerHTML='<svg class="'+this.instruction.arrowIconId+'" role="presentation"><use xlink:href="#'+this.instruction.arrowIconId+'"></use></svg>',t}},{key:"_renderTitle",value:function(){var t=document.createElement("h3");return t.innerHTML='<svg class="'+this.instruction.titleIconId+'" role="presentation"><use xlink:href="#'+this.instruction.titleIconId+'"></use></svg>',t.innerHTML+=""+this.instruction.title,t}},{key:"_renderList",value:function(){var i=document.createElement("ul");return this.instruction.list.forEach(function(t){var e=document.createElement("li");e.innerHTML=""+t,i.appendChild(e)}),i}},{key:"render",value:function(){var t=document.createDocumentFragment(),e=this._renderButton(),i=this._renderTitle(),n=this._renderList();i.appendChild(e),t.appendChild(i),t.appendChild(n),this.elem=document.createElement("div"),this.elem.classList.add("instruction"),this.elem.setAttribute("data-id",this.instruction.dataId),this.elem.appendChild(t)}},{key:"getElement",value:function(){return this.elem}}]),e}();function arrayKeyExists(t,e){for(key in e)if(key==t)return!0;return!1}function inArray(t,e){if("object"==(void 0===t?"undefined":_typeof(t))){for(key in e)if("object"==_typeof(e[key])&&Object.equals(e[key],t))return!0}else for(key in e)if(e[key]==t)return!0;return!1}function getKeys(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function htmlEscape(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlUnescape(t){return String(t).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#039;/g,"'").replace(/&apos;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}Element.prototype.appendAfter=function(t){t.parentNode.insertBefore(this,t.nextSibling)};
//# sourceMappingURL=scripts-inits.min.js.map